(function(z){
var lB=function(a){a.oi=!1;a.status=0;z.qA(a)};var mB=function(a,b,c,d){var f=z.L("zh-fav-head-title"),g=z.L("zh-fav-head-description-source");b=b||(f?z.pf(f):"");c=c||(g?z.pf(g):"");a.XD=d||z.Is;z.Ky(a);a.hc();z.Ly(a,1);z.P(a.qB,!1);a.lr.innerHTML="\u53d6\u6d88";a.uv.innerHTML="\u4fdd\u5b58";a.xa.kb("\u7f16\u8f91\u6536\u85cf\u5939");a.Sj.value=z.Pa(b);a.Wl.value=z.Pa(c);a.XD[1]?(z.P(a.dT,!1),z.P(a.$S,!1),z.P(a.pQ,!1)):a.dQ.setAttribute("checked",!0);a.CP=z.My(a);a.xa.G(!0);a.Sl=!0};
z.nB=function(){z.H.call(this);this.jc=this.Fq()};var oB=function(){this.tB="";this.FK=pB};var qB=function(a){a.Py=!0;a.WD=z.xh(a.m()).height;z.bu+=a.WD;z.y.forEach(z.Zo,function(a){a&&!a.Py&&a.sl&&a.up()})};var rB=function(a,b){a.cx=b};var sB=function(a){var b={};z.y.forEach(a.data.fb(),function(a){b[a]=this.data.get(a)},a);return b};var tB=function(a,b){return a.he.get(b)};var uB=function(a){return null!=a};var vB=function(){this.nk="";this.EK=wB};
var xB=function(a){return a instanceof oB&&a.constructor===oB&&a.FK===pB?a.tB:"type_error:Const"};var yB=function(){this.lI="";this.IK=zB};var AB=function(a){return 1==a.length?"0"+a:a};var BB=function(a,b,c,d,f,g){z.oc.call(this,a);this.event=c;this.Mr=g};var CB=function(a,b){return a>b};var DB=function(a,b){return a<b};var EB=function(a){return a.left||0};var FB=function(a){return a.left+a.width-1};var GB=function(a){return a.top+a.height-1};
var HB=function(a,b){var c=a.hl;return Math.abs(b.y-(c.top+(c.height-1)/2))};var IB=function(a){function b(a){if(z.ea(a))z.y.forEach(a,b);else{if(!(a instanceof z.gd)){var g=null;a.ty&&(g=a.yl());a=z.jd(z.Fa(a.Bj?a.Ng():String(a)),g)}d+=z.id(a);a=a.yl();0==c?c=a:0!=a&&c!=a&&(c=null)}}var c=0,d="";z.y.forEach(arguments,b);return z.jd(d,c)};var JB=function(a,b,c){z.Ln.call(this,a,0,c?"\u6dfb\u52a0\u7236\u8bdd\u9898":"\u6dfb\u52a0\u5b50\u8bdd\u9898");this.Uy=c;this.Af=b;this.Ls="";this.yI="/topic/parent/remove"};
var KB=function(){z.H.call(this);this.TF=0;this.Uc=[];this.il=[];this.Pw={};this.S=new z.ad(this);this.UP=this.pG=!1;this.QB=!0};var LB=function(a,b,c){b.sE=c;b.aj=void 0;a.Uc.push(b)};var MB=function(a,b){for(var c=0,d=a.Uc.length;c<d;c++){var f=a.Uc[c];f.hl=z.qh(f)}c=0;for(d=a.il.length;c<d;c++)f=a.il[c],f!=b&&(f.hl=z.qh(f))};
var NB=function(a){z.fc(a.Jb);a.Hc&&z.O(a.Hc);a.Za&&"none"==a.Za.style.display&&(a.Ht.insertBefore(a.Za,a.Zz),a.Za.style.display="");a.yw&&a.Za?z.Jg(a.Za,a.yw||[]):a.Za&&(a.Za.style.visibility="");for(var b=0,c=a.Uc.length;b<c;b++){var d=a.Uc[b];d.aj&&z.Ig(d,d.aj)}};var OB=function(a,b){return a.x>b.left&&a.x<b.left+b.width&&a.y>b.top&&a.y<b.top+b.height};var PB=function(a,b){b.all=!0;return z.av(a,b)};
var QB=function(a,b,c,d){var f=null;d&&(c&&(c=window.$.proxy(c,d)),f&&(f=window.$.proxy(f,d)));window.$.get("/node/"+a,{params:b},function(a){a&&a.r?f&&f(a):c&&c(a)})};var RB=function(a){var b=a.match(SB);if(b){a=Number(b[1]);var c=Number(b[2]),b=Number(b[3]);if(0<=a&&255>=a&&0<=c&&255>=c&&0<=b&&255>=b)return[a,c,b]}return[]};var TB=function(a){if(!UB.test(a))throw Error("'"+a+"' is not a valid hex color");4==a.length&&(a=a.replace(VB,"#$1$1$2$2$3$3"));return a.toLowerCase()};
var WB=function(a,b){return z.vm(a,b,function(){return this.Wn()})};var XB=function(a){z.Ln.call(this);this.Ie="\u4f8b\u5982\uff1a\u4e92\u8054\u7f51\u3001\u533b\u5b66\u3001\u6cd5\u5f8b\u3001\u6570\u5b66...";this.data=a||[]};
var YB=function(a){if(a.Rf)(0,window.$)(a.Rf).on("click",".del",window.$.proxy(function(a){var c=(0,window.$)(a.target).parents(".item");c.data("active")?(z.Qe(this.bn,c[0],0),z.cn(c[0])):z.O(c[0]);z.y.forEach(this.data,function(a,b){a+""===c.data("url-token")+""&&this.data.splice(b,1)},this);this.Yk();this.dispatchEvent("remove")},a))};
var ZB=function(a){if(a.bn)(0,window.$)(a.bn).on("click",".add",window.$.proxy(function(a){a=(0,window.$)(a.target).parents(".item");z.Qe(this.Rf,a[0],0);z.cn(a[0]);this.Yk();this.dispatchEvent("add")},a))};var $B=function(a){z.Ln.call(this,a,0);this.Ls="";this.kD="/topic/ignore"};var aC=function(){z.Ln.call(this,null,null,"\u641c\u7d22\u8bdd\u9898");this.Ie="";this.data=[z.Hs[0]]};var bC=function(a){return 1===a?!0:z.ea(a)?a[3]===z.V[3]:!1};
var cC=function(a,b){return window.$.post("/question/askpeople",{qid:a,uid:b,op:"remove"})};var dC=function(a,b,c,d,f){z.ul.call(this,a,[b],[c],d,f)};var eC=function(a,b,c,d,f){z.ul.call(this,a,[b],[c],d,f)};var fC=function(a,b,c,d,f){if(2!=b.length||2!=c.length)throw Error("Start and end points must be 2D");z.ul.apply(this,arguments)};
var gC=function(a){var b={};a=String(a);var c="#"==a.charAt(0)?a:"#"+a;if(UB.test(c))return b.As=TB(c),b.type="hex",b;c=RB(a);if(c.length){var d=c[0];a=c[1];c=c[2];d=Number(d);a=Number(a);c=Number(c);if((0,window.isNaN)(d)||0>d||255<d||(0,window.isNaN)(a)||0>a||255<a||(0,window.isNaN)(c)||0>c||255<c)throw Error('"('+d+","+a+","+c+'") is not a valid RGB color');d=AB(d.toString(16));a=AB(a.toString(16));c=AB(c.toString(16));b.As="#"+d+a+c;b.type="rgb";return b}if(hC&&(c=hC[a.toLowerCase()]))return b.As=
c,b.type="named",b;throw Error(a+" is not a valid color string");};var iC=function(a){if(a.altKey&&!a.ctrlKey||a.metaKey||112<=a.keyCode&&123>=a.keyCode)return!1;switch(a.keyCode){case 18:case 20:case 93:case 17:case 40:case 35:case 27:case 36:case 45:case 37:case 224:case 91:case 144:case 12:case 34:case 33:case 19:case 255:case 44:case 39:case 145:case 16:case 38:case 252:case 224:case 92:return!1;case 0:return!z.B;default:return 166>a.keyCode||183<a.keyCode}};
var jC=function(a){if(!kC.test("input"))throw Error("Invalid tag name \x3cinput\x3e.");if("INPUT"in z.ss)throw Error("Tag name \x3cinput\x3e is not allowed for SafeHtml.");var b=null,c="\x3cinput";if(a)for(var d in a){if(!kC.test(d))throw Error('Invalid attribute name "'+d+'".');var f=a[d];if(null!=f){var g;g=d;if(f instanceof oB)f=xB(f);else if("style"==g.toLowerCase()){if(!z.ia(f))throw Error('The "style" attribute requires goog.html.SafeStyle or map of style properties, '+typeof f+" given: "+f);
if(!(f instanceof z.ed)){var h="",l=void 0;for(l in f){if(!/^[-_a-zA-Z0-9]+$/.test(l))throw Error("Name allows only [-_a-zA-Z0-9], got: "+l);var n=f[l];if(null!=n){if(n instanceof oB)n=xB(n);else if(lC.test(n)){for(var p=!0,t=!0,C=0;C<n.length;C++){var I=n.charAt(C);"'"==I&&t?p=!p:'"'==I&&p&&(t=!t)}p&&t||(n="zClosurez")}else n="zClosurez";h+=l+":"+n+";"}}f=h?(new z.ed).wo(h):z.qs}f=f instanceof z.ed&&f.constructor===z.ed&&f.DK===z.fd?f.nA:"type_error:SafeStyle"}else{if(/^on/i.test(g))throw Error('Attribute "'+
g+'" requires goog.string.Const value, "'+f+'" given.');if(g.toLowerCase()in z.rs)if(f instanceof yB)f=f instanceof yB&&f.constructor===yB&&f.IK===zB?f.lI:"type_error:TrustedResourceUrl";else if(f instanceof vB)f=f instanceof vB&&f.constructor===vB&&f.EK===wB?f.nk:"type_error:SafeUrl";else if(z.q(f))f instanceof vB||(f=f.Bj?f.Ng():String(f),mC.test(f)||(f="about:invalid#zClosurez"),h=new vB,h.nk=f,f=h),f=f.Ng();else throw Error('Attribute "'+g+'" on tag "input" requires goog.html.SafeUrl, goog.string.Const, or string, value "'+
f+'" given.');}f.Bj&&(f=f.Ng());g=g+'\x3d"'+z.Fa(String(f))+'"';c+=" "+g}}d=void 0;null!=d?z.ea(d)||(d=[d]):d=[];!0===z.ps.input?c+="\x3e":(b=IB(d),c+="\x3e"+z.id(b)+"\x3c/input\x3e",b=b.yl());(a=a&&a.dir)&&(b=/^(ltr|rtl|auto)$/i.test(a)?0:null);return z.jd(c,b)};var nC=function(a){return new z.Ib(function(b,c){c(a)})};var oC=function(){z.H.call(this);this.pf="zm-pm-item"};
var pC=function(a){var b=new z.U(!0);b.on("success",function(){var a=z.ae(b);a.r?z.T(a.msg):window.location.reload()});b.ajax("/inbox/delete","type\x3dthread\x26token\x3d"+a)};var qC=function(){z.H.call(this);this.pf="zm-pm-item"};var rC=function(a){if(a.eb().length){var b=new z.dz;b.use("locationSource",{param:function(a){return{start:a[a.length-1].getAttribute("data-token")}}});b.w(a.kt)}};
var sC=function(a,b){z.Bi("\u5220\u9664\u79c1\u4fe1","\u4f60\u786e\u5b9a\u8981\u5220\u9664\u8fd9\u5c01\u79c1\u4fe1\u5417\uff1f",function(a){a&&tC(this,b)},a)};var tC=function(a,b){var c=new z.U(!0);a.v().va(c,"success",function(){var a=z.ae(c);a.r?z.T(a.msg):window.location.reload()});c.ajax("/inbox/delete","type\x3dsingle\x26token\x3d"+b)};var uC=function(a,b,c){z.Q.call(this);this.offset=this.uh=0;this.oU=c;this.bN=a;this.url=b||window.location.href;this.Xg="zm-item";this.params={}};
var vC=function(a,b){a.url=b};var wC=function(a,b){b?a.Gk.html('\x3ci class\x3d"spinner-gray"\x3e\x3c/i\x3e\u6b63\u5728\u52a0\u8f7d').prop("disabled",!0):a.Gk.html("\u66f4\u591a").prop("disabled",!1)};var xC=function(a,b){a.ws=b};var yC=function(a){var b=a.eb();a.offset=a.Ez?a.Ez(b):b.length;a.ws?(b=a.ws(),z.P(a.ec,b)):a.ec&&("-1"===a.Gk.attr("data-next")||!b||10>b.length?a.Gk.hide():a.Gk.removeClass("hidden").show())};
var zC=function(a,b,c,d){c=c||z.m;if(!a.Hh||"pending"!==a.Hh.state()){var f=a.hI(window.$.extend(a.params,{offset:a.offset,start:a.uh}));"live"!==f.start&&z.X.ya({type:"topstory_feed_more"});a.Hh=window.$.post(a.url,f).done(c).done(window.$.proxy(function(a){if(d)return d.call(this,a);this.UB&&!b?this.aB?this.bh(a):(this.Qt=a,wC(this,!1)):this.bh(a)},a));1!==a.gn&&wC(a,!0);return a.Hh}};var AC=function(a){a.dispatchEvent({data:{Go:a.Go,TB:a.TB},type:"afterload"})};
var BC=function(a){var b=a.eb(),c;if(a.oU)if(a.ec&&(c=a.ec.getAttribute("data-next")),c)a.uh=c;else if(b=z.y.vd(b))a.uh=a.dI(b)};var CC=function(a,b){z.y.forEach(b,function(a){var b=this.gk(a);this.dispatchEvent({data:{item:a,nQ:b},type:"itemcreated"})},a)};var DC=function(a,b,c){uC.call(this,a,b,c)};
var EC=function(a){var b=a.type;if(!z.ba(b))return null;switch(b.toLowerCase()){case "checkbox":case "radio":return a.checked?a.value:null;case "select-one":return b=a.selectedIndex,0<=b?a.options[b].value:null;case "select-multiple":for(var b=[],c,d=0;c=a.options[d];d++)c.selected&&b.push(c.value);return b.length?b:null;default:return z.ba(a.value)?a.value:null}};var FC=function(a,b){var c=a.elements[b];if(c){if(c.type)return EC(c);for(var d=0;d<c.length;d++){var f=EC(c[d]);if(f)return f}}return null};
var GC=function(a,b,c){var d=new z.U(!0);d.addEventListener("complete",function(){var a;try{a=z.ae(this)}catch(d){}a&&!a.r&&z.ha(b)?b.call(this,a):z.ha(c)&&c.call(this,a.msg)});d.ajax("/people/edit","data\x3d"+(0,window.encodeURIComponent)(z.xd(a)))};var HC=function(a,b){z.H.call(this);this.h=a;var c=z.$e(this.h)?this.h:this.h?this.h.body:null;this.gQ=!!c&&z.uh(c);this.MG=z.G(this.h,z.B?"DOMMouseScroll":"mousewheel",this,b)};var IC=function(a,b){return z.E&&(z.xc||z.js)&&0!=a%b?a:a/b};
var JC=function(a,b,c,d){z.sc.call(this,b);this.type="mousewheel";this.detail=a;this.deltaX=c;this.deltaY=d};var KC=function(){z.H.call(this)};var LC=function(a,b){return null==a.wk?b:a.Vo+Math.round((b-a.Vo)/a.wk)*a.wk};var MC=function(a,b){z.Q.call(this,a);this.MC=null;this.zb=new KC;this.qQ=b||z.gs;z.G(this.zb,"change",this.zF,!1,this)};
var NC=function(a,b){b?(a.v().g(a.ke,"beforedrag",a.js).g(a.Sf,"beforedrag",a.js).g(a.ke,["start","end"],a.vs).g(a.Sf,["start","end"],a.vs).g(a.vb,"key",a.kf).g(a.m(),"click",a.ss).g(a.m(),"mousedown",a.ss),a.oG&&OC(a,!0)):(a.v().pa(a.ke,"beforedrag",a.js).pa(a.Sf,"beforedrag",a.js).pa(a.ke,["start","end"],a.vs).pa(a.Sf,["start","end"],a.vs).pa(a.vb,"key",a.kf).pa(a.m(),"click",a.ss).pa(a.m(),"mousedown",a.ss),a.oG&&OC(a,!1))};
var PC=function(a,b){var c=z.jh(b,a.m());return"vertical"==a.Hb?c.y:a.be&&a.Jd()?a.m().clientWidth-c.x:c.x};var QC=function(a,b){var c=a.Ic(),d=a.Xc();if("vertical"==a.Hb){var f=a.$a.offsetHeight,g=a.m().clientHeight-f,f=PC(a,b)-f/2;return(d-c)*(g-f)/g+c}f=a.$a.offsetWidth;g=a.m().clientWidth-f;f=PC(a,b)-f/2;return(d-c)*f/g+c};var RC=function(a,b){if(b==a.$a)return a.zb.W();if(b==a.Gd)return a.zb.W()+a.zb.ei();throw Error("Illegal thumb element. Neither minThumb nor maxThumb");};
var SC=function(a,b){Math.abs(b)<a.bo()&&(b=(0,z.ts)(b)*a.bo());var c=RC(a,a.$a)+b,d=RC(a,a.Gd)+b,c=z.wv(c,a.Ic(),a.Xc()-a.ut),d=z.wv(d,a.Ic()+a.ut,a.Xc());TC(a,c,d-c)};var UC=function(a,b,c){var d=LC(a.zb,c);c=b==a.$a?d:a.zb.W();b=b==a.Gd?d:a.zb.W()+a.zb.ei();c>=a.Ic()&&b>=c+a.ut&&a.Xc()>=b&&TC(a,c,b-c)};var TC=function(a,b,c){a.Ic()<=b&&b<=a.Xc()-c&&a.ut<=c&&c<=a.Xc()-b&&(b!=a.W()||c!=a.ei())&&(a.zb.wt=!0,a.zb.nu(0),a.zb.Da(b),a.zb.nu(c),a.zb.wt=!1,a.zF())};
var VC=function(a,b){return b<=a.zb.W()+a.zb.ei()/2?a.$a:a.Gd};var WC=function(a){if(a.$a&&!a.Fo){var b=XC(a,RC(a,a.$a)),c=XC(a,RC(a,a.Gd));if("vertical"==a.Hb)a.$a.style.top=b.y+"px",a.Gd.style.top=c.y+"px",a.Vb&&(b=YC(c.y,b.y,a.$a.offsetHeight),a.Vb.style.top=b.offset+"px",a.Vb.style.height=b.size+"px");else{var d=a.be&&a.Jd()?"right":"left";a.$a.style[d]=b.x+"px";a.Gd.style[d]=c.x+"px";a.Vb&&(b=YC(b.x,c.x,a.$a.offsetWidth),a.Vb.style[d]=b.offset+"px",a.Vb.style.width=b.size+"px")}}};
var YC=function(a,b,c){var d=Math.ceil(c/2);return{offset:a+d,size:Math.max(b-a+c-2*d,0)}};var XC=function(a,b){var c=new z.oe;if(a.$a){var d=a.Ic(),f=a.Xc(),f=b==d&&d==f?0:(b-d)/(f-d);"vertical"==a.Hb?(d=a.m().clientHeight-a.$a.offsetHeight,f=Math.round(f*d),c.x=ZC(a,a.$a),c.y=d-f):(c.x=Math.round(f*(a.m().clientWidth-a.$a.offsetWidth)),c.y=a.$a.offsetTop)}return c};
var $C=function(a,b){b=z.wv(b,a.Ic(),a.Xc());a.Fo&&(a.Gn.stop(!0),a.Gn.H());var c=new z.Dq,d,f=VC(a,b),g=a.W(),h=a.ei(),l=RC(a,f),n=XC(a,l);d=a.bo();Math.abs(b-l)<d&&(b=z.wv(l+(b>l?d:-d),a.Ic(),a.Xc()));UC(a,f,b);l=XC(a,RC(a,f));d="vertical"==a.Hb?[ZC(a,f),l.y]:[l.x,f.offsetTop];n=new fC(f,[n.x,n.y],d,100);n.Of(a.be);c.add(n);a.Vb&&aD(a,f,g,h,l,c);a.MC&&(f=a.MC.cX(g,b,100),z.y.forEach(f,function(a){c.add(a)}));a.Gn=c;a.v().g(c,"end",a.dN);a.Fo=!0;c.play(!1)};
var aD=function(a,b,c,d,f,g){var h=XC(a,c),l=XC(a,c+d);c=h;d=l;b==a.$a?c=f:d=f;"vertical"==a.Hb?(b=YC(l.y,h.y,a.$a.offsetHeight),h=YC(d.y,c.y,a.$a.offsetHeight),f=new fC(a.Vb,[ZC(a,a.Vb),b.offset],[ZC(a,a.Vb),h.offset],100),b=new dC(a.Vb,b.size,h.size,100)):(b=YC(h.x,l.x,a.$a.offsetWidth),h=YC(c.x,d.x,a.$a.offsetWidth),f=new fC(a.Vb,[b.offset,a.Vb.offsetTop],[h.offset,a.Vb.offsetTop],100),b=new eC(a.Vb,b.size,h.size,100));f.Of(a.be);b.Of(a.be);g.add(f);g.add(b)};
var bD=function(a){var b=a.m();b&&(z.yg(b,"valuemin",a.Ic()),z.yg(b,"valuemax",a.Xc()),z.yg(b,"valuenow",a.W()),z.yg(b,"valuetext",a.qQ(a.W())||""))};var OC=function(a,b){b?(a.$j||(a.$j=new HC(a.m())),a.v().g(a.$j,"mousewheel",a.uF)):a.v().pa(a.$j,"mousewheel",a.uF)};var ZC=function(a,b){return a.be?z.Eh(b):b.offsetLeft};var cD=function(a,b){MC.call(this,a,b);this.zb.nu(0)};var dD=function(a){z.Q.call(this);this.options=window.$.extend({},this.defaults,a)};
var eD=function(a,b){a.zoom=b;fD(a,a.Ke.rq/2+a.Ke.x,a.Ke.co/2+a.Ke.y)};var fD=function(a,b,c){var d=a.zoom;a.Ke={rq:a.options.og/d,co:a.options.ng/d,x:b-a.options.og/d/2,y:c-a.options.ng/d/2};gD(a)};
var gD=function(a){var b=a.zoom,c=z.wv(a.options.Um-a.Ke.x*b,a.options.og+a.options.Um-a.Es*b,a.options.Um),d=z.wv(a.options.Vm-a.Ke.y*b,a.options.ng+a.options.Vm-a.Ds*b,a.options.Vm),f={width:b*a.Es,height:b*a.Ds,left:c,top:d};a.wq.css(f);a.fv.css(f);a.Ke.x=(a.options.Um-c)/b;a.Ke.y=(a.options.Vm-d)/b};var hD=function(a,b,c){z.Q.call(this);this.Vq=a||iD;this.CE=b;this.II=c||"l"};var jD=function(){return!!window.FileReader};
var kD=function(a){a.Pl=a.ry=a.Aj="";if(a.$e)a.$e.ca();else{a.$e=new z.vi(null,!1);a.$e.kb("\u4fee\u6539\u56fe\u7247");var b=z.Qs.Ve,c=z.Qs.ug,d=new z.si;d.set(b,"\u53d6\u6d88",!1,!0).set(c,"\u786e\u5b9a",!0);z.pi(a.$e,d);a.v().g(a.$e,z.ri,function(a){if(a.key===c){if(jD()){var b=this.ww;a=(0,window.$)("\x3ccanvas\x3e\x3c/canvas\x3e");a.attr("width",b.options.og);a.attr("height",b.options.ng);var d=a[0];(0,window.$)(window.document.body).append(d);var l=a[0].getContext("2d"),n=b.Ke;l.drawImage(b.Fs,
n.x,n.y,n.rq,n.co,0,0,b.options.og,b.options.ng);b=d.toDataURL("image/png");a.remove();a=b}else a=this.ww.Ke;this.Aj=a;lD(this);this.$e.G(!1);return!1}})}mD(a.$e.Y());a.$e.G(!0);z.S.add(a.$e.h,"avatar-edit-dialog")};var nD=function(a){var b=a.input.cloneNode();z.Re(b,a.input);a.input=b;a.v().g(a.input,"change",a.Lc)};
var lD=function(a){if(a.Aj&&(jD()||a.ry)){a.dispatchEvent("beforepost");var b={type:a.Vq,dest_id:a.Vq===iD?z.V[3]:a.CE,return_size:a.II};if(jD()){var c=new window.FormData;c.append("handle_mode","upload");c.append("picture",oD(a.Aj.replace(/data\:image\/\w{3,4};base64,/,"")),a.file.name);window.$.each(b,function(a,b){c.append(a,b)});window.$.ajax({url:a.RB,data:c,method:"post",processData:!1,contentType:!1,success:window.$.proxy(a.SD,a),dataType:"json",xhrFields:{withCredentials:!0},crossDomain:!0})}else{var b=
window.$.extend(b,{handle_mode:"resize",x:Math.round(a.Aj.x),y:Math.round(a.Aj.y),height:Math.round(a.Aj.co),width:Math.round(a.Aj.rq),hashval:a.ry}),d='\x3cform target\x3d"av_up_frame" style\x3d"display:none;" method\x3d"post" action\x3d"'+a.RB+'"\x3e';window.$.each(b,function(a,b){d+='\x3cinput type\x3d"hidden" name\x3d"'+a+'" value\x3d"'+b+'" /\x3e'});d+="\x3c/form\x3e";b=(0,window.$)(d);b.appendTo(a.h);b[0].submit()}}};
var mD=function(a){var b=(0,window.$)("\x3cdiv class\x3d'new-avatar-editor-loading'\x3e\x3cdiv\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv\x3e\u6b63\u5728\u4e0a\u4f20...\x3c/div\x3e\x3c/div\x3e");a=(0,window.$)(a);a.html("");a.append(b)};var oD=function(a){var b,c;c="image/png";b=b||512;a=(0,window.atob)(a);for(var d=[],f=0;f<a.length;f+=b){for(var g=a.slice(f,f+b),h=Array(g.length),l=0;l<g.length;l++)h[l]=g.charCodeAt(l);g=new window.Uint8Array(h);d.push(g)}return new window.Blob(d,{type:c})};
var pD=function(a){z.Q.call(this);this.IS=a};var qD=function(a){return z.y.every(a.oe,function(a){return!!a.value})};var rD=function(a,b,c,d,f){this.sd=a=new z.il(a,!f);c=new z.Gl(c);d=new z.Ok(null,null,!!d,300);z.Bk.call(this,a,c,d);d.aa=this;d.Nk(b);(d=b.getAttribute("placeholder"))&&new z.Ql(b,d)};var sD=function(){z.Q.call(this)};
var tD=function(a){var b=z.M("profile-edit-avatar-btn"),c=(0,window.$)(".zm-profile-details-editform-avatar .avatar",a.h);if(b){a.Ov=new hD(iD);var d=a.Ov;d.w(b);a.v().g(a.Ov,"beforepost",function(){c.parent().append((0,window.$)('\x3cdiv class\x3d"avatar-edit-preview-loading"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e'))});a.v().g(a.Ov,"success",function(){window.$.post("/node/ProfileHeaderV2",{method:"save",params:{data:{avatar_path:d.getData().id}}},function(a){a&&a.r?((0,window.$)(".avatar-edit-preview-loading").remove(),
z.T("\u66f4\u65b0\u5931\u8d25")):((0,window.$)(".avatar-edit-preview-loading").remove(),c.attr({src:d.ul("l"),srcset:d.ul("xl")+" 2x"}))})})}};var uD=function(){z.H.call(this);this.eI={}};var vD=function(){this.cj="editing";z.Q.call(this)};var wD=function(a,b,c){z.cs.nb&&null==window.navigator.userAgent.match(/iPad/i)||(a=(0,window.$)(".item",a.K).index(b),b.siblings().eq(a-a%2).height(c?"auto":b.height()))};var xD=function(){z.Q.call(this)};var yD=function(){z.Q.call(this)};
var zD=function(){z.H.call(this);this.Xg="zm-item";this.RT=!0};var AD=function(a,b){a.v().g(b,"next",a.refresh)};var BD=function(){this.tx=["zg-btn-follow","zg-btn-unfollow"];this.ux="people"};z.CD=function(a){z.H.call(this);this.na=null;this.h=a;a=z.D||z.jc||z.E&&!z.F("531")&&"TEXTAREA"==a.tagName;this.S=new z.ad(this);this.S.g(this.h,a?["keydown","paste","cut","drop","input"]:"input",this)};var DD=function(a){null!=a.na&&(z.$c(a.na),a.na=null)};
var ED=function(a){a=new z.sc(a.lc);a.type="input";return a};var FD=function(a,b,c,d){z.H.call(this);this.ai=a;this.xE=b;this.rt=c;this.SM=d||GD;a.removeAttribute("maxlength");this.Iy=new z.CD(a);z.G(this.Iy,"input",this.Kz,!1,this);this.Yk()};var HD=function(a){z.H.call(this);this.xa=null;this.la=a;this.eu=0;this.nI=""};var ID=function(a,b){var c=z.ye("zm-menu-item-link",a.VH);z.y.forEach(c,function(a,c){var g=!z.y.contains(b,c);z.P(a,g)},a)};var JD=function(){z.H.call(this)};
var KD=function(a){function b(){var b;LD||(LD=new JD,LD.init());b=LD;b.Si=a;b.MK=a.id.split("-")[1];b.show()}function c(b){if(!a.getAttribute("data-disabled")){var c;MD||(MD=new HD,MD.init());c=MD;c.Si=a;c.la=a.id.split("-")[1];"redirect"===b?c.show():(z.Gi("/question/unredirect",null,"POST","qid\x3d"+c.la+"\x26rqid\x3d"+c.eu),c.Si.innerHTML="\u91cd\u5b9a\u5411\u5df2\u64a4\u9500",c.Si.setAttribute("data-disabled",1))}}function d(){function b(){var f=d.value,g=a.getAttribute("id").split("-")[1],f=
(new z.bl).add("revision",g).add("reason",f),t=new z.U(!0);t.on("success",function(){var a=z.ae(t);a.r?z.T(a.msg):(c.G(!1),a.msg?window.location.href=a.msg:window.location.reload())});t.ajax("/revert",f.toString())}var c=z.Bi("\u64a4\u9500",'\x3cdiv class\x3d"zg-form-text-input"\x3e\x3ctextarea class\x3d"zg-editor-input content" title\x3d"\u8bf7\u8f93\u5165\u64a4\u9500\u539f\u56e0" placeholder\x3d"\u8bf7\u8f93\u5165\u64a4\u9500\u539f\u56e0"\x3e\x3c/textarea\x3e\x3c/div\x3e',function(a){if(a)return b(),
!1}),d=z.M("content",c.Y());new z.Ql(d);new z.un(d);new FD(d,null,200)}var f=a&&a.name;if(f)switch(f){case "adminflag":b();break;case "redirect":case "cancel_redirect":c(f);break;case "revert":d()}};var ND=function(a){(0,window.$)(a).on("click",'a[name\x3d"revert"]',function(){KD(this)})};var OD=function(){z.Q.call(this)};
var PD=function(a){var b=z.L("zh-profile-ask-list");if(b){var c=new z.dz({use:["autoload","locationSource"],ig:!1});a.L(c);c.w(b);if(a=z.M("zm-profile-section-list"))b=new zD,b.Fi("zm-profile-section-item"),AD(b,c),b.init(a)}};var QD=function(a){var b=(0,window.$)("#zh-profile-log-list").get(0);if(b){var c=new z.dz;c.use("locationSource",{Kt:!0});a.L(c);c.w(b);ND(b);(0,window.$)(b).on("click",'a[name\x3d"report"]',function(){(new z.ax("activity",(0,window.$)(this).data("id"))).submit();return!1})}};
var RD=function(a){var b=(0,window.$)("#zh-profile-fav-list \x3e .zh-general-list").get(0);if(b){var c=new z.dz({use:["autoload","nodeSource"],ig:!1});a.L(c);c.w(b)}};
var SD=function(a){var b=z.L("zh-profile-topic-list");if(b){var c=new z.dz({use:["autoload","locationSource"]});a.L(c);a.v().g(c,"itemcreated",function(a){a=a.item;var b=a.getAttribute("data-tid").split("-")[1];if(z.V.qf===z.Yp[3]){var c=new z.zp(!0,"/topic/bio/update","bio");c.Ou=!0;c.params=["tid\x3d"+b];c.Sb='\x3ca href\x3d"javascript:;" name\x3d"edit"\x3e\u6dfb\u52a0\u4f60\u5728\u8be5\u8bdd\u9898\u7684\u7ecf\u9a8c\x3c/a\x3e';c.w(a)}});c.w(b);if(a=z.M("zm-profile-section-list"))b=new zD,b.Fi("zm-profile-section-item"),
AD(b,c),b.init(a)}};var TD=function(a){var b=(0,window.$)("#zh-profile-column-list \x3e .zh-general-list").get(0);if(b){var c=new z.dz({use:["autoload","nodeSource"]});a.L(c);c.w(b)}};var UD=function(a){var b=(0,window.$)("#zh-profile-follows-list \x3e .zh-general-list").get(0);if(b){var c=new z.dz({use:["autoload","nodeSource"]});a.L(c);c.w(b)}};var VD=function(a){var b=(0,window.$)("#zh-profile-follows-list-old").get(0);if(b){var c=new z.dz({use:["autoload","locationSource"]});a.L(c);c.w(b)}};
var WD=function(a){var b=(0,window.$)("#zh-profile-answer-list \x3e .zh-general-list").get(0)||(0,window.$)("#zh-profile-answer-list").get(0);if(b){var c=new z.dz({ig:!1});a.L(c);c.use("childConstructor",{bl:z.vA}).use("expandLimit");c.w(b);a.v().g(c,"click!",function(a){"comment"===a.namespace&&a.Pc.fill("category","profile").fill("label","profile_answers_list")});if(a=z.M("zm-profile-section-list"))b=new zD,AD(b,c),b.init(a)}};
var XD=function(a){var b=z.L("zh-profile-page-force-to-rename");(a.vx=b)&&a.v().g(b,"click",a.ZU)};var YD=function(a){var b=z.L("zh-profile-activity-wrap");b&&a.v().g(b,"click",function(a){if((a=a.target)&&"focus"===a.name){var b=a.getAttribute("data-type");(0,z.gu)(a,b,null,["zm-profile-follow-link-gray","zm-profile-unfollow-link-gray"])}})};
var ZD=function(a){var b=z.L("zh-profile-activity-page-list");if(b){var c=new z.dz({use:["expandLimit"],ig:!0});c.use("locationSource",{url:"/people/"+z.Yp[1]+"/activities",Vl:10,param:function(a){return{start:z.y.vd(a).getAttribute("data-time")}}});c.use("childConstructor",{factory:z.DA});a.L(c);c.w(b);a.v().g(c,"click!",function(a){"comment"===a.namespace&&a.Pc.fill("category","profile").fill("label","profile_feed")})}};
var $D=function(){var a=z.M("zm-profile-header-operation");a&&(new BD).w(a);(a=z.M("zm-profile-header"))&&(new xD).w(a)};
var aE=function(a){var b=z.M("zm-profile-answer-sort");b&&(a.Lh=new z.Mw,a.Lh.Fa(a.mL=new z.Hw("\u6309\u65f6\u95f4\u6392\u5e8f")),a.Lh.Fa(a.nL=new z.Hw("\u6309\u6295\u7968\u6392\u5e8f")),a.Lh.Fa(a.lL=new z.Hw("\u95ee"+z.V[0]+"\u7684\u95ee\u9898")),a.Lh.fa(b),a.Lh.G(!1),a.v().g(b,"click",function(a){this.Lh.G(!0);a.stopPropagation();this.v().va(window.document,"click",function(){this.Lh.G(!1)})}),a.v().g(a.Lh,"action",a.NO))};
var bE=function(a,b){var c=new z.U(!0);a.v().va(c,"complete",function(){window.location.reload()});c.ajax("/people/"+z.Yp[1]+"/block","action\x3d"+(b?"add":"cancel"))};var cE=function(){var a=z.L("zm-profile-details-editform");a&&(new sD).w(a)};var dE=function(a){var b=z.M("zm-profile-fav-wrap");b&&a.v().g(b,"click",a.hN)};
var eE=function(a){a.JA=z.L("zh-profile-search-form");if(a.JA){fE(a);a.rk=a.JA.getAttribute("data_type");a.v().g(a.JA,"submit",a.search);z.G(window,"popstate",function(a){a=a.state;var b;a&&a.q&&(b=z.L("zh-profile-search-query"),b.value=(0,window.decodeURIComponent)(a.q),gE(this,a.type),this.search(void 0,!1),b.focus())},!1,a);var b=(new z.Wk(window.location)).od().get("pq"),c=(new z.Wk(window.location)).od().get("type");c||(c="all");if(b&&c){var d=z.L("zh-profile-search-info");d&&z.P(d,!0);gE(a,
c);z.L("zh-profile-search-query").value=b;a.search(void 0,void 0,!1)}}};var fE=function(a){var b=z.L("zh-profile-search-type");b&&a.v().g(b,"click",a.$R)};var gE=function(a,b){var c=z.ye("zm-profile-search-type-item");if(c)for(var d=0;d<c.length;d++)z.S.remove(c[d],"current"),c[d].name===b&&z.S.add(c[d],"current");a.rk=b};var hE=function(){var a=z.L("zh-profile-edit-expert");a&&(new iE).w(a)};
var jE=function(a){var b=z.M("profile-expert-tip");b&&a.v().g(b,"click",function(a){var d=a.target;"enable"!==d.name&&"close"!==d.name||window.$.post("/node/ProfileExpertTopicsV2",{method:d.name},function(a){a&&a.r||("enable"===d.name?window.location.href="/people/edit/expert":z.Wm(b,!0))})});(0,window.$)(".zm-profile-section-wrap.skilled-topics").each(function(){(new vD).w(this)});(0,window.$)(".zm-profile-module.skilled-topics").each(function(){(new vD).w(this)});(0,window.$)(".zm-profile-module.active-topics").each(function(){(new vD).w(this)})};
var iE=function(){z.Q.call(this)};var kE=function(){z.Q.call(this)};var lE=function(a){var b=window.$.Deferred();z.Bi("\u53d6\u6d88\u5c4f\u853d",a,function(a){a?b.resolve():b.reject()});return b.promise()};
var mE=function(a){var b=(0,window.$)(".blocked-users",a.m());if(b.length)(0,window.$)(".item",b).on("click",".js-unblock",function(a){var d=(0,window.$)(a.delegateTarget);lE("\u53d6\u6d88\u5c4f\u853d\u4e4b\u540e\uff0c\u5bf9\u65b9\u5c06\u53ef\u4ee5\uff1a\u5173\u6ce8\u4f60\u3001\u7ed9\u4f60\u53d1\u79c1\u4fe1\u3001\u5411\u4f60\u63d0\u95ee\u3001\u8bc4\u8bba\u4f60\u7684\u7b54\u6848\u3001\u9080\u8bf7\u4f60\u56de\u7b54\u95ee\u9898\u3002").then(function(){return window.$.post("/settings/unblockuser",{uid:d.data("id")})}).then(function(){d.fadeOut(function(){d.remove()});
b.children().length||window.location.reload()})})};
var nE=function(a){var b=(0,window.$)(".blocked-columns",a.m());if(b.length)(0,window.$)(".item",b).on("click",".js-unblock",function(a){var d=(0,window.$)(a.delegateTarget);lE("\u53d6\u6d88\u5c4f\u853d\u4e4b\u540e\uff0c\u4f60\u5c06\u53ef\u4ee5\u770b\u5230\u6765\u81ea\u8be5\u4e13\u680f\u7684\u6587\u7ae0\u3002").then(function(){return window.$.post("/settings/unblockcolumn",{id:d.data("id")})}).then(function(){d.fadeOut(function(){d.remove()});b.children().length||window.location.reload()})})};
var oE=function(){z.Q.call(this)};
var pE=function(){function a(a,b){var c={method:"save",params:{settings:a}};window.$.extend(c.params,f);window.$.post("/node/NotiEmailSettingsV2",c,function(a){var c;a.r?c="error":(b&&b(),c="success");var d=(0,window.$)(".settings-msg-"+c);d.length?d.show():(d=(0,window.$)('\x3cdiv class\x3d"settings-msg-'+c+'"\x3e'+a.msg+"\x3c/div\x3e"),d.appendTo((0,window.$)("body")));d.delay(1E3).fadeOut()})}var b=z.nj.hasEmail,c=z.nj.mailActivated,d=!1,f=z.nj.settings_unsubscribe_formdata;f||(d=!c);(0,window.$)('.settings-receive input[type\x3d"radio"]').on("change",
function(){if(this.checked){var b=(0,window.$)(this),c={type:b.closest(".settings-item").data("type"),noti:b.val()};"no"===c.noti?a(c,function(){b.closest(".settings-receive").next(".settings-mail").addClass("disabled").find('input[type\x3d"checkbox"]').prop("disabled",!0)}):a(c,function(){b.closest(".settings-receive").next(".settings-mail").removeClass("disabled").find('input[type\x3d"checkbox"]').prop("disabled",!1)})}});(0,window.$)('.settings-mail input[type\x3d"checkbox"]').on("click",function(a){d&&
(a.preventDefault(),a="\u6fc0\u6d3b",b||(a="\u7ed1\u5b9a"),z.Bi({title:"\u63d0\u793a",content:"\u5f00\u542f\u901a\u77e5\u90ae\u4ef6\u524d\uff0c\u8bf7\u5148"+a+"\u90ae\u7bb1\u3002",buttons:["\u53d6\u6d88","\u53bb"+a+"\u90ae\u7bb1"]},function(a){a&&window.open("/settings/account")}))});(0,window.$)('.settings-mail input[type\x3d"checkbox"]').on("change",function(){if(!d){var b={type:(0,window.$)(this).closest(".settings-item").data("type"),mail:this.checked};a(b)}});(0,window.$)("#settings-fast-answer").on("change",
function(){var b={type:(0,window.$)(this).closest(".settings-item").data("type"),fast:this.checked};a(b)});(0,window.$)(".settings-msg-disappear").delay(3E3).fadeOut()};
var qE=function(){var a=(0,window.$)(".js-ajax-form");a.submit(function(b){var d=(0,window.$)(b.target);b=d.attr("action")||window.location.href;window.$.post(b,d.serialize()).done(function(b){z.Vr(z.A.Ma(b),5E3);d.hasClass("unsubscribe")&&(a.remove(),(0,window.$)(".settings-section").remove())});return!1});(0,window.$)(".js-unsubscribe-other-reason").on("change",function(a){(0,window.$)(a.target).parent().siblings().find(".zg-form-text-input").toggle()});var b=(0,window.$)(".feedback-form");b.submit(function(){var a=
b.attr("action");window.$.post(a,b.serialize()).done(function(){b.before('\x3cdiv style\x3d"font-size:13px;color:black;margin-bottom:20px"\x3e\u611f\u8c22\u60a8\u7684\u53cd\u9988\uff01\x3c/div\x3e\x3ca href\x3d"/"\x3e\x26laquo; \u8fd4\u56de\u77e5\u4e4e\x3c/a\x3e');b.remove()});return!1})};
var rE=function(){var a=(0,window.$)("#js-form-account-password");a.length&&((0,window.$)("input[placeholder]",a).each(function(){new z.Ql(this)}),a.validate({messages:{np:{required:'\x3ci class\x3d"icon icon-validate-error"\x3e\x3c/i\x3e\u65b0\u5bc6\u7801\u672a\u586b\u5199'},op:{required:'\x3ci class\x3d"icon icon-validate-error"\x3e\x3c/i\x3e\u65e7\u5bc6\u7801\u672a\u586b\u5199'},rp:{required:'\x3ci class\x3d"icon icon-validate-error"\x3e\x3c/i\x3e\u786e\u8ba4\u5bc6\u7801\u672a\u586b\u5199'}},errorClass:"validate-error"}))};
var sE=function(){(0,window.$)("#weibopageenable").on("change",function(a){window.$.post("/node/SettingsWeiboPageV2",{method:a.target.checked?"enable":"disable"}).done(function(a){a.r?z.T(a.msg):z.Vr([!1,"\u4fdd\u5b58\u6210\u529f"])});return!1})};var tE=function(){var a=z.L("zh-setting-page-black-list-wrap");a&&(new kE).w(a)};
var uE=function(){var a=(0,window.$)("#js-settings-account-form");if(a.length){var b=(0,window.$)("#url_token"),c=(0,window.$)("#js-url-preview .token");b.on("input change keyup",function(){c.text(window.$.trim(this.value))});vE(a);var b=new z.wr,d=(0,window.$)(".rename-tab",a);b.w(d.get(0));var f=function(){(0,window.$)("input[placeholder]:visible",d).placeholder()};b.on("select",f);var g=(0,window.$)(".rename-button",a),a=z.vm(function(){g.remove();d.removeClass("hidden");f()},{Ga:!0,kd:!0});g.one("click",
a);"#rename-section"===window.location.hash&&a()}};var vE=function(a){(0,window.$)(".zg-form-text-input",a).each(function(){function a(){this.value!==this.defaultValue&&(d.hide(),c.off("change input keyup",a))}var c=(0,window.$)(this),d=c.next(".validate-error");if(d.length)c.on("change input keyup",a)})};var wE=function(a,b,c,d,f){uC.call(this,a,b,f);this.rx=c||"people";this.oN=d||["zg-follow","zg-unfollow"]};
var xE=function(a,b,c,d){z.H.call(this);this.h=a;this.rx=b||"people";this.nN=c||["zg-btn-follow","zg-btn-unfollow"];this.text=d||["\u5173\u6ce8","\u53d6\u6d88\u5173\u6ce8"]};var yE=function(a){z.H.call(this);this.url=a||"/topic"};
var zE=function(a,b,c){var d=c[0],f="";"topic"!==d[0]&&d[3]&&(f='data-parent\x3d"'+d[3]+'"');b.html('\x3ca href\x3d"'+("topic"===d[0]?"/topic/"+d[2]+"/organize/entire":"javascript:;")+'" data-token\x3d"'+d[2]+'" '+f+' name\x3d"'+d[0]+'"\x3e'+d[1]+"\x3c/a\x3e\x3cul class\x3d'zm-topic-organize-list'\x3e\x3c/ul\x3e");"topic"!==c[0][0]&&b.addClass("zm-topic-organize-loadmore");b=(0,window.$)("ul",(0,window.$)(b));if(1<c.length)for(c=c[1],d=0;d<c.length;d++){var f=c[d],g=(0,window.$)("\x3cli\x3e").addClass("zm-topic-organize-item");
b.append(g);zE(a,g,f)}};
var AE=function(a){var b={fq:!1,NX:!1};return function(c){if(!1===c)return!1;c={};z.A.extend(c,b,a||{});if(c.fq&&!z.V.ys)return z.Fi("\u63d0\u793a\u4fe1\u606f",'\x3ca href\x3d"/question/23261456" target\x3d"_blank"\x3e\u5982\u4f55\u53c2\u4e0e\u77e5\u4e4e\u8bdd\u9898\u7684\u516c\u5171\u7f16\u8f91\uff1f\x3c/a\x3e'),!1;if(c.nm&&!z.Es.ZM)return z.Fi("\u63d0\u793a\u4fe1\u606f",'\x3cp\x3e\u521b\u5efa\u8f83\u4e45\u6216\u5df2\u6709\u8f83\u591a\u8ba8\u8bba\u7684\u95ee\u9898\u9650\u5236\u516c\u5171\u7f16\u8f91\x3c/p\x3e\x3cp\x3e\x3ca href\x3d"/question/24501563" target\x3d"_blank"\x3e\u5982\u4f55\u53c2\u4e0e\u95ee\u9898\u516c\u5171\u7f16\u8f91\uff1f\x3c/a\x3e\x3c/p\x3e'),!1}};
var BE=function(a,b,c){z.zp.call(this,a,b,c)};var CE=function(){z.Q.call(this);var a=z.Hs;this.Af=a[0][3];this.HB=a[0];this.mn=a[4];this.Ry=a[5];this.eh="topic"};var DE=function(){var a=z.L("zh-topic-log-list");a&&((new wE(a,null,null,null,!0)).init(),(0,window.$)(a).on("click",'a[name\x3d"revert"]',z.lb(function(a){!1!==a&&KD(this)},AE({fq:!0}))).on("click",'.zm-item-meta a[name\x3d"report"]',function(){(new z.ax("activity",(0,window.$)(this).data("id"))).submit();return!1}))};
var EE=function(a){if(z.L("zh-topic-admin-page-wrap")){var b=z.L("zh-topic-del-btn");b&&a.v().g(b,"click",a.uR)}};var FE=function(a,b){var c=z.we("li",null,a.Cv);z.y.forEach(c,function(a){a.getAttribute("data-token")===b[1]&&z.P(a,!1)})};var GE=function(a){var b=z.L("zh-topic-followers-list-wrap");b&&(a=["/topic",(0,window.encodeURI)(a.HB[1]),"followers"].join("/"),b=new wE(b,a,null,["zg-btn-follow","zg-btn-unfollow"],!0),b.Fi("zm-person-item"),b.init())};
var HE=function(a){var b=z.L("zh-topic-side-head");if(b){var c=z.M("zu-entry-focus-button",b);c&&a.v().g(c,"click",function(){(0,z.gu)(c,"topic","",["zg-btn-green","zg-btn-white"])});a.ag=z.L("zh-topic-operation-menu");a.ag&&a.v().g(a.ag,"click",a.bB)}if(b=z.L("zh-current-topic-bio")){var d=new z.zp(!0,"/topic/bio/update","bio");z.Qu(d,["tid\x3d"+a.Af]);d.Sb='\x3ca href\x3d"javascript:;" name\x3d"edit"\x3e\u4f60\u5728 '+a.HB[0]+" \u8bdd\u9898\u4e2d\u7684\u7ecf\u9a8c\x3c/a\x3e";d.jE=!0;d.w(b)}};
var IE=function(a){z.Me(a,z.Je('\x3ca href\x3d"/question/23261456" class\x3d"zg-link-gray-normal"\x3e\x3ci class\x3d"icon-info" style\x3d"vertical-align: -3px; margin-right: 6px"\x3e\x3c/i\x3e\u5982\u4f55\u53c2\u4e0e\u77e5\u4e4e\u8bdd\u9898\u7684\u516c\u5171\u7f16\u8f91\uff1f\x3c/a\x3e'))};
var JE=function(a){if(z.L("zh-topic-organize-page-wrap")){var b=z.L("zh-topic-organize-parent-editor");if(b)if(z.V.ys){var c=new JB(null,a.Af,!0);c.zt=!0;c.w(b);c.addEventListener("remove_tag",function(a){(a=a.data&&a.data.id)&&(0,window.$)("#wedge-"+a).remove()})}else IE(b);if(b=z.L("zh-topic-organize-child-editor"))z.V.ys?(c=new JB(null,a.Af,!1),c.zt=!0,c.w(b),(0,window.$)("a.entire-link").insertAfter(c.On).show()):IE(b);(0,window.$)("#zm-topic-manage-relation").on("change",'[type\x3d"checkbox"]',
function(){var a=(0,window.$)(this).closest("li").attr("id").split("-")[1];window.$.post("/topic/update",{action:"set_topic_edge",parent_topic_id:a,topic_id:z.Hs[0][3],edge:this.checked^0}).done(function(a){a&&a.msg&&z.T(a.msg)})});a.Bv=z.L("zh-topic-alias-input");new z.Ql(a.Bv,"\u8f93\u5165\u8bdd\u9898\u522b\u540d");a.Cv=z.L("zh-topic-alias-list");a.v().g(z.L("zh-topic-alias-container"),"click",a.lS);if(b=z.L("zh-topic-merge"))a.Ia=new aC,a.Ia.w(b);(b=z.L("zh-topic-merge-btn"))&&a.v().g(b,"click",
a.MR)}};var KE=function(){var a=z.L("zh-topic-organize-page-children");a&&(new yE("/topic/"+(0,window.encodeURIComponent)(z.Hs[0][1])+"/organize/entire")).w(a)};var LE=function(a){var b=z.L("zh-topic-side-related-topics");b&&(a.nT=b,a.xA=new z.U(!1),a.v().g(a.xA,"complete",a.VR),a.xA.ajax("/topic/related?tid\x3d"+a.Af))};
var ME=function(a){if(z.Mr)(0,window.$)("div.topic-avatar").addClass("disabled");else{var b=z.M("zm-entry-head-avatar-edit-button");if(b){var c=new hD(2,z.Hs[0][3]);c.w(b);var d=z.M("zm-avatar-editor-preview");z.G(c,"beforepost",function(){(0,window.$)("\x3cdiv class\x3d'avatar-edit-preview-loading topic'\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e").appendTo(d.parentNode)});z.G(c,"success",function(){window.$.post("/topic/"+z.Hs[0][1]+"/avatar",{avatar_path:c.getData().url}).then(function(a){a&&a.r?
z.T(a.msg):d&&(d.src=c.getData().url)}).always(function(){(0,window.$)(".avatar-edit-preview-loading").remove()})});a.v().g(c,"beforeopen",z.lb(AE({fq:!0}),z.vm(z.m,!0)))}}};var NE=function(a){OE(a);PE(a);a.Xa&&a.v().g(a.Xa,"afterload",function(b){z.X.ya({type:"ga_click_topic_more",data:b.data,target:a.Xa.ec})})};
var OE=function(a){var b=z.L("zh-topic-feed-list");if(b){var c=new z.dz;a.L(c);c.use("locationSource",{Vl:0,offset:function(a){return z.y.vd(a).getAttribute("data-score")}});c.use("childConstructor",{factory:z.DA}).use("expandLimit");c.w(b);a.v().g(c,"click!",function(a){"comment"===a.namespace&&a.Pc.fill("category",this.eh).fill("label","topic_activity")})}};
var PE=function(a){var b=z.L("zh-topic-top-page-list");if(b){var c=new z.dz({ig:!1});a.L(c);c.use("childConstructor",{factory:z.DA}).use("expandLimit");c.w(b);a.v().g(c,"click!",function(a){"comment"===a.namespace&&a.Pc.fill("category",this.eh).fill("label","topic_activity")})}};
var QE=function(a){function b(a){a&&a.msg&&z.T(a.msg)}a.Ks=z.L("zh-topic-info-add");a.Ks&&a.v().g(a.Ks,"submit",a.GR);a.$F=z.M("zm-topic-info-content-main",a.h);a.$F&&a.v().g(a.$F,"click",a.ER);(0,window.$)("#zh-topic-manage-info-form").on("change",'input[type\x3d"radio"]',function(){window.$.post("/topic/"+z.Hs[0][1]+"/information/manage",{info:(0,window.$)(this).val(),action:"change"}).done(b)});(0,window.$)("#zh-topic-manage-relation-form").on("change",'input[type\x3d"radio"]',function(){window.$.post("/topic/update",
{action:"set_topic_weaknode",topic_id:z.Hs[0][3],weak:(0,window.$)(this).val()}).done(b)});(0,window.$)("#zh-topic-manage-lock-form").on("change",'[type\x3d"checkbox"]',function(){window.$.post("/topic/lock",{url_token:z.Hs[0][1],lock_type:this.name,lock_value:(0,window.$)(this).is(":checked")?1:0}).done(b)})};var RE=function(a){z.Q.call(this,a)};
var SE=function(a,b,c){var d,f,g=[];for(d in c)f=c[d],z.fa(f)?z.y.forEach(f,(0,z.r)(function(a){g.push(jC({type:"hidden",name:d,value:String(a)}))},a)):g.push(jC({type:"hidden",name:d,value:String(f)}));z.ne(b,IB(g))};var TE=function(a){return window.$.get("/node/ExploreAnswerListV2",{params:JSON.stringify({offset:a,type:"day"})})};var UE=function(a){return window.$.get("/node/ExploreHotFavlistsInnerV2",{params:JSON.stringify({offset:a})})};
var VE=function(a){return window.$.get("/node/ExploreAnswerListV2",{params:JSON.stringify({offset:a,type:"month"})})};var WE=function(){z.H.call(this)};var XE=function(){z.Q.call(this);var a=z.Is||[0,0];this.ht=a[0];this.visible=!!a[1];this.eh="collection"};
var YE=function(a){var b=z.L("zh-list-answer-wrap");if(b){(0,window.$)(b).on("click","a[name\x3dunfavo]",window.$.proxy(a.YO,a));var c=new z.dz({ig:!1});a.L(c);c.use("childConstructor",{bl:z.vA}).use("expandLimit");c.w(b);a.v().g(c,"click!",function(a){"comment"===a.namespace&&a.Pc.fill("category",this.eh).fill("label","collection_answer")})}};
var ZE=function(a){var b=z.L("zh-list-side-head");if(b){var c=z.M("zu-entry-focus-button",b);c&&a.v().g(c,"click",function(){(0,z.gu)(c,"favlist","",["zg-btn-green","zg-btn-white"])});a.ag=z.L("zh-list-operation-menu");a.ag&&a.v().g(a.ag,"click",a.bB)}(b=z.L("zh-single-answer-author-info"))&&(new xE(b)).init();(b=z.L("zh-list-create-new-list"))&&a.v().g(b,"click",a.rU);(b=z.L("zh-fav-list-side-bar-creator"))&&(new xE(b)).init();(b=z.L("zh-fav-list-side-bar-report"))&&z.cx(new z.ax("favlist",a.ht),
b)};var $E=function(a){z.Bi("\u5220\u9664\u6536\u85cf\u5939","\u4f60\u786e\u5b9a\u8981\u5220\u9664\u8fd9\u4e2a\u6536\u85cf\u5939\u5417\uff1f",function(a){a&&(a=new z.ln,a.add("favlist_id",this.ht),a.add("_xsrf",(new z.ug(window.document)).get("_xsrf")),(new RE).post(sB(a),"/collection/delete"))},a)};
var aF=function(a){a.qa||(a.qa=new z.xx(a.ht,"favlist"),a.L(a.qa),a.v().g(a.qa,"click!",function(a){"comment"===a.namespace&&(a.Pc.fill("category",this.eh).fill("label","collection"),a.Pc.action=a.Pc.action.replace("favlist","collection"))}),z.Ax(a.qa,a.Qb,(0,window.$)(".toggle-comment",a.Qb)[0]))};var bF=function(a){a.PJ=new z.U(!0);a.v().g(a.PJ,"complete",function(){window.location.reload()});a.PJ.ajax("/collection/update","favlist_id\x3d"+a.ht+"\x26is_public\x3d1")};
var cF=function(a){dF||(this.Rn=a,this.Gh=(0,window.$)(this.Rn.m()),(0,window.setTimeout)((0,z.r)(this.Gb,this)))};var eF=function(a){(0,window.setTimeout)(function(){window.$.ajax({type:"POST",url:"/zreactor/deliver",data:JSON.stringify(a),contentType:"application/json",processData:!1})},50)};
var fF=function(a){var b=gF[a.Gh.data("type")];z.Tu(a.Gh[0],function(){hF(a,"display")},a.Rn);a.Rn.v().g(a.Rn,"expand",function(c){c.target instanceof z.iy&&hF(a,"expand_"+b)}).g(a.Rn,"collapse",function(c){c.target instanceof z.iy&&hF(a,"collapse_"+b)});a.Gh.on("click",'a[name\x3d"nohelp"]',function(){var b=!!(0,window.$)(this).data("revert");hF(a,b?"unhelpful":"revert_unhelpful");(0,window.$)(this).data("revert",!b)});window.$.each({".actioncard-body .more":"view_all",".actioncard-body .next:not(.disabled)":"next_page",
".actioncard-body .prev:not(.disabled)":"prev_page",".actioncard-body .items a":"open_topic",'.zg-follow[data-follow^\x3d"t:"], .zg-btn-follow[data-follow^\x3d"t:"]':"follow_topic",'.zg-unfollow[data-follow^\x3d"t:"], .zg-btn-unfollow[data-follow^\x3d"t:"]':"unfollow_topic",'a.zg-follow:not([data-follow^\x3d"t:"]):not([data-follow^\x3d"m:"])':"follow_"+iF[b],'a.zg-unfollow:not([data-follow^\x3d"t:"]):not([data-follow^\x3d"m:"])':"unfollow_"+iF[b],"a.toggle-comment":"expand_comments",'a[name\x3d"addnew"]':"comment",
".content h2 a":"open_"+jF[b],"a.ignore:not(.close)":"uninterest","a.revert":"revert_uninterest","a.ignore.close":"confirm_uninterest","button.up.pressed":"vote_up_"+b,"button.down.pressed":"vote_down_"+b,"button.up:not(.pressed)":"revert_vote_up_"+b,"button.down:not(.pressed)":"revert_vote_down_"+b,'a[name\x3d"favo"]':"collect_answer",'a[name\x3d"thanks"]':"thanks",'a[name\x3d"share"]':"share",'a[name\x3d"report"], .js-report':"report","a.answer-date-link":"open_answer"},function(b,d){a.Gh.on("click",
b,function(){hF(a,d)})})};var hF=function(a,b){var c=window.$.extend({},kF(a),{action_type:b,time:(0,z.x)()});c.object_id&&("display"===b?a.SS(c):eF(c))};var kF=function(a){var b=a.lC,c=window.$.extend({},b.data("meta"),{create:a.Gh.find(".source .time").data("timestamp"),offset:(0,window.$)(".feed-item").index(a.Gh)+1});return{mid:z.nj.ga_vars.user_hash,object_type:gF[a.Gh.data("type")],object_id:b.data("id"),object_meta:c,context:lF,others:""}};var mF=function(a,b,c){uC.call(this,a,b,c)};
var nF=function(a){z.Wh(a,function(a){(0,window.$)(a.m()).remove()})};var oF=function(){this.interval=3E4};var pF=function(){var a=oF.U();qF(a)};var qF=function(a,b){if(!a.dd||b)b&&(0,window.clearInterval)(a.dd),a.dd=(0,window.setInterval)((0,z.r)(function(){rF(this)},a),a.interval)};var sF=function(){var a=oF.U();rF(a,!0)};var rF=function(a,b){(0,window.$)(".feed-item-hook .time").each(function(){(0,window.$)(this).text(z.lv((0,window.$)(this).data("timestamp")))});b&&qF(a,b)};
var tF=function(){z.Q.call(this);this.Wy={};this.yt=[];this.YP="old"===(0,window.$)("#feed-ver").val();this.wG=!!(0,window.$)("#is-topstory").length;this.kQ=!!(0,window.$)("#is-topstory2").length;this.HE=this.YP?"zm-item":"feed-item-hook";window._gaq=window._gaq||[];this.wG?window._gaq.push(["_setCustomVar",5,"is_topstory",!0,3]):window._gaq.push(["_setCustomVar",5,"is_topstory",!1,3])};
var uF=function(a){a.Xa=new mF(a.h,null,!0);if((0,window.$)(a.h).data("delayed"))z.vj.on("guider2:topicselected",(0,z.r)(a.Xa.Xl,a.Xa));a.getParent()&&a.getParent().L(a.Xa);vC(a.Xa,"/node/"+(0,window.$)(a.h).data("init").nodename);a.Xa.Fi("feed-item-hook");a.v().g(a.Xa,"itemcreated",function(a){vF(this,a.data.nQ)}).g(a.Xa,"afterload",function(a){z.X.ya({type:"ga_click_feed_more",data:a.data})}).g(a.Xa,"ignore",function(a){wF(this,a.key,a.value)});a.Xa.init()};
var xF=function(a){a.K.on("click",".js-change-some",function(){z.nn("feed","intrests-change");var b=(0,window.$)(this),c=(0,window.$)(this).parent().parent();window.$.post("/node/HomeExtraFeedList",{method:"next",params:{}}).done(function(d){!d.r&&d.msg&&(0<d.msg.length?(c.find(".feed-item-hook").remove(),c.append(d.msg).find(".feed-item-hook").each(function(){a.Xa.gk(this)})):b.replaceWith('\x3cspan class\x3d"zg-right zg-gray"\x3e\u6ca1\u6709\u66f4\u591a\u5185\u5bb9\u4e86\x3c/span\x3e'))})})};
var yF=function(a){a.K.on("click",".js-more-similar",function(){(0,window.$)(this).parent().slideUp("fast").nextUntil(":not(.hidden)").slideDown("fast")})};var vF=function(a,b){var c=z.Oh(z.Nh.U());a.Wy[c]=b;(0,window.$)(b.h).attr("data-fid",c)};var wF=function(a,b,c){z.A.forEach(a.Wy,function(a){a.Rr[b]===c&&(0,window.$)(a.h).fadeOut(150)})};var zF=function(){z.Q.call(this)};var AF=function(){z.Q.call(this)};var BF=function(){z.H.call(this);this.my=[];this.dE=[]};
var CF=function(a){for(var b=[],c=0;3>c;c++){var d=a.dE.shift();d&&b.push(d)}3===b.length?(a.lt.innerHTML=b.join(""),DF(a)):EF(a)};var DF=function(a){var b=z.ye("suggest-item",a.lt);z.y.forEach(b,function(a){this.my.push(a.id.split("-")[1])},a)};var EF=function(a){a.lt.innerHTML='\x3cimg class\x3d"bubble-loading" src\x3d"'+z.cs.pB+'/img/noti-loading.gif"\x3e';window.$.post("/lookup/suggest_member",{ids:a.my.join(",")}).done((0,z.r)(a.sR,a))};
var FF=function(a){z.H.call(this);this.Yz=a;this.K=(0,window.$)(this.Yz.html);this.ej=this.K[0];this.position=this.Yz.position||"top"};var GF=function(a){a=a.getBoundingClientRect();a.width||(a.width=a.right-a.left,a.height=a.bottom-a.top);return a};
var HF=function(){function a(){(0,window.setTimeout)(function(){b.Lo&&b.ca()})}if(z.nj.is_registered_via_web&&!z.nj.is_answerer_prompt_dismissed){var b,c;z.Yr.g("expand",function(d){var f=d.target;if(f instanceof z.vA){if(b)return a();c&&"pending"===c.state()||(c=window.$.post("/node/Guide2",{method:"unfold_answer_in_feed"}).then(function(a){(a=(0,window.$)(a.msg).html())&&(b=IF(a,f))}))}});z.Yr.g("collapse",function(c){c.target instanceof z.vA&&b&&a()})}};
var JF=function(a){var b=(0,window.$)("#tmpl-guidev2-answerer-tip").html();b&&IF(b,a)};
var IF=function(a,b){var c=new FF({html:a}),d=(0,window.$)(b.m()).find(".zm-item-answer-author-info .author-link"),f=z.oa(z.W,"popup_guide");if(d.length)return c.g("show",function(){function a(){b.bs()===c.target&&c.hide("hoverUserCard")}var b=z.kr.U().V,c=this;b&&(b.g("beforeshow",a),c.va("hide",function(){b.pa("beforeshow",a)}))}),c.g("show",function(){window.$.post("/node/Guide2",{method:"dismiss_answerer_prompt"});f("popup_guide_view_people_appear","popup_guide_view_people_appear")}),c.g("hide",
function(a){function b(a){f(a,"popup_guide_view_people_fade")}switch(a.reason){case "click":b("click_popup_guide_view_people_close");break;case "outOfView":b("move_out_popup_guide_view_people")}b("popup_guide_view_people_fade")}),c.show(d),c};var KF=function(){z.Q.call(this)};var LF=function(a){var b=z.L("js-home-feed-list");if(b){var c=new tF;a.L(c);c.w(b)}};
var MF=function(){var a=(0,window.$)("#js-global-notify");if(a.length){var b=new z.Yo;b.w(a[0]);qB(b);(0,window.$)(".zu-global-notify-close",a).click(function(){var c=(0,window.$)(this).data("id");window.$.post("/notice/read",{nid:c});b.H();a.remove()})}};
var NF=function(){var a=(0,window.$)(".user-guiding-box");0!==a.length&&((0,window.$)(".reactive-button",a).click(function(){(new z.gk).G(!0)}),(0,window.$)(".js-close-guidingbox",a).click(function(){a.remove();window.$.post("/node/HomeGuideV2",{method:"ignore_guiding_box"})}),(0,window.$)(".js-close-activationbox",a).click(function(){a.remove();window.$.post("/node/HomeGuideV2",{method:"ignore_activation_box"})}))};var OF=function(a,b,c){z.Hw.call(this,a,b,c);this.Hi(!0)};z.PF=function(){};
z.QF=function(){this.Rq="toolbar"};var RF=function(){};z.SF=function(a,b,c){z.Oj.call(this,a,b||RF.U(),c)};var TF=function(){};var UF=function(a,b){return b.B("DIV","goog-color-menu-button-indicator",a)};var VF=function(a,b){if(a&&a.firstChild){var c;if(c=b)c=!!(UB.test("#"==b.charAt(0)?b:"#"+b)||RB(b).length||hC&&hC[b.toLowerCase()]);c=c?gC(b).As:null;a.firstChild.style.borderBottomColor=c||(z.D?"":"transparent")}};var WF=function(a,b,c,d){z.Wn.call(this,a,b,c,null,d)};z.XF=function(){};
var YF=function(a,b,c,d){for(var f=[],g=0,h=0;g<c.height;g++){for(var l=[],n=0;n<c.width;n++){var p=b&&b[h++];l.push(ZF(a,p,d))}f.push($F(a,l,d))}return a.uw(f,d)};var $F=function(a,b,c){a=c.B("TR",a.R()+"-row",b);z.xg(a,"row");return a};var ZF=function(a,b,c){a=c.B("TD",{"class":a.R()+"-cell",id:a.R()+"-cell-"+aG++},b);z.xg(a,"gridcell");z.yg(a,"selected",!1);if(!z.pf(a)&&!z.Cg(a)){var d;b=new WF(a);for(c="";!c&&(d=z.J.qH(b));)1==d.nodeType&&(c=z.Cg(d)||d.title);(d=c)&&z.yg(a,"label",d)}return a};
var bG=function(a,b,c){for(b=b.m();c&&1==c.nodeType&&c!=b;){if("TD"==c.tagName&&z.Fg(c,a.R()+"-cell"))return c.firstChild;c=c.parentNode}return null};var cG=function(a){z.H.call(this);this.Kd=[];dG(this,a)};var dG=function(a,b){b&&(z.y.forEach(b,function(a){this.ym(a,!1)},a),z.y.extend(a.Kd,b))};z.eG=function(a,b,c){z.Hj.call(this,a,b||z.XF.U(),c);this.Ui&=-89;this.Hn=new fG;this.Hn.wf(this);this.cz=-1};
z.gG=function(a,b){if(a.m())throw Error("Component already rendered");a.Bc=z.ga(b)?new z.qe(b,void 0):b;hG(a)};var iG=function(a){var b=a.hb();return b&&b[a.Ta]};var jG=function(a,b){var c=a.hb();a.Ab(c?z.y.indexOf(c,b):-1)};
var kG=function(a,b,c){if(a.m()){var d=a.hb();if(d&&0<=b&&b<d.length){var f;f=(f=iG(a))?f.parentNode:null;a.Hn.m()!=f&&(a.Hn.h=f);f=a.Hn;f.Ac(c);!!(f.O&2)==c&&(b=d[b])&&(b=b?b.parentNode:null,z.Kg(b,a.N.R()+"-cell-hover",c),c?z.yg(a.h,"activedescendant",b.id):b.id==z.Ag(a.h,"activedescendant")&&a.h.removeAttribute("aria-activedescendant"))}}};
var hG=function(a){var b=a.hb();if(b)if(a.Bc&&a.Bc.width){if(b=Math.ceil(b.length/a.Bc.width),!z.ga(a.Bc.height)||a.Bc.height<b)a.Bc.height=b}else b=Math.ceil(Math.sqrt(b.length)),a.Bc=new z.qe(b,b);else a.Bc=new z.qe(0,0)};var fG=function(){z.Hj.call(this,null);this.vh|=2};var lG=function(a,b,c){this.or=a||[];z.eG.call(this,null,b||z.XF.U(),c);this.or=this.or;this.At=this.at=null;this.ha(mG(this))};
var mG=function(a){return z.y.map(a.or,function(a,c){var d=this.M().B("DIV",{"class":this.N.R()+"-colorswatch",style:"background-color:"+a}),f;this.at&&this.at[c]?f=this.at[c]:"#"==a.charAt(0)?(f=TB(a),f="RGB ("+[(0,window.parseInt)(f.substr(1,2),16),(0,window.parseInt)(f.substr(3,2),16),(0,window.parseInt)(f.substr(5,2),16)].join(", ")+")"):f=a;d.title=f;return d},a)};var nG=function(a){if(a)try{return gC(a).As}catch(b){}return null};var oG=function(a,b,c,d){z.Uw.call(this,a,b,c||TF.U(),d)};
var pG=function(a){var b=new z.Mw(a);z.A.forEach(qG,function(c){c=new lG(c,null,a);z.gG(c,8);b.L(c,!0)});return b};var rG=function(){};var sG=function(){};var tG=function(a,b,c,d){oG.call(this,a,b,c||sG.U(),d)};var uG=function(a,b,c,d){z.Uw.call(this,a,b,c||rG.U(),d)};var vG=function(a,b,c,d,f){z.Uw.call(this,a,b,c,d,f||new z.Kw("listbox"));this.Gw=this.hb();this.Hy=null;this.Gp("listbox")};var wG=function(a,b){a.Gw=b;xG(a)};
var yG=function(a,b){a.ma=new cG;b&&z.Wh(b,function(a){zG(a);this.ma.Fa(a)},a);AG(a)};var AG=function(a){a.ma&&a.v().g(a.ma,"select",a.yj)};var xG=function(a){var b=a.jf();a.ha(b?b.Kg():a.Gw);var c=a.N.Y(a.m());c&&a.M().isElement(c)&&(null==a.Hy&&(a.Hy=z.Cg(c)),b=(b=b?b.m():null)?z.Cg(b):a.Hy,z.yg(c,"label",b),BG(a))};
var BG=function(a){var b=a.N;if(b&&(b=b.Y(a.m()))){var c=a.h;b.id||(b.id=z.Oh(z.Nh.U()));z.xg(b,"option");z.yg(c,"activedescendant",b.id);a.ma&&(c=a.ma.eb(),z.yg(b,"setsize",CG(c)),a=a.ma.qj(),z.yg(b,"posinset",0<=a?CG(z.y.slice(c,0,a+1)):0))}};var CG=function(a){return z.y.count(a,function(a){return a instanceof z.Hw})};var zG=function(a){a.Gp(a instanceof z.Hw?"option":"separator")};var DG=function(a,b,c,d){vG.call(this,a,b,c||rG.U(),d)};
var EG=function(a){var b=a.indexOf(",");a:for(a=(-1!=b?a.substring(0,b):a).toLowerCase(),b=0;2>b;b++){var c="\"'".charAt(b);if(a.charAt(0)==c&&a.charAt(a.length-1)==c){a=a.substring(1,a.length-1);break a}}return a};var FG=function(a,b){z.y.forEach(b,function(b){var d=b.caption;b=b.value;var f=EG(b),d=new OF(d,b,a.M());z.Rh(d,f);a.Fa(d);d.Y().style.fontFamily=b})};
var GG=function(a){z.y.forEach(HG,function(b){var c=b.value;b=new OF(b.caption,c,a.M());a.Fa(b);b=b.Y();b.style.fontSize=(IG[c]||10)+"px";b.firstChild.style.height="1.1em"})};var JG=function(a){z.y.forEach(KG,function(b){var c=b.caption;b=b.Ba;var d=a.M(),c=new OF(d.B("DIV",null,c),b,d);z.Rh(c,b);a.Fa(c)})};z.LG=function(a,b,c,d,f,g){c=new z.SF(MG(c,d,g),f,g);z.Rh(c,a);c.qc(b);return c};z.NG=function(a,b,c,d,f,g){a=z.LG(a,b,c,d,f,g);a.Rb(16,!0);return a};
var OG=function(a,b,c,d,f,g){f=new DG(null,null,f,g);d&&z.y.forEach(d.split(/\s+/),f.Kh,f);f.Kh("goog-toolbar-select");wG(f,c);z.Rh(f,a);f.qc(b);return f};var PG=function(a,b,c,d,f,g){c=new tG(MG(c,d,g),null,f,g);z.Rh(c,a);c.qc(b);return c};var MG=function(a,b,c){a&&""!=a||!z.B||z.F("1.9a")||(a="\u00a0");return(c||z.se()).B("DIV",b?{"class":b}:null,a)};var QG=function(a){var b="en-us".replace(/_/,"-").toLowerCase(),c=[];b in RG&&(c=RG[b]);c.length&&FG(a,c);FG(a,SG)};
var TG=function(a,b,c,d,f,g){var h=z.LG(a,b,c,d,f,g);h.Mi=function(a){h.Ya(a)};return h};var UG=function(a,b){var c=b;try{if(z.D)var d="000000"+c.toString(16),f=d.substr(d.length-6,6),c="#"+f.substring(4,6)+f.substring(2,4)+f.substring(0,2);c!=a.W()&&a.Da(c)}catch(g){}};z.VG=function(a){z.nB.call(this);this.ea=new z.ad(this);this.SF=z.N("div",{style:"display:none"});this.h=this.xc=null;this.J={};z.A.extend(this.J,this.defaults,a||{})};
var WG=function(a){a.dispatchEvent("willEnterFullScreen")&&(a.BE||(a.lP=window.history.length),a.BE=!0,XG(a,"writing"),a.gK=z.Af(z.se((z.u||window).document)),z.Re(a.SF,a.J.Ak),a.xc.appendChild(a.J.Ak),z.S.add(window.document.body,a.J.xx),a.Db=z.M(a.J.aV,a.h),a.Db.appendChild(a.bq),YG(a),(0,z.Ya)(z.pf(a.F.Aa))||a.F.Uf(),a.dispatchEvent("enterFullScreen"))};
var ZG=function(a){!z.Ai&&a.BE&&a.lP!==window.history.length?window.history.back():XG(a,"");a.Db.removeChild(a.bq);a.ZI(!1);a.h.onscroll=null;a.ea.pa(window.document,"keydown",a.ep);z.Re(a.J.Ak,a.SF);z.S.remove(window.document.body,a.J.xx);window.scrollTo(a.gK.x,a.gK.y);a.dispatchEvent("exitFullScreen")};var XG=function(a,b){a.ea.pa(window,"hashchange",a.EH);window.location.hash=b||"";(0,window.setTimeout)((0,z.r)(function(){this.ea.g(window,"hashchange",this.EH)},a))};
var YG=function(a){var b=a.h;b.scrollTop=0;var c=a.Db.getBoundingClientRect().top;b.onscroll=z.lb((0,z.r)(a.ZI,a),function(){return b.scrollTop>c});a.ea.g(window.document,"keydown",a.ep)};z.mA=function(a,b,c){z.Hw.call(this,a,b,c);this.Dp(!0)};var $G=function(a,b){z.H.call(this);this.la=a;this.Ib=b;this.data=z.Es};var aH=function(a){a.Gt&&a.Gt.ha(a.data.tb?"\u64a4\u6d88\u533f\u540d\u8eab\u4efd":"\u4f7f\u7528\u533f\u540d\u8eab\u4efd")};var bH=function(a,b){return a?b?new z.mA(a):new z.Hw(a):new z.Lw};
var cH=function(a){a.pm.innerHTML="";z.P(a.pm,!1);a.Ko=!1;a.gm.zm("\u95ee\u9898\u91cd\u5b9a\u5411");z.Gi("/question/unredirect",null,"POST","qid\x3d"+a.la+"\x26rqid\x3d"+a.eu)};var dH=function(a,b){z.Q.call(this);this.fT=a;this.WC=b};var eH=function(a,b,c,d,f){z.Cp.call(this,d,b,c);this.la=a;this.Ty=this.wp=!1;this.AS=f};var fH=function(a,b){a.Ty=b};
var gH=function(){var a=z.N("select",{style:"1px solid #999 "}),b=z.N("option",{value:"none"},"\u8bf7\u9009\u62e9\u4e00\u4e2a\u4fee\u6539\u7406\u7531...");a.appendChild(b);z.y.forEach(hH,function(b,d){var f=z.N("option",{value:b.value},d+1+". "+b.label);a.appendChild(f)});return a};var iH=function(a,b,c){a.gH.innerHTML=b;z.S.set(a.gH,c||"zg-error-text")};var jH=function(){z.Q.call(this)};var kH=function(){z.vi.call(this);this.Eg=!0;this.G(!0)};
var lH=function(a,b){a.kb("\u63d0\u95ee\u65e0\u4eba\u95ee\u6d25\uff1f");a.ha(b);a.ca();(0,window.$)(".js-gonext",a.h).on("click",function(){var b=(0,window.$)(this).parents('[class^\x3d"view"]').attr("class");"view-starting"===b?(a.kb("\u7b2c\u4e00\u6761"),mH(a,"firsttip")):"view-firsttip"===b?(a.kb("\u7b2c\u4e8c\u6761"),mH(a,"secondtip")):"view-secondtip"===b?(a.kb("\u7b2c\u4e09\u6761"),mH(a,"thirdtip")):"view-thirdtip"===b&&a.G(!1)})};
var nH=function(a,b){a.kb("\u9080\u8bf7\u56de\u7b54\u5c0f\u7a8d\u95e8");a.ha(b);a.ca();(0,window.$)(".js-close",a.h).on("click",function(){a.G(!1)})};var mH=function(a,b){(0,window.$)('[class^\x3d"view"]',a.h).hide();(0,window.$)(".view-"+b,a.h).show()};var oH=function(a,b){z.Q.call(this);this.eT=a;this.kp=b;this.aa=null;this.Mb=!1;this.Ql=null;this.Kj=[];this.Kc=!1;this.DQ="loading";this.jG="zg-btn-white"};
var pH=function(a){var b=a.DQ;a.K.addClass(b).html(qH);window.$.get("/node/QuestionInvitePanelV2",{params:{question_id:a.eT}}).done(function(c){a.Kc=!0;a.K.removeClass(b);c=(0,window.$)(c);a.K.replaceWith(c);a.h=c[0];c.toggle(a.$c());a.K=c;rH(a)})};
var rH=function(a){var b=a.m();a.v().g(z.vj,"anon_change",a.hR);(0,window.$)(".cancel-anon",b).click(window.$.proxy(a.ON,a));if(!(0,window.$)(".error-message",b).length){var c=z.M("search-input",b),d=z.M("invite-title",b);a.yy(c,d);a.kv=(0,window.$)(".suggest-persons",b);a.kv.on("click","button",window.$.proxy(a.sF,a));(0,window.$)(".js-more",b).one("click",function(){(0,window.$)(".person",this.kv).show();(0,window.$)(this).remove()});a.xq=(0,window.$)(".invite-status",b);a.xq.on("click","button",
window.$.proxy(a.PN,a)).on("mouseenter mouseleave",".invited-shortlist",function(a){(0,window.$)(".invited-hovercard",this).toggleClass("in","mouseenter"===a.type)});sH(a)}};var tH=function(a,b){var c=z.Es;a.dispatchEvent(new z.uw("click!invitation",{category:"invitation",action:"ask_to_answer",label:b,value:c.qG?null:c.ue}))};var uH=function(a,b){return!!z.y.find(a.Kj,function(a){return a.id===b})};
var vH=function(a,b,c){var d=(0,window.$)(".invite-button",a.kv).filter(function(){return this.getAttribute("data-uid")===b}).get(0);d&&wH(a,d,c)};var wH=function(a,b,c){a=a.jG;c?(z.S.add(b,a),z.hf(b,"\u6536\u56de\u9080\u8bf7")):(z.S.remove(b,a),z.hf(b,"\u9080\u8bf7\u56de\u7b54"))};var sH=function(a){a.Kj=window.$.map((0,window.$)(".invited-fulllist",a.xq).children(),a.cI)};var xH=function(a,b){a.Kj&&z.y.rT(a.Kj,function(a){return a.id===b})&&yH(a)};
var yH=function(a){var b=a.Kj,c={each:z.y.forEach,fullList:function(){return(0,z.Lp)(zH,{persons:b,helper:c})}};b.length?a.xq.html((0,z.Lp)(AH,{persons:b,helper:c,maxInvites:15})):a.xq.html("\u4f60\u53ef\u4ee5\u901a\u8fc7\u9080\u8bf7\u5176\u4ed6\u7528\u6237\u6765\u66f4\u5feb\u83b7\u5f97\u56de\u7b54")};var BH=function(a){z.Q.call(this);this.data=a;this.qa=null};
var CH=function(a){var b=z.M("panel-container",a.h);b&&(a.$l=new jH,a.L(a.$l),a.$l.w(b),a.qa=new z.xx(a.data.la,"question"),a.$l.L(a.qa),z.Ax(a.qa,a.$l.m(),(0,window.$)(".toggle-comment",a.h)[0]),a.Gj(),a.Hj(),DH(a))};
var DH=function(a){if("normal"===z.Es.status){var b=new oH(a.data.la,a.data.lb);b.fa(a.$l.m());var c=(0,window.$)('a[name\x3d"invite"]',a.m());a.v().g(b,["expand","collapse"],function(a){c.text("expand"===a.type?"\u6536\u8d77\u9080\u8bf7":"\u9080\u8bf7\u56de\u7b54")});a.$l.L(b);z.Es.uU&&(b.yd(!0),a.dispatchEvent(new z.uw("show!invitation",{category:"invitation",action:"ask_to_answer_card",label:""})));a.Ly=b}};
var EH=function(a,b){var c=a.SK;c||(c=new z.wy,c.w(z.L("zh-question-admin-menu")),z.Wh(c,function(a){a.Da(a.m().getAttribute("data-action"))}),a.v().g(c,"action",function(a){a=this.IC=a.target;(new z.xw).open(a.m(),{id:this.data.la,type:"question"},(0,z.r)(this.rM,this))}),a.SK=c);c.T()?c.G(!1):z.xy(c,new z.Nw(b,1,!0),0,new z.Pg(5,0,5,0))};
var FH=function(a){z.Bi("\u5220\u9664\u95ee\u9898","\u4f60\u786e\u5b9a\u8981\u5220\u9664\u8fd9\u4e2a\u95ee\u9898\u5417\uff1f\u76f8\u5173\u7684\u8bc4\u8bba\u4e5f\u5c06\u88ab\u5220\u9664\u3002",function(a){if(a){var c=new z.U(!0);z.G(c,"complete",function(){var a=z.ae(c);a&&!a.r?window.location.href="/":z.T(a.msg)});c.ajax("/question/delete/"+this.data.la)}},a)};var GH=function(a){z.Uz.call(this,a)};
var HH=function(){z.Q.call(this);this.data=z.Es||{};this.la=this.data.la;this.Ko=!1;this.Ti={};this.Kv=[];this.Nq=[];this.vi=0;this.bk=z.Fs&&z.Fs.url_token?z.Fs:null};var IH=function(a){z.V.ih&&window.$.post("/question/popup",{action:"no_answer",question_token:a.data.lb},function(a){a&&lH(new kH,a)})};
var JH=function(a){(0,window.$)(".js-ignore-invite").click(function(){(0,window.$)(".question-invited-by").hide();window.$.post("/question/askpeople",{qid:a.data.lb,uid:z.V.qf,op:"pass"})});(0,window.$)(".js-invite-others").click(window.$.proxy(function(){var a=(0,window.$)('#zh-question-meta-wrap a[name\x3d"invite"]')[0];a&&(z.ev(a,{YB:function(){return!1},Hv:!0}),this.rA.Ly.yd(!0))},a))};
var KH=function(a){"close"!==z.Es.status&&(a.Ia=new z.Ln(a.data.Pm,a.data.la),a.Ia.pt=5,a.Ia.tt=1,a.Ia.KC=!0,a.Ia.zt=!0,a.Ia.w(z.M("zm-tag-editor",a.h)),a.v().g(a.Ia,["remove_tag","add_tag"],function(){z.X.ya("ga_edit_question_topic_changed")}),a.v().g(a.Ia,"start_editing",function(){z.X.ya("ga_question_topic_edit_finish_changed")}),a.Ia.addEventListener("beforeedit",AE({nm:!0})))};
var LH=function(a){var b=z.L("zh-question-title");"false"!==b.getAttribute("data-editable")&&(a.ed=new eH(a.data.la,"/question/title","content",!1,!0),a.ed.jE=!0,a.ed.Hd=!0,a.ed.wp=!0,fH(a.ed,bC(a.data.ih)),a.ed.w(b),a.v().g(a.ed,"change",function(){z.vj.dispatchEvent("question_title_change");window.document.title=this.ed.hb()+" - \u77e5\u4e4e"}),a.v().g(a.ed,"click_edit",function(){z.X.ya("ga_question_title_edit_start")}),a.v().g(a.ed,"cancel_edit",function(){z.X.ya("ga_question_title_edit_cancel")}),
a.v().g(a.ed,"save_changed",function(){z.X.ya("ga_question_title_edit_save_changed")}),a.v().g(a.ed,"save_unchanged",function(){z.X.ya("ga_question_title_edit_save_unchanged")}),a.ed.addEventListener("beforeedit",AE({nm:!0})))};var MH=function(a,b){z.V.Ga()&&b?(NH(a,"zh-question-detail",a.xP),NH(a,"zh-question-answer-summary",a.AP)):(NH(a,"zh-question-detail",z.m),NH(a,"zh-question-answer-summary",z.m))};var NH=function(a,b,c){if(b=z.L(b)){var d=new z.Pz;a.v().g(d,"expand",c).g(d,"invalid",c);d.w(b)}};
var OH=function(a){a.data.mr=+a.iM.innerHTML;z.V.Ga()||(a.data.mr=0);z.P(a.Th,0<a.data.mr);a.Oq&&z.hf(a.Oq,a.data.ue?a.data.ue+" \u4e2a\u56de\u7b54":"\u8fd8\u6ca1\u6709\u56de\u7b54");a.Lm&&z.P(a.Lm,1<a.data.ue);z.P(a.Th,0<a.data.mr)};
var PH=function(a){var b=z.L("zh-question-answer-wrap");if(b){var c=new z.dz({use:["expandLimit","nodeSource"],ig:a.data.ue>a.data.FS&&!z.M("question-page-pager")});a.L(c);a.v().g(c,"itemcreated",function(a){c.L(QH(this,a.item));(0,window.$)("img.lazy",a.item).lazyload({data_attribute:"actualsrc",threshold:400})});c.w(b)}};
var QH=function(a,b,c){var d=new GH({la:a.la});d.w(b);a.Ti[d.oa]=d;a.Nq.push(d.oa);a.v().g(d,"change",a.Iz);d.Me&&(a.vi=d.oa,d.tL=z.V,a.v().g(d.te,"change",a.AO),a.kL=d);d.Lj?d.Me&&a.wn.appendChild(d.m()):a.Kv.push({added_time:d.vw,vote:c,aid:d.oa});d.oi&&z.P(d.m(),!1);return d};
var RH=function(a){var b=null,c=null,d,f={suggest:"\u5efa\u8bae\u4fee\u6539",evaluate:"\u5efa\u8bae\u4fee\u6539",close:"\u5173\u95ed"};z.Cs.Td||"normal"===z.Es.status||(c="\u88ab"+f[z.Es.status]+'\u7684\u95ee\u9898\u4e0d\u5141\u8bb8\u6dfb\u52a0\u65b0\u7684\u56de\u7b54\u3002\x3ca data-tip\x3d"s$b$\u4e3a\u4ec0\u4e48\u90e8\u5206\u95ee\u9898\u4f1a\u88ab\u300c\u5173\u95ed\u300d\u300c\u5efa\u8bae\u4fee\u6539\u300d\uff1f" href\x3d"//www.zhihu.com/question/21290061 "\x3e\x3ci class\x3d"zg-icon zg-icon-question-mark"\x3e\x3c/i\x3e\x3c/a\x3e');a.vi?
(d=a.Ti[a.vi],b="#answer-"+d.oa,d=d.oi):a.bk&&(b="/question/"+z.Es.lb+"/answer/"+a.bk.url_token,d=a.bk.is_delete);b&&(c=d?'\u4f60\u5df2\u7ecf\u5220\u9664\u4e86\u5bf9\u8be5\u95ee\u9898\u7684\u56de\u7b54\uff0c\u5982\u679c\u9700\u8981\u4fee\u6539\uff0c\u8bf7\u5148 \x3ca href\x3d"javascript:;" name\x3d"cancel_delete"\x3e\u64a4\u6d88\u5220\u9664\x3c/a\x3e':'\u4e00\u4e2a\u95ee\u9898\u4f60\u53ea\u80fd\u56de\u7b54\u4e00\u6b21\uff0c\u4f46\u4f60\u53ef\u4ee5\u5bf9 \x3ca href\x3d"'+b+'"\x3e\u73b0\u6709\u7684\u56de\u7b54\x3c/a\x3e \u8fdb\u884c\u4fee\u6539');
!z.V.ih||a.vi||a.bk||(c='\u6dfb\u52a0\u56de\u7b54\uff1a\x3ca href\x3d"javascript:;" name\x3d"answer_my_question"\x3e\u56de\u7b54\u81ea\u5df1\u7684\u63d0\u95ee\x3c/a\x3e');a.data.Ry&&(c='\u8be5\u95ee\u9898\u76ee\u524d\u5df2\u7ecf\u88ab\u9501\u5b9a\uff0c\u65e0\u6cd5\u6dfb\u52a0\u65b0\u7b54\u6848\u3002\x3ca href\x3d"/question/19604313" target\x3d"_blank"\x3e\u95ee\u9898\u4e3a\u4ec0\u4e48\u4f1a\u88ab\u9501\u5b9a\uff1f\x3c/a\x3e');c&&a.wb.Ya(!1,c)};
var SH=function(a){a.Oq=z.L("zh-question-answer-num");a.Pq=z.L("zh-question-answer-wrap");a.Th=z.L("zh-question-collapsed-link");a.wn=z.L("zh-question-collapsed-wrap");a.iM=z.L("zh-question-collapsed-num");a.jL=z.L("zh-question-answer-form-wrap");a.yk=z.L("zh-question-notification-summary");a.Lm=z.L("zh-answers-filter");a.Tt=z.L("zh-add-question-sug");a.Oq&&(a.data.ue=+a.Oq.getAttribute("data-num"));a.Pq&&(a.data.FS=+a.Pq.getAttribute("data-pagesize"));a.Th&&a.v().g(a.Th,"click",a.KU);a.Tt&&a.v().g(a.Tt,
"click",a.pF);a.Lm&&z.As&&a.v().g(a.Lm,"click",function(a){a.stopPropagation();z.S.add(this.Lm,"activated");this.v().va(window.document,"click",function(){z.S.remove(this.Lm,"activated")})})};var TH=function(a,b){var c=z.L("zh-question-collapsed-switcher");b?(c.name="collap",a.ED=!0,z.P(a.wn,!0),z.S.add(a.Th,"zu-question-collap-title-active")):(a.ED=!1,c.name="expand",z.P(a.wn,!1),z.S.remove(a.Th,"zu-question-collap-title-active"))};
var UH=function(a){a.kM=!0;var b=a.wn,c=window.$.get("/node/QuestionCollapsedAnswerListV2",{params:{question_id:a.data.la}});c.done(function(c){c=z.Je(c);TH(a,!0);z.S.remove(b,"zm-question-collapsed-list-loading");b.appendChild(c);z.y.forEach(z.Te(b),function(b){b!==d&&QH(a,b,99999)});(0,window.$)("img.lazy",b).lazyload({data_attribute:"actualsrc",threshold:400})});var d=z.Te(b)[0];d&&(z.P(d,!1),c.done(function(){z.P(d,!0)}));z.P(b,!0);z.S.add(b,"zm-question-collapsed-list-loading")};
var VH=function(a){var b=z.V[4];z.Gs&&z.Gs.length&&(b=z.Gs[0][1]);a.wb=new z.Az(a.data.tb,z.V,b);a.L(a.wb);a.wb.w(a.jL);z.Cs.Td&&z.Cs.Td.length?a.wb.ha(z.Cs.Td[0]):!z.cs.nb&&z.B&&a.wb.ha("\x3cp\x3e\x3c/p\x3e");if(!(a.data.Ry||a.vi||a.bk&&a.bk.url_token))if(a.data.dn&&a.data.dn.length&&a.data.dn[3]!==z.V.qf)a.wb.Ya(!1,"\u53ea\u6709 "+z.nv(a.data.dn)+" \u80fd\u56de\u7b54\u6b64\u95ee\u9898");else if("normal"===z.Es.status||z.Cs.Td)z.V.ih||a.wb.yf();a.v().g(a.wb,"change",a.gR);a.v().g(a.wb,"cancel_delete_answer",
a.pR);a.wb.ready(function(){var a=this.Ex();a&&"writing"===window.location.hash.slice(1)&&a.execCommand("toggleFullScreen")})};var WH=function(a,b){if(b=b||window.location.hash.slice(1)){var c=b.split("-"),d=c[1];"answer"===c[0]&&(c=a.XE(d))&&(c.Lj&&!a.ED?XH(a,a.Th):(XH(a,c.m()),YH(c)))}};var XH=function(a,b){if(b){var c=z.Ah(window.document.body).top,d=a.fP?z.oh(a.yk).height:0,c={paddingTop:c+d};"number"===window.$.type(c)&&(c={offsetTop:c});c.YB=PB;z.ev(b,c);z.cn(b);a.mj&&a.mj.kq()}};
var $H=function(){HH.call(this);this.data=z.Es;this.la=this.data.la};var aI=function(a){var b=(0,window.$)(".awesome-answer-list").get(0);if(b){var c=new z.dz({use:["expandLimit"],ig:!1});a.L(c);a.v().g(c,"itemcreated",function(a){var b=new z.vA;b.w(a.item);c.L(b)});c.w(b)}};
var bI=function(a,b){var c=(0,window.$)("#js-sidebar-author-info");if(!(0,window.$)("a[name\x3dfocus]",c).length){var d={0:"fullname",1:"url_token",2:"avatar_path",3:"hash",4:"headline"},f=z.y.reduce(z.V,function(a,b,c){a[d[c]]=b;return a},{}),f=(0,z.Lp)(a.uL,{author:!b&&f});c.html(f)}};var cI=function(){var a=(0,window.$)("#zh-question-answer-collestions");a.length&&(0,window.$)("a[name\x3dfocus]",a).click(function(){(0,z.gu)(this,"favlist")})};
var dI=function(a){a.Ib?a.Ib.oi?(a.Ir.innerHTML=a.Ib.Me?'\u4f60\u5df2\u7ecf\u5220\u9664\u4e86\u5bf9\u8be5\u95ee\u9898\u7684\u56de\u7b54\uff0c\u5982\u679c\u9700\u8981\u4fee\u6539\uff0c\u8bf7\u5148 \x3ca href\x3d"javascript:;" name\x3d"cancel_delete"\x3e\u64a4\u6d88\u5220\u9664\x3c/a\x3e':"\u6b64\u7b54\u6848\u5df2\u7ecf\u88ab\u4f5c\u8005\u5220\u9664",z.P(a.Ib.m(),!1)):z.P(a.Ib.m(),!0):a.Ir.innerHTML="\u6b64\u7b54\u6848\u5df2\u7ecf\u88ab\u4f5c\u8005\u5220\u9664"};
var eI=function(){z.Q.call(this);this.page=1};var fI=function(a,b){z.hf(a,b?"\u52a0\u8f7d\u4e2d...":"\u66f4\u591a")};var gI=function(a,b){window.$.each(b,function(b,d){var f=new hI;a.L(f);f.w((0,window.$)(d)[0]);a.hC.append(f.m());a.v().g(f,"unfollow",function(){iI(a)})})};
var jI=function(a){function b(a){g.hasClass("disabled")||(h.random(a)||(g.addClass("disabled"),(0,window.$)(".hidden-topics-plaza").show(),z.W("topic","show_hidden_enter_topics_square","topic_feed_recommend")),d.html(z.qy(h,h.Wd,h.fh)))}var c=(0,window.$)(a.m()),d=(0,window.$)(".js-list",c),f=(0,window.$)(".js-hidden-list",c),g=(0,window.$)(".js-pager",c),f=window.$.makeArray((0,window.$)("\x3cdiv\x3e").html(f.html()).children().add(d.children())),h=new z.oy(f,3);g.on("click",function(){b(d.find(".zg-btn-follow").length)});
d.on("click","[data-follow]",function(c){var f=(0,window.$)(c.target),p=f.data("id"),t=(0,window.$)(".new-follow-topics span"),C=t.data("ids");if(f.hasClass("zg-btn-follow"))c=(0,window.$)(c.target).closest(".topic-item"),h.remove(c[0]),t.length?(C.push(p),t.data("ids",C),t.text(C.length)):(0,window.$)('\x3ca href\x3d"#" class\x3d"new-follow-topics"\x3e\u65b0\u5173\u6ce8 \x3cspan data-ids\x3d"['+p+']"\x3e1\x3c/span\x3e \u4e2a\u8bdd\u9898\uff0c\u70b9\u51fb\u67e5\u770b\x3c/a\x3e').insertBefore((0,window.$)(".topic-recommend")),
1===(0,window.$)(".zg-btn-follow",d).length&&(g.hasClass("disabled")?(0,window.$)(".topic-recommend").fadeOut():(0,window.setTimeout)(function(){b(0)})),kI(a);else if(f.hasClass("zg-btn-unfollow")){var I=(0,window.$)(".js-topic-item[data-id\x3d"+p+"]");I.length?I.fadeOut(function(){I.remove();iI(a)}):C&&(1<C.length?(C.splice(C.indexOf(p),1),t.data("ids",C),t.text(C.length)):t.parent().remove(),iI(a))}});c.on("click",".new-follow-topics",function(b){b.preventDefault();var c=(0,window.$)(b.target);
window.$.get("/topic/newest-feeds",{ids:JSON.stringify((0,window.$)("span",c).data("ids"))},function(b){b&&!b.r&&(gI(a,b.msg),c.remove())})}).on("click",".js-nomore-recommend",function(){window.$.post("/topic/suggest-topics/close",function(a){a&&!a.r&&(0,window.$)(".topic-recommend").fadeOut()})})};var kI=function(a){var b=(0,window.parseInt)(a.bv.text());lI(a,b+1)};var iI=function(a){var b=(0,window.parseInt)(a.bv.text());lI(a,b-1)};
var lI=function(a,b){a.bv.text(b);(0,window.$)(".no-topics").toggle(0===b)};var hI=function(){z.Q.call(this)};var mI=function(){z.Q.call(this)};var nI=function(a){a.Mf&&a.Mf.H();var b=new KB;b.Nr=(0,z.Ya)("pin-topic-moving").split(" ");LB(b,a.h,0);b.init();a.v().g(b,"dragend",(0,z.r)(a.zu,a));a.Mf=b;(0,window.$)("a",a.h).each(function(){a.v().g(this,"mousedown",function(a){a.stopPropagation()})})};var oI=function(a,b){return(0,window.$)(a.h).find("[data-topicid\x3d"+b+"]")};
var pI=function(a,b){return window.$.post("/pin-topic/add",{tid:b},window.$.proxy(function(a){!a.r&&a.msg?((0,window.$)(this.h).append((0,window.$)(this.zT({topic:a.msg})).hide().fadeIn()),nI(this)):z.T(a.msg)},a))};var qI=function(a,b,c){var d=oI(a,b);d.fadeOut(function(){d.remove();a.zu().done(function(a){c&&c(a)});a.dispatchEvent({type:"change",AJ:d.attr("data-topicid")});0===(0,window.$)(".js-pin-item").length&&(0,window.$)(".no-pin-topics").show()})};
var rI=function(){z.Q.call(this);this.EE="even";this.Fn="current"};var sI=function(a,b){return a.av.filter(function(){return(0,window.$)(this).text()===b})};var tI=function(a,b){return a.av.filter(function(){return(0,window.$)(this).attr("data-id")===String(b)})};var uI=function(){z.Q.call(this)};var vI=function(a){z.bj.set("SettingsAccountPage:pageAlert",a);window.location.reload()};
var wI=function(a){return window.$.extend(!0,{},{messages:{digits:{required:"\u8bf7\u586b\u5199\u6570\u5b57\u9a8c\u8bc1\u7801"},password:{required:"\u8bf7\u586b\u5199\u5bc6\u7801"},password_repeat:{required:"\u8bf7\u586b\u5199\u5bc6\u7801"},email:{required:"\u8bf7\u586b\u5199\u90ae\u7bb1"},phone_no:{required:"\u8bf7\u586b\u5199\u624b\u673a\u53f7"}},ignore:"input.text:hidden"},a)};
var xI=function(){function a(a,b){return!!z.y.find(a,function(a){return a.challenge_type===b})}function b(a){var b={value:a.challenge_type};switch(b.value){case "password":b.label="\u4f7f\u7528\u77e5\u4e4e\u5bc6\u7801\u9a8c\u8bc1";break;case "phone_digits":b.label=z.wa("\u4f7f\u7528\u624b\u673a %s \u9a8c\u8bc1",a.hint);break;case "email_digits":b.label=z.wa("\u4f7f\u7528\u90ae\u7bb1 %s \u9a8c\u8bc1",a.hint)}return b}var c=window.$.Deferred();if(z.ek.get("unlock_ticket"))return c.resolve().promise();
var d=z.uv({title:"\u9a8c\u8bc1\u8eab\u4efd",Yj:!0,iJ:"\u6b63\u5728\u8fdb\u884c\u5b89\u5168\u9a8c\u8bc1\uff0c\u8bf7\u7a0d\u7b49",className:"settings-account-unlock-dialog",onload:function(a,b){function d(a){var b=(0,window.$)(".panel",l),c=a?b.filter(function(){return(0,window.$)(this).data("match")===a}):b.first();b.not(c.show()).hide()}var l=(0,window.$)("form",a),n=(0,window.$)(".submit",l),p=(0,window.$)(".error-label-container",l),t=(0,window.$)(".hint-label-container",l),C=(0,window.$)("select",
l).change(function(){d(this.value);p.text("");t.text("")});(0,window.$)(".js-send-digits",l).each(function(){var a=(0,window.$)(this),c=a.closest(".panel");(0,window.$)("input",c);var d=c.data("match"),a=(0,z.mk)(a,"email_digits"===d?10:60,yI,function(){t.text("");zI.dU(d).then(function(){t.text("\u9a8c\u8bc1\u7801\u5df2\u53d1\u9001\u81f3\u4f60\u7684"+("email_digits"===d?"\u90ae\u7bb1":"\u624b\u673a"))})});z.dc(b,a)});var I=l.validate(wI({errorLabelContainer:p,submitHandler:z.fk(n,function(){var a=
"password"===C.val();return(a?zI.lV:zI.kV)((0,window.$)(":input:visible",l).serialize()).then(function(d){if(d.success)b.G(!1),c.resolve();else if(d=d.payload,d.fields)I.showErrors(d.fields);else if(d.message){var f={};f[a?"password":"digits"]=d.message;I.showErrors(f)}})})}));C.change();(0,window.$)("input.text:visible",l).focus()},rw:zI.CT().then(function(f){if(f.success)return(0,window.setTimeout)(function(){d.G(!1);c.resolve()},3E3),'\x3cp class\x3d"z-text-muted"\x3e\u9a8c\u8bc1\u6210\u529f\x3c/p\x3e';
var g=f.payload;return zI.DT().then(function(c){return(0,z.Lp)(c,{canUsePanel:z.oa(a,g),each:z.y.forEach,options:z.y.map(g,b)})})})});return c.promise()};
var AI=function(a,b){function c(a){return!a.success&&a.payload}function d(){R.addClass("expanded");a.trigger("expanded")}function f(b){R.removeClass("expanded");b&&R.find(".group-text .text").text(b);a.removeClass("form-expanded");a.trigger("collapsed");a.find(":input:not(:submit)").each(function(){this.value=this.defaultValue});K.text(K.data("defaultText"));I.text("")}function g(){return window.$.Deferred(function(b){Z&&!a.hasClass("form-expanded")&&a.valid()?(a.addClass("form-expanded"),C.click(),
K.data("defaultText",K.text()).text("\u786e\u5b9a"),b.reject()):b.resolve()}).promise()}function h(){return p.submit(a.serialize())}function l(a){a.fields?Ka.showErrors(a.fields):a.message&&z.T(a.message)}function n(a){var b=a.payload;a.success?(b&&f(b[t.attr("name")]),p.Ft()):l(b)}var p=window.$.extend({QD:10,OA:window.$.noop,PA:"",submit:window.$.noop,Ft:window.$.noop,BV:{email:{promise:[zI.zV,200,c]},phone_no:{promise:[zI.AV,200,c]}}},b),t=(0,window.$)("input.text:first",a),C=(0,window.$)(".js-send-digits",
a),I=(0,window.$)(".hint-label-container",a),K=(0,window.$)(":submit",a),R=a.closest(".form-container"),Z=!!C.length,Ka;(function(){(0,window.$)(".js-expand:not(.disabled)",R).click(function(){xI().then(d);return!1});Z&&(0,z.mk)(C,p.QD,yI,function(){if(!t.valid())return!1;I.text("");p.OA(t.val()).then(function(a){a.success?I.text(p.PA):l(a.payload)})});Ka=a.validate(wI({rules:p.BV,errorPlacement:function(a,b){b.is(":visible")&&a.appendTo(b.parent())},submitHandler:z.fk(K,function(){return xI().then(g).then(h).then(n)})}))})()};
var yI=function(a){return a?"%s \u79d2\u540e\u5373\u53ef\u91cd\u53d1":"\u91cd\u53d1\u9a8c\u8bc1\u7801"};
var BI=function(a){a=(0,window.$)(".email-form",a.h);if(a.length){AI(a,{PA:"\u9a8c\u8bc1\u7801\u5df2\u53d1\u9001\u81f3\u4f60\u7684\u90ae\u7bb1",OA:zI.$T,submit:zI.qV,Ft:z.oa(vI,"\u90ae\u7bb1\u7ed1\u5b9a\u6210\u529f")});a.on("expanded",function(){(0,window.$)(".email-activation-notice").remove()});a=function(){window.$.post("/reactive").done(function(a){a.r?z.Ur(a.msg,"error"):z.Ur("\u9a8c\u8bc1\u90ae\u4ef6\u91cd\u53d1\u6210\u529f")})};var b=(0,window.$)(".resend-activation-email");if(b.length){var c=
b.text();(0,z.mk)(b,10,function(a){return a?c+"\uff08%s\uff09":c},a)}}};
var CI=function(a){var b=(0,window.$)(".sns-accounts-container",a.h);if(b.length){var c=function(a,c){var f=(0,window.$)(z.wa("a[data-type\x3d%s]",a),b);c?vI(window.$.trim(z.wa("%s\u7ed1\u5b9a\u6210\u529f",d(a)))):f.text(window.$.trim(z.wa("\u7ed1\u5b9a%s",d(a)))).removeClass("js-unbind").addClass("js-bind").prev(".name").remove()},d=function(a){return{qqconn:" QQ ",wechat:"\u5fae\u4fe1",sina:"\u5fae\u535a"}[a]};b.on("click","a.js-bind",function(){var a=this.href;xI().then(function(){window.open(a)});
return!1});b.on("click","a.js-unbind",function(){var a=(0,window.$)(this).data("type"),b=d(a);z.Bi({Yj:!0,title:"\u89e3\u7ed1\u793e\u4ea4\u5e10\u53f7",content:z.wa("\u89e3\u7ed1%s\u540e\u4f60\u5c06\u65e0\u6cd5\u4f7f\u7528%s\u767b\u5f55\u77e5\u4e4e\uff0c\u4f60\u786e\u5b9a\u8981\u89e3\u7ed1\u5417\uff1f",b,b),buttons:["\u53d6\u6d88","\u89e3\u7ed1"]},function(d){d&&(0,window.setTimeout)(function(){xI().then(z.oa(zI.gV,a)).then(z.oa(z.Ur,z.wa("\u89e3\u7ed1%s\u6210\u529f",b)),z.T).then(z.oa(c,a,!1))})});
return!1});var f=function(a){return function(b){"error"===a?(0,window.setTimeout)(function(){z.Ur(b.sf.message,"error")},3E3):c(a,!0)}};a.v().g(z.X,"sina_callback",f("sina")).g(z.X,"qqconn_callback",f("qqconn")).g(z.X,"wechat_callback",f("wechat")).g(z.X,"oauth_error_callback",f("error"))}};var DI=function(){z.Q.call(this)};
var EI=function(){(0,window.$)(".report-table .report-appeal").click(function(a){a.preventDefault();var b=(0,window.$)(this).closest("tr"),c=new z.vi;z.ki(c,!0);c.Eg=!0;z.pi(c,z.fi());c.kb("\u8bf7\u586b\u5199\u4f60\u7684\u7533\u8bc9\u7406\u7531");c.ha('\x3ctextarea class\x3d"textarea" name\x3d"reason" placeholder\x3d"\u7b80\u6d01\u7684\u7533\u8bc9\u7406\u7531\u4f1a\u8ba9\u7ba1\u7406\u5458\u66f4\u5feb\u5904\u7406"\x3e\x3c/textarea\x3e');c.G(!0);c.ca();c.g(z.ri,function(a){"ok"===a.key&&window.$.post("/report/appeal",
{report_id:b.data("id"),reason:(0,window.$)('[name\x3d"reason"]',c.h).val()},function(){z.Bi({title:"\u7533\u8bc9\u63d0\u4ea4",Yj:!0,content:"\x3cp\x3e\u60a8\u7684\u7533\u8bc9\u6b63\u5728\u7b49\u5f85\u4eba\u5de5\u5904\u7406\uff0c\u6211\u4eec\u4f1a\u5728 24 \u5c0f\u65f6\u5185\u5904\u7406\u5b8c\u6210\u3002\x3c/p\x3e\x3cp\x3e\u5904\u7406\u5b8c\u6210\u540e\u4f1a\u79c1\u4fe1\u901a\u77e5\u60a8\u3002\x3c/p\x3e",className:"report-success-dialog",ca:!0,buttons:["\u77e5\u9053\u5566"]})})})});(0,window.$)(".report-table .report-show-deleted").click(function(a){a.preventDefault();
(0,window.$)(this).next(".report-deleted").toggleClass("hidden")})};
var FI=function(){if((0,window.$)(".community-copyright-content").length){var a=(0,window.$)(".community-copyright-faq");z.y.forEach(z.y.cC(a.find("dt").get(),a.find("dd").get()),function(a){new z.Zj(a[0],a[1])});var b=(0,window.$)(".community-copyright-form");(0,window.$)("button.submit-button",b);(0,window.$)('input[name\x3d"original"]',b);var c=(0,window.$)('textarea[name\x3d"description"]',b);new z.un(c[0]);var d=function(){(0,window.$)("[placeholder]",b).placeholder()},f=function(a){a.removeClass("uneditable");
(0,window.$)(".url-input",a).val("");(0,window.$)(".title-input",a).val("");d()},a=function(a){return function(c){var d=z.A.xN(c),f=(0,window.$)(z.wa('input[name\x3d"%s"]',d),b);c=a(c[d]);c.then(function(a){var b=f.parent();b.addClass("uneditable");(0,window.$)(".title-input",b).val(a.title)},z.m);return c}},g=function(a,b){return new z.Ib(function(c,d){window.$.post(a,b).then(c,function(a){d(a.RX)})})},h=/\/question\/\d+\/answer\/\d+/,l=/zhuanlan\./,n=/\/\/mp\.weixin\.qq\.com\//,p=window.location.pathname,
t={PT:function(a){return h.test(a)||l.test(a)?g(p+"/validate",{url:a}):nC({message:"\u8bf7\u586b\u5199\u6b63\u786e\u7684\u56de\u7b54\u6216\u8005\u6587\u7ae0\u94fe\u63a5"})},QT:function(a){return n.test(a)?new z.Ib(function(b,c){window.$.post("/scraper",{url:a}).then(function(a){a&&"link"===a.type?b(a):c({message:"\u8bf7\u586b\u5199\u6b63\u786e\u7684\u94fe\u63a5"})},function(){c({message:"\u8bf7\u586b\u5199\u6b63\u786e\u7684\u94fe\u63a5"})})}):nC({message:"\u5fae\u4fe1\u516c\u4f17\u5e73\u53f0\u4ee5\u5916\u7684\u7ef4\u6743\u8bf7\u8054\u7cfb banquan@zhihu.com"})},
submit:function(a){return g(p,{data:JSON.stringify(a)})}},C={promise:[a(t.PT)]},I={promise:[a(t.QT)]},K=(0,window.$)(".copies",b),R=(0,window.$)("#copies-item-tmpl").html(),Z=0,Ka=function(){function a(b){return{url:(0,window.$)(".url-input",b).val(),title:(0,window.$)(".title-input",b).val()}}return{original:a((0,window.$)(".link-inputs.original",b)),copies:z.y.map((0,window.$)(".link-inputs.uneditable",K).get(),a),description:c.val()}},Ua=function(){(0,window.$)(".copies-item",b).slice(1).remove();
(0,window.$)(".link-inputs",b).each(function(){f((0,window.$)(this))});b[0].reset();Ba.resetForm()},Ja=function(){function a(){--b;b?((0,window.$)(".countdown-text",d.Y()).text(b),(0,window.setTimeout)(a,1E3)):(Ua(),d.G(!1))}var b=5,c=z.wa('\x3cp class\x3d"text-center"\x3e\x3cspan class\x3d"sprite-community-copyright-icon-ok"\x3e\x3c/span\x3e\x3cbr\x3e\x3cbr\x3e\u5904\u7406\u6210\u529f\u540e\u4f1a\u901a\u8fc7\u7ad9\u5185\u79c1\u4fe1\u901a\u77e5\u60a8\x3cbr\x3e\x3csmall class\x3d"text-muted"\x3e\x3cspan class\x3d"countdown-text"\x3e%s\x3c/span\x3e \u79d2\u540e\u7a97\u53e3\u81ea\u52a8\u5173\u95ed\x3c/small\x3e\x3c/p\x3e',
b),d=new z.vi;d.kb("\u63d0\u4ea4\u6210\u529f");d.ha(c);d.G(!0);(0,window.setTimeout)(a,1E3)};b.on("click","button.copies-item-remove-button",function(){(0,window.$)(this).closest(".copies-item").remove()}).on("click","button.copies-item-add-button",function(){Z+=1;var a=(0,window.$)(R).appendTo(K);(0,window.$)("input.url-input",a).focus().attr("name","copy-"+Z).rules("add",I);d()}).on("change input paste","input.title-input",function(){f((0,window.$)(this).parent())});var Ba=b.validate({rules:{original:C,
copy:I},errorPlacement:function(a,b){a.insertAfter(b.parent())},submitHandler:function(){var a=Ka();if(!a.copies.length)return z.T("\u5fc5\u987b\u586b\u5199\u81f3\u5c11\u4e00\u6761\u586b\u5199\u4fb5\u6743\u7684\u5185\u5bb9\u94fe\u63a5");t.submit(a).then(Ja,function(a){z.T(a?a.message:"\u63d0\u4ea4\u5931\u8d25\u8bf7\u7a0d\u540e\u91cd\u8bd5")})}});d()}};var GI=function(){z.Q.call(this)};
var HI=function(a,b){var c=z.L(b);if(c){var d=new z.dz;a.L(d);d.use("locationSource",{Kt:!0});d.w(c);(0,window.$)(c).on("click",'a[name\x3d"revert"]',function(){if(!1===AE({nm:!0})())return!1;KD(this);return!1}).on("click",'.zm-item-meta a[name\x3d"report"]',function(){(new z.ax("activity",(0,window.$)(this).data("id"))).submit();return!1})}};var II=function(){z.Q.call(this)};
var JI=function(a,b){var c;if(a&&b){c=c||"text-highlight";var d=new RegExp(b,"i");(0,window.$)(a).find("*").andSelf().contents().each(function(){if(3===this.nodeType){var a=this,g=a.parentNode;if(!z.S.has(g,c))for(var h,l;-1!==(h=a.data.search(d));)h=0<h?a.splitText(h):a,a=h.splitText(b.length),l=window.document.createElement("em"),l.className=c,l.appendChild(h.cloneNode()),g.replaceChild(l,h)}})}};var KI=function(){z.Zy.call(this,{use:["autoload","dataPagingSource"]})};
var LI=function(){z.Q.call(this);this.eh="roundtable";this.zp=z.nj.roundtable};var MI=function(a){var b=new z.Pz({qw:"content",tJ:"script.content"});a.L(b);b.w(a.h);a.g("expandRequest",(0,z.r)(a.expand,a));a.g("expand",function(a){a.target===a.currentTarget&&b.expand()});a.g("collapse",function(a){a.target===a.currentTarget&&b.collapse()})};
var NI=function(){var a=(0,window.$)(".roundtable-profile"),b=(0,window.$)(".share",a),c=b.data("token");if(b.length){var d=window.location.protocol+"//"+window.location.host+"/roundtable/"+c;z.Zx(b.get(0),"roundtable",c,d)}(0,window.$)(".follow",a).click(z.vm(function(){var b=this;(0,z.gu)(b,"roundtable",function(c){(0,window.$)(".label",b).text(c?"\u53d6\u6d88\u5173\u6ce8":"\u5173\u6ce8");var d=(0,window.$)(".followers .count",a);c=Number(d.data("count"))+(c?1:-1);d.length&&(c=Math.max(c,0),d.text(c).data("count",
c))},["button-success","button-cancel"])}))};var OI=function(){z.Q.call(this);this.KA=z.nj.searchKeyword};var PI=function(){var a=(0,window.$)("#js-search-question-form");a.length&&a.submit(function(b){b.preventDefault();b=z.Ip.U();b.show();z.Jp(b,(0,window.$)(".title-input",a).val())})};
var QI=function(a){var b=(0,window.encodeURIComponent)(a.KA);(0,window.$)("ul.list[data-paging]").on("click",".item a[href!\x3d#]",function(a){a=a.currentTarget;a.host&&(a=(0,window.$)(a).closest(".item").index()+1,z.ek.set("s-q",b),z.ek.set("s-i",a),z.ek.set("sid",(0,z.xt)()))})};
var RI=function(a){function b(a,b){var f=(0,window.$)(a);window.$.each(b(),function(a,b){f.on("click",a,function(a){d.apply(null,c(b,a))})})}function c(a,b){return f(a,function(a){return z.ha(a)?a(b):a})}var d=z.oa(z.W,"search"),f=z.y.map;b(".related-topics",function(){return{"a.avatar-link":["visit_topic","search_result_card_topic_avatar"],"a.name-link":["visit_topic","search_result_card_topic"],"a[href$\x3dquestions]":["visit_topic_questions","search_result_card_topic"],"a[href$\x3dtop-answers]":["visit_topic_topanswers",
"search_result_card_topic"],"a[href$\x3dfollowers]":["visit_topic_followers","search_result_card_topic"],"button.zg-btn-follow":["click_follow_topic","search_result_card_topic"],"button.zg-btn-unfollow":["click_unfollow_topic","search_result_card_topic"],'a[href^\x3d"/search?"]':["click_search_result_more","search_result_card_topic"]}});b(".related-users",function(){return{"a.avatar-link":["visit_people_profile","search_result_card_people_avatar"],"a.name-link":["visit_people_profile","search_result_card_people"],
"a[href$\x3danswers]":["visit_people_answers","search_result_card_people"],"a[href$\x3dfollowers]":["visit_people_followers","search_result_card_people"],"a[href$\x3dposts]":["visit_people_posts","search_result_card_people"],"button.zg-btn-follow":["click_follow_people","search_result_card_people"],"button.zg-btn-unfollow":["click_unfollow_people","search_result_card_people"],'a[href^\x3d"/search?"]':["click_search_result_more","search_result_card_people"]}});b(window.document.body,function(){var a=
z.oa(z.wa,"search_result_%s_more_button");return{"ul.list.questions + .zu-button-more":["click_search_result_more",a("all")],"ul.list.users + .zu-button-more":["click_search_result_more",a("user")],"ul.list.topics + .zu-button-more":["click_search_result_more",a("topic")]}});b(".search-tabs",function(){var a=z.oa(z.wa,"search_result_tab_%s");return{'a[href^\x3d"/search?type\x3dquestion"]':["click_search_result_tab",a("all")],'a[href^\x3d"/search?type\x3dpeople"]':["click_search_result_tab",a("user")],
'a[href^\x3d"/search?type\x3dtopic"]':["click_search_result_tab",a("topic")]}});b(".range-selector",function(){var a=z.oa(z.wa,"search_result_range_%s");return{'a[href*\x3d"range\x3d1d"]':["click_search_result_range",a("1d")],'a[href*\x3d"range\x3d1w"]':["click_search_result_range",a("1w")],'a[href*\x3d"range\x3d3m"]':["click_search_result_range",a("3m")]}});b("ul.list.questions",function(){function a(){return function(a){return"search_result_all_list_"+((0,window.$)(a.target).closest(".item").index()+
1)+""}}return{"a.question-link":["visit_question",a()],".js-expand, .summary":["click_expand",a()],'a[name\x3d"collapse"]':["click_collapse_answer",a()],"a.zg-follow":["click_follow_question",a()],"a.zg-unfollow":["click_unfollow_question",a()]}});b("ul.list.users",function(){function a(b){return function(a){return"search_result_user_list_"+((0,window.$)(a.target).closest(".item").index()+1)+(b||"")}}return{"a.avatar-link":["visit_people_profile",a("_avatar")],"a.name-link":["visit_people_profile",
a()],"a[href$\x3danswers]":["visit_people_answers",a()],"a[href$\x3dfollowers]":["visit_people_followers",a()],"a[href$\x3dposts]":["visit_people_posts",a()],"button.zg-btn-follow":["click_follow_people",a()],"button.zg-btn-unfollow":["click_unfollow_people",a()]}});b("ul.list.topics",function(){function a(b){return function(a){return"search_result_topic_list_"+((0,window.$)(a.target).closest(".item").index()+1)+(b||"")}}return{"a.avatar-link":["visit_topic",a("_avatar")],"a.name-link":["visit_topic",
a()],"a[href$\x3dquestions]":["visit_topic_questions",a()],"a[href$\x3dfollowers]":["visit_topic_followers",a()],"button.zg-btn-follow":["click_follow_topic",a()],"button.zg-btn-unfollow":["click_unfollow_topic",a()]}});a.v().g(a,"click!",function(a){"comment"===a.namespace&&a.Pc.fill("category","search").fill("label","search_result_answer")})};
var SI=function(a,b){z.H.call(this);var c=this.J={};z.A.extend(c,this.defaults,b||{});this.input=a;this.xb=c.xb;this.xh=this.LS();this.bw=[];this.bw.push({action:"remove",method:this.removeTag,xw:c.pT,V:"\u5220\u9664"});(0,window.setTimeout)((0,z.r)(this.vg,this))};
var TI=function(a,b){var c={wd:function(a,b,c){c.innerHTML=f(a.data)}};z.A.extend(c,b||{});var d=new z.Xl(a,c);z.G(d,"show",function(){1<d.Ha.length&&!d.Ha[0].id&&z.Gk(d)});var f=(0,z.Lp)('\x3c% if (data.avatar) { %\x3e\x3cimg class\x3d"zm-item-img-avatar zg-left" src\x3d"\x3c%\x3davatar%\x3e"\x3e\x3c% } %\x3e\x3c% if(data.type \x3d\x3d\x3d "search_link" || !data.id){ %\x3e\x3cspan class\x3d"zu-autocomplete-row-name zu-autocomplete-row-name-info"\x3e\x3c%\x3ddata.type \x3d\x3d\x3d "search_link"?("\u6dfb\u52a0 "+label+" \u8bdd\u9898"):label%\x3e\x3c/span\x3e\x3c% } else { %\x3e\x3cspan class\x3d"zu-autocomplete-row-name"\x3e\x3c%\x3dlabel%\x3e\x3c/span\x3e\x3c% } %\x3e\x3cspan class\x3d"zg-gray-normal zu-autocomplete-row-description"\x3e\x3c% if (data.alias \x26\x26 data.followers) { %\x3e\x3c% if ( data.alias ) { %\x3e\u53c8\u79f0 \x3c%\x3dalias%\x3e\x3c% } %\x3e\x3c% if ( data.alias \x26\x26 data.followers ){ %\x3e\uff0c\x3c% } %\x3e\x3c% if ( data.followers ){ %\x3e\x3c%\x3dfollowers%\x3e \u4eba\u5173\u6ce8\x3c% } %\x3e\x3c% }else{ %\x3e\x26nbsp;\x3c% } %\x3e\x3c/span\x3e');return d};
var UI=function(){this.jC=this.mC=null};
var VI=function(a){function b(){var a=window.$.grep(f.get(0).options,function(a){return a.selected});window.$.map(a,function(a){return a.value})}function c(){g=n.CN();p.val(g.join(","))}var d=(0,window.$)("#rq-settings-ui"),f=(0,window.$)("select.select",d);(0,window.$)(".topics-num",d);(0,window.$)(".actions-num",d);var g=[];a.jC=(0,window.$)("#rq-info-block");d.on("click",".beginedit-button",function(a){a.preventDefault();d.addClass("expanded-view")}).on("click",".exitedit-button",function(a){a.preventDefault();
d.removeClass("expanded-view")}).on("click",".endedit-button",function(a){a.preventDefault();d.get(0).submit()});a=(0,window.$)(".topic-editor",d);var h=(0,window.$)("input.topic-input",a).get(0),l=(0,window.$)("ul.tag-list",a).get(0),n=new SI(h,{fw:!0,xb:l}),p=(0,window.$)('input[name\x3d"topics"]',a);n.on("change",c);f.on("change",b);c();b();WI(f.get(0))};
var WI=function(a){function b(a,b){var c=z.N("li"),f=z.N("span","item-label",a);c.appendChild(f);var h=new z.Oj("",z.Xj.U());h.Kh("zm-profile-tag-btn zm-profile-tag-btn-del");h.Ya(!0);h.qc("\u79fb\u9664\u52a8\u4f5c");h.Da(b);h.addEventListener("action",function(){var a=h.W();g(a,!1);z.O(c);l.Zt(!0);d()});h.fa(c);p.appendChild(c)}function c(){n.G(l.Mg()!==f().length)}function d(){z.y.forEach(h,function(a){a.selected||(a=new OF(a.text,a.value),l.Fa(a))});c()}function f(){return z.y.filter(l.eb(),function(a){return!!(a.O&
8)})}function g(a,b){var c=z.y.find(h,function(b){return b.value===a});c&&(c.selected=b)}z.P(a,!1);var h=a.options,l=new z.Mw;l.on("action",function(a){a=a.target;b(a.Kg(),a.W());g(a.W(),!0);l.removeItem(a);c()});var n=new z.Uw("\u6dfb\u52a0\u52a8\u4f5c",l);n.Kh("menu-button");n.fa(a.parentNode);n.zi=!0;z.Ww(n);var p=z.N("ul","display-list");d();(function(){z.y.forEach(h,function(a){a.selected&&b(a.text,a.value)})})();a.parentNode.insertBefore(p,n.m())};
var XI=function(a){function b(){var b=f.text()||0;0<b&&f.text(b-1);YI(a)}var c=(0,window.$)("#rq3-item-list"),d={QU:function(a){return window.$.post("/watch/thank",{id:a,rq_type:"thank"})},read:function(a){return window.$.post("/watch/seen",{id:a,rq_type:"seen"})}};c.on("click",".read-button",function(){var a=(0,window.$)(this).closest(".rq-item"),c=a.data("id");d.read(c);b();a.slideUp(function(){a.remove()})}).on("click",".thank-button",function(a){a.preventDefault();a=(0,window.$)(this);var b=a.closest(".rq-item").data("id");
a.hasClass("thanked")||(d.QU(b),a.addClass("thanked").text("\u5df2\u611f\u8c22"))});ND(c);c=new uC(c.get(0),window.location.href,!0);c.dI=function(a){return a.getAttribute("data-id")};c.Fi("rq-item");c.init();var c=(0,window.$)("#rq3-sidenav-link"),f=(0,window.$)(".zg-num",c);a.mC=f};var YI=function(a){var b=a.jC,c=Number(a.mC.text());(0,window.setTimeout)(function(){b.toggleClass("hidden",!!c)},210)};var ZI=function(){z.Q.call(this)};var $I=function(){z.Q.call(this)};var aJ=function(){z.Q.call(this)};
var bJ=function(){};var cJ=function(){z.Q.call(this);this.eh="explore";this.iN="explore_feed"};
var dJ=function(a){var b=(0,window.$)("#js-explore-tab");if(b.length){var c=(0,window.$)(".tab-panel",b),d=(0,window.$)(".tab-nav",b),f=null;d.children().click(function(){f=z.Ce(window.document)});b=function(){var b={"daily-hot":0,"monthly-hot":1}[window.location.hash.slice(1)]||0;d.removeClass("active").eq(b).addClass("active");a.Ey(c.hide().eq(b).show().children("[data-type]"));f&&window.scrollTo(f.x,f.y)};a.v().g(window,"hashchange",b);b()}};
var eJ=function(a){var b=(0,window.$)("#zh-recommend-list-full\x3e.zh-general-list")[0];if(b){var c=new z.dz;c.use("nodeSource");z.$y(c,function(a){var b=z.DA(a);b&&(c.L(b),b.w(a))});a.L(c);c.w(b)}};var fJ=function(a){z.Zy.call(this,{source:gJ(a),use:["autoload"]})};var gJ=function(a){return function(){return a((0,window.$)(this.eb()).last().data("offset")).then(function(a){return{results:a}})}};var hJ=function(){z.Q.call(this)};
var iJ=function(){var a=0;return function(){return window.$.get("",{start:a+20,limit:20}).then(function(b){if(!b.r)return b=b.msg,b.hasmore&&(a+=20),{results:b.htmls,next:Boolean(b.hasmore)}})}};var jJ=function(a){this.hu=a;a.activityUrl="";kJ(this)};
var kJ=function(a){function b(a,b){var c;c=c||"slug";return{source:a,filter:function(a){return a.filter(function(a){return b.every(function(b){return b[c]!==a[c]})})},select:function(a){b.push(a);return""}}}a=a.hu;var c=a.roundtable;a.topicsSuggestOpitons=b("/r/ac/topics",c.topics);a.organizationsSuggestOpitons=b("/r/ac/topics",c.organizations);a.presentersSuggestOpitons=b("/r/ac/users",c.presenters);a.guestsSuggestOpitons=b("/r/ac/users",c.guests)};
var lJ=function(a,b){var c={Ld:5,className:"ui-suggest",fg:"row",GE:200};z.A.extend(c,b||{});var d=c.fa;d&&(c.wd=z.m,c.fa=function(a,b){!1!==d.apply(this,arguments)&&(a.gg=z.ye(a.fg,b))});z.Xl.call(this,a,c);var f=this.N;f.className=c.className;f.fg=c.fg;f.Uo=c.GE};
var mJ=function(a,b){return function(c,d,f){(0,window.$)(d).datetimepicker({autoclose:!0,forceParse:!1,format:"yyyy \u5e74 m \u6708 d \u65e5 hh:ii",startDate:new Date,language:"zh-CN"});b(function(){(0,window.$)(d).datetimepicker("update",new Date(a(f.ngModel)(c)))})}};
var nJ=function(){return{scope:{id:"@id",avatar:"\x3davatar"},link:function(a,b){var c=new hD(4,a.id,"xl");c.w(b);c.addEventListener("success",function(){a.$apply(function(){var b=c.getData(),f=a.avatar,g=b.url.split(".").slice(-1)[0];f.id=b.id;f.url=b.url;f.template=f.template.replace(/.\w+$/,"."+g)})})}}};
var oJ=function(a){return{scope:{options:"\x3dsuggestOptions"},link:function(b,c,d){var f,g;d={NT:'\x3cdiv class\x3d"row"\x3e\x3cimg class\x3d"avatar" src\x3d"[[avatar | avatarUrl]]"\x3e\x3cspan class\x3d"name"\x3e[[name]]\x3c/span\x3e\x3c/div\x3e',GE:100,source:d.source,kh:c.parent()[0],fa:function(a,b,c){b.innerHTML=c.map(function(a){return g(a.data)}).join("")}};g=a(d.NT);window.angular.extend(d,b.options);d.select&&(d.select=function(a){return function(c){return b.$apply(function(){return a(c)})}}(d.select));
f=new lJ(c[0],d);return b.$on("destroy",function(){return f.H()})}}};var pJ=function(){return function(a,b){return"string"===typeof a?a:a.template.replace("{id}",a.id).replace("{size}",b||"xs")}};var qJ=function(a){a.startSymbol("[[").endSymbol("]]")};var rJ=function(){LI.call(this);this.zp=z.nj.roundtable};
var sJ=function(a){var b=a.zp;(0,window.$)(".feeds.pending-questions").on("click",".add",function(){var a=(0,window.$)(this).data("token"),d=(0,window.$)(this).closest(".item");window.$.post("/roundtable/"+b.slug,{action:"approve_question",url_token:a}).then(function(a){a.success?d.fadeOut(function(){d.remove()}):z.T(a.message||"\u63d0\u4ea4\u5931\u8d25")})}).on("click",".remove",function(){var a=(0,window.$)(this).data("token"),d=(0,window.$)(this).closest(".item");window.$.post("/roundtable/"+b.slug,
{action:"ignore_question",url_token:a}).then(function(a){a.success?d.fadeOut(function(){d.remove()}):z.T(a.message||"\u63d0\u4ea4\u5931\u8d25")})})};
var tJ=function(a){var b=a.zp;(0,window.$)(".feeds.pending-activities").on("click",".remove",function(){var a=(0,window.$)(this).data(),d=(0,window.$)(this).closest(".item");window.$.post("/roundtable/"+b.slug,{action:"remove_pending_activity",type:a.type,url_token:a.token}).then(function(a){a.success?d.fadeOut(function(){d.remove()}):z.T(a.message||"\u63d0\u4ea4\u5931\u8d25")})})};var uJ=function(){z.Q.call(this)};var vJ=function(){z.Q.call(this)};
var wJ=function(a){a.cv&&a.cv.hide();a.cv=(0,window.$)(a.pC[a.zr]).show();(0,window.$)(".question-progress").html(a.zr+1+"/"+a.sA);a.zr++};
var xJ=function(a,b){a.$B.hide();a.Sp.show();b?((0,window.$)(".success-view-back-btn",a.Sp).removeClass("zg-btn-blue"),(0,window.$)(".continue-btn",a.Sp).css("display","inline-block")):((0,window.$)(".success-view-back-btn",a.Sp).addClass("zg-btn-blue"),(0,window.$)(".continue-btn",a.Sp).hide());a.Pp===a.VE&&(0,window.$)(".success-describe",a.K).html("\u4f60\u7684\u53cb\u5584\u5ea6\u5df2\u7ecf\u662f\u6700\u9ad8\u503c");var c=(0,window.$)(".blue-stars",a.K).css("width","0"),d=a.Pp;(0,window.setTimeout)(function(){c.animate({width:20*
d+"%"},1E3)},200)};var yJ=function(a,b,c){var d=(0,window.$)(".failed-view-wrong-answers",a.ol);a.$B.hide();a.ol.show();c?((0,window.$)(".failed-view-back-btn",a.ol).removeClass("zg-btn-blue"),(0,window.$)(".continue-btn",a.ol).css("display","inline-block")):((0,window.$)(".failed-view-back-btn",a.ol).addClass("zg-btn-blue"),(0,window.$)(".continue-btn",a.ol).hide());d.html("");a.pC.each(function(){var a=(0,window.$)(this),c=a.data("id");z.y.contains(b,c)&&a.appendTo(d).show()})};var zJ=function(){z.Q.call(this)};
var pB={};z.Mw.prototype.Mg=z.Y(65,function(){return z.Uh(this)});z.Uw.prototype.Mg=z.Y(64,function(){return this.ka?z.Uh(this.ka):0});z.Jz.prototype.Mg=z.Y(63,function(){return z.Uh(this.Va())});z.Mw.prototype.Cf=z.Y(62,function(a,b){this.Kk(a,b,!0)});z.Uw.prototype.Cf=z.Y(61,function(a,b){this.Va().Kk(a,b,!0)});z.Jz.prototype.Cf=z.Y(60,function(a,b){this.Va().Kk(a,b,!0)});z.zp.prototype.Ex=z.Y(58,function(){return this.Na});z.mp.prototype.Oe=z.Y(57,function(a){this.aa.pu(a)});
z.ei.prototype.Gp=z.Y(13,function(a){this.jp=a});z.Hj.prototype.Gp=z.Y(12,function(a){this.jp=a});z.Fh.prototype.UA=z.Y(8,function(a){this.ky=Math.pow(a,2)});z.Fh.prototype.Of=z.Y(7,function(a){this.Ni=a});z.rl.prototype.Of=z.Y(6,function(a){this.Ni=a});z.te.prototype.uw=z.Y(4,function(a,b,c){var d=this.Ka;c=!!c;for(var f=d.createElement("TABLE"),g=f.appendChild(d.createElement("TBODY")),h=0;h<a;h++){for(var l=d.createElement("TR"),n=0;n<b;n++){var p=d.createElement("TD");c&&z.hf(p,"\u00a0");l.appendChild(p)}g.appendChild(l)}return f});
z.gd.prototype.yl=z.Y(3,function(){return this.kE});z.w(z.nB,z.H);z.e=z.nB.prototype;z.e.F=null;z.e.wL=!0;z.e.MJ=function(){this.F&&(this.disable(this.F),this.F=null)};z.e.enable=function(a){this.F==a&&(this.jc=!0)};z.e.disable=function(a){this.F==a&&(this.jc=!1)};z.e.isEnabled=function(a){return this.F==a?this.jc:!1};z.e.Fq=z.es;z.e.uG=z.es;z.e.C=function(){this.F&&this.MJ(this.F);z.nB.o.C.call(this)};
z.e.execCommand=function(a,b){var c=this.uG(a);c||(z.B&&z.lw(this.F,!0,!0),this.F.$h());try{var d=this.ef.apply(this,arguments)}finally{c||(this.F.bf(),z.kw(this.F))}return d};z.e.Je=function(){return!1};oB.prototype.Bj=!0;oB.prototype.Ng=function(){return this.tB};oB.prototype.toString=function(){return"Const{"+this.tB+"}"};var wB={},zB={};vB.prototype.Bj=!0;vB.prototype.Ng=function(){return this.nk};vB.prototype.ty=!0;vB.prototype.yl=function(){return 1};var lC=/^[-,."'%_!# a-zA-Z0-9]+$/;
yB.prototype.Bj=!0;yB.prototype.Ng=function(){return this.lI};yB.prototype.ty=!0;yB.prototype.yl=function(){return 1};var mC=/^(?:(?:https?|mailto|ftp):|[^&:/?#]*(?:[/?#]|$))/i,UB=/^#(?:[0-9a-f]{3}){1,2}$/i;z.w(BB,z.oc);var SB=/^(?:rgb)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\)$/i,VB=/#(.)(.)(.)/,kC=/^[a-zA-Z0-9-]+$/;z.w(JB,z.Ln);z.e=JB.prototype;z.e.w=function(a){if(this.isEnabled=!a.getAttribute("data-disabled"))JB.o.w.call(this,a),this.Le(!0),z.P(this.KE,!1)};
z.e.Sg=function(a){var b;this.Uy&&(b="/topic/autocomplete?no_create\x3dtrue");JB.o.Sg.call(this,a,b);this.X.sd.JE=!1};z.e.um=function(){return(0,z.r)(function(a,b){return z.y.filter(a,function(a){return 3>=a.length?!1:z.y.every(this.data,function(d){return d[1]===a[2]?b===a[1]?(a[0]="plain_text",a[1]='"'+b+'"\u5df2\u5728\u73b0\u6709\u5217\u8868\u4e2d',!0):!1:!0})},this)},this)};
z.e.We=function(a,b){this.$g||(this.$g=!0,this.xhr=new z.U(!0),this.v().va(this.xhr,"complete",this.zv),a||(a=-1),this.Uy?this.xhr.ajax("/topic/add","tid\x3d"+this.Af+"\x26pid\x3d"+a+"\x26topic_text\x3d"+(0,window.encodeURIComponent)(b)):this.xhr.ajax("/topic/add","tid\x3d"+this.Af+"\x26cid\x3d"+a+"\x26topic_text\x3d"+(0,window.encodeURIComponent)(b)))};z.e.UE=function(a){return'\x3ca class\x3d"nor" href\x3d"/topic/'+a[1]+'/organize"\x3e'+a[0]+"\x3c/a\x3e"};
z.e.ip=function(a){if(!this.da||!this.da.Ub()){var b=new z.U(!0);this.v().g(b,"success",function(){var c=z.ae(b);c.r?z.T(c.msg):(z.On(this),this.Pe(),this.dispatchEvent({type:"remove_tag",data:{id:a}}))});this.Uy?b.ajax(this.yI,"cid\x3d"+this.Af+"\x26pid\x3d"+a):b.ajax(this.yI,"pid\x3d"+this.Af+"\x26cid\x3d"+a);this.da=b}};z.w(KB,z.H);z.e=KB.prototype;z.e.UA=function(a){this.TF=a};
z.e.init=function(){if(!this.pG){for(var a=0,b=this.Uc.length;a<b;a++)for(var c=z.Te(this.Uc[a]),d=0,f=c.length;d<f;++d){var g=c[d],h=g,l=z.ja(h);this.Pw[l]=g;this.vE&&(this.S.g(g,"mouseover",this.dO),this.S.g(g,"mouseout",this.cO));this.uE&&(this.S.g(h,"mouseover",this.bO),this.S.g(h,"mouseout",this.aO));this.il.push(g);this.S.g(h,["mousedown","touchstart"],this.HO)}this.pG=!0}};
z.e.C=function(){this.S.H();for(var a=0,b=this.Uc.length;a<b;a++){var c=this.Uc[a];c.sE=void 0;c.aj=void 0}this.Uc.length=0;this.il.length=0;this.Pw=null;NB(this);KB.o.C.call(this)};
z.e.HO=function(a){var b=z.ja(a.currentTarget);this.Za=this.Pw[b];a:{for(var b=this.Za,c=b.cloneNode(!0),d=b.getElementsByTagName("TEXTAREA"),f=c.getElementsByTagName("TEXTAREA"),g=0;g<d.length;g++)f[g].value=d[g].value;switch(b.tagName){case "TR":b=z.N("TABLE",null,z.N("TBODY",null,c));break a;case "TD":case "TH":b=z.N("TABLE",null,z.N("TBODY",null,z.N("TR",null,c)));break a;case "TEXTAREA":c.value=b.value;default:b=c}}this.Hc=b;this.Nr&&z.Hg(this.Hc,this.Nr||[]);this.Hc.style.margin="0";this.Hc.style.position=
"absolute";this.Hc.style.visibility="hidden";z.ue(this.Za).body.appendChild(this.Hc);b=z.gh(this.Za);z.bv(this.Hc,b);this.Jb=new z.Fh(this.Hc);this.Jb.UA(this.TF);z.G(this.Jb,"start",this.Wx,!1,this);z.G(this.Jb,"end",this.ZN,!1,this);z.G(this.Jb,"earlycancel",this.hw,!1,this);this.Jb.Mm(a)};
z.e.Wx=function(a){if(this.dispatchEvent(new BB("beforedragstart",0,a.nD,0,0,null))){this.Ht=this.Za.parentNode;this.UD=this.Zz=z.cv(this.Za);this.zw=this.Ht;this.yw?z.Hg(this.Za,this.yw||[]):this.Za.style.visibility="hidden";var b=z.oh(this.Hc);this.Hc.HN=b.width/2;this.Hc.GN=b.height/2;this.Hc.style.visibility="";this.QB&&(this.Za.style.display="none");MB(this,this.Za);this.Za.style.display="";z.G(this.Jb,"drag",this.eO,!1,this);this.dispatchEvent(new BB("dragstart",0,a.nD,0,0,this.Jb))}else a.preventDefault(),
this.hw()};
z.e.eO=function(a){var b=z.gh(this.Hc),b=new z.oe(b.x+this.Hc.HN,b.y+this.Hc.GN),c;a:{c=null;if("none"!=this.Za.style.display){c=this.Za.parentNode;var d=z.qh(c);if(OB(b,d))break a}for(var d=0,f=this.Uc.length;d<f;d++){var g=this.Uc[d];if(g!=c&&OB(b,g.hl)){c=g;break a}}c=null}var h;if(c){if(null==c)throw Error("getHoverNextItem_ called with null hoverList.");var l,n,d=!1,f=void 0;switch(c.sE){case 0:h=b.y;l=GB;n=DB;break;case 4:d=!0;case 2:h=b.x;l=FB;n=DB;break;case 5:d=!0;case 3:h=b.x,l=EB,n=CB}for(var g=
null,p,t=z.Te(c),C=0,I=t.length;C<I;C++){var K=t[C];if(K!=this.Za){var R=l(K.hl);if(d){var Z=HB(K,b);z.ba(f)||(f=Z);n(h,R)&&(void 0==p||Z<f||Z==f&&(n(R,p)||R==p))&&(g=K,p=R);Z<f&&(f=Z)}else n(h,R)&&(void 0==p||n(R,p))&&(g=K,p=R)}}h=null!==g&&HB(g,b)>f?null:g}else h=null;if(!this.dispatchEvent(new BB("beforedragmove",0,a,0,0,this.Jb)))return!1;if(c)this.QB?this.Za.parentNode==c&&z.cv(this.Za)==h||c.insertBefore(this.Za,h):h&&(this.UD=h),this.Za.style.display="",c.aj&&z.Gg(c,c.aj);else for(this.UP||
(this.Za.style.display="none"),h=0,l=this.Uc.length;h<l;h++)n=this.Uc[h],n.aj&&z.Ig(n,n.aj);c!=this.zw&&(this.zw=c,MB(this,this.Za));this.dispatchEvent(new BB("dragmove",0,a,0,0,this.Jb));return!1};z.e.hw=function(){NB(this);this.Jb=this.Hc=this.Zz=this.Ht=this.zw=this.Za=null;for(var a=0,b=this.Uc.length;a<b;a++)this.Uc[a].hl=null;a=0;for(b=this.il.length;a<b;a++)this.il[a].hl=null};
z.e.ZN=function(a){if(!this.dispatchEvent(new BB("beforedragend",0,a,0,0,this.Jb)))return!1;this.QB||this.Ht.insertBefore(this.Za,this.UD);NB(this);this.dispatchEvent(new BB("dragend",0,a,0,0,this.Jb));this.hw();return!0};z.e.dO=function(a){z.Hg(a.currentTarget,this.vE||[])};z.e.cO=function(a){z.Jg(a.currentTarget,this.vE||[])};z.e.bO=function(a){z.Hg(a.currentTarget,this.uE||[])};z.e.aO=function(a){z.Jg(a.currentTarget,this.uE||[])};
var hC={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",
darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",
ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",
lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",
moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",
seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},AJ=/[^\d]+$/;z.w(XB,z.Ln);z.e=XB.prototype;
z.e.w=function(a){this.h=a;this.jg=z.M("zm-tag-editor-labels",this.h);this.Le(!0);this.xe();this.hc();this.Rf=z.L("zh-expert-topics");this.bn=z.L("zh-active-topics");YB(this);ZB(this);this.data=(0,window.$)("#zh-expert-topics .item").map(function(){return(0,window.$)(this).data("url-token")}).get();this.tm()};
z.e.Pn=function(){this.Vc||(this.Vc=z.N("div","zm-tag-editor-editor",[this.cf=z.N("div","zg-section zm-tag-editor-command-buttons-wrap",[this.pb=z.L("profile-expert-edit-input")])]),this.Ie&&(this.az=new z.Bn(this.Ie),this.az.w(this.pb),this.pb.title=this.Ie),z.Pe(this.Vc,this.jg),this.Sg(this.cf))};
z.e.Sg=function(a){this.X=new z.Kn("/topic/autocomplete",this.pb,null,null,a,!0);this.X.hg(!0);this.X.Yl=this.Ld;this.X.Hp(this.um());rB(this.X,[this.Ie]);this.v().g(this.X,"select",this.Yo);this.v().g(this.X,"suggestionsupdate",this.yv);this.v().g(this.X,"suggestionsupdate",this.vv);this.v().g(this.X,z.Fk,function(){(0,window.$)(this.X.N.h).hide()})};
z.e.vv=function(){if(0===this.X.Ha.length){var a=z.N("div",{className:"zu-autocomplete-empty"},"\u6ca1\u6709\u540d\u5b57\u4e3a "+(0,window.$)(this.pb).val()+" \u7684\u8bdd\u9898");(0,window.$)(this.X.N.h).html(a).show()}};z.e.Yo=function(){var a=this.X.rj().slice(1);a&&3<a.length&&(this.$D=a,this.We(a))};
z.e.We=function(a){this.data.push(a[1]);var b=(0,window.$)(this.Rf).find("[data-url-token\x3d'"+a[1]+"']")[0];b?z.cn(b):(QB("TopicMediumV2",{member_url_token:z.V[1],topic_url_token:a[1]},this.vr,this),(0,window.$)(this.bn).find("[data-url-token\x3d'"+a[1]+"']").remove(),this.dispatchEvent("add"))};z.e.vr=function(a){a=(0,window.$)(a)[0];z.Qe(this.Rf,a,0);z.cn(a);this.Yk()};z.e.Pe=function(){};
z.e.tm=function(){if(!z.cs.nb){var a=this;this.Mf&&this.Mf.H();var b=new KB;b.Nr=(0,z.Ya)("expert-item-moving").split(" ");LB(b,this.Rf,4);b.init();this.Mf=b;this.v().g(this.Mf,"dragend",function(){this.dispatchEvent("sort")});(0,window.$)("a, input, .del, .add",this.Rf).each(function(){a.v().g(this,"mousedown",function(a){a.stopPropagation()})});this.v().g(this.Mf,"beforedragstart",function(){return z.M("editing",this.Rf)?!1:!0})}};
z.e.Yk=function(){var a=(0,window.$)(this.Rf).children().length;6<a&&z.O((0,window.$)(this.Rf).children()[6]);z.P(z.L("zh-profile-expert-empty"),0>=a);0<a&&z.P(z.L("zh-profile-expert-warning"),!1);a=(0,window.$)(this.bn).children().length;z.P(z.L("active-topics-wrap"),a);this.tm()};z.e.um=function(){return(0,z.r)(function(a){return z.y.filter(a,function(a){return z.y.every(this.data,function(c){return c+""!==a[2]+""&&3<a.length})},this)},this)};z.w($B,JB);
$B.prototype.We=function(a){this.$g||(this.$g=!0,this.xhr=new z.U(!0),this.v().va(this.xhr,"complete",this.zv),this.xhr.ajax(this.kD,"tid\x3d"+a+"\x26method\x3dadd"))};$B.prototype.ip=function(a){this.$g||(this.$g=!0,this.xhr=new z.U(!0),this.v().g(this.xhr,"complete",function(){z.On(this);this.Pe();this.$g=!1}),this.xhr.ajax(this.kD,"tid\x3d"+a+"\x26method\x3ddel"))};z.w(aC,z.Ln);z.e=aC.prototype;z.e.w=function(a){this.h=a;this.jg=z.M("zm-tag-editor-labels",this.h);this.Le(!0);this.xe();this.hc()};
z.e.Pn=function(){this.Vc||(this.Vc=z.N("div","zm-tag-editor-editor",[this.On=z.N("div","zg-section zg-clear"),this.cf=z.N("div","zg-section zm-tag-editor-command-buttons-wrap",[this.pb=z.L("zh-topic-merge-input"),z.N("a",{"class":"zg-mr15 zg-btn-blue",href:"#",name:"add",style:"display:none;"},"\u6dfb\u52a0"),this.KE=z.L("zh-topic-merge-btn")])]),z.Pe(this.Vc,this.jg),this.Sg(this.cf))};
z.e.Sg=function(a){this.X=new z.Kn("/topic/autocomplete",this.pb,null,null,a,!0);this.X.hg(!0);this.X.Yl=this.Ld;this.X.Hp(this.um());this.X.cx=[this.Ie];this.v().g(this.X,"select",this.Yo);this.v().g(this.X,"suggestionsupdate",this.yv)};z.e.um=function(){return(0,z.r)(function(a){return z.y.filter(a,function(a){return z.y.every(this.data,function(c){return c[1]!==a[1]&&3<a.length})},this)},this)};z.e.Yo=function(){var a=this.X.rj().slice(1);a&&3<a.length&&(this.$D=a,this.We(a[3],a[0]))};
z.e.We=function(a,b){var c=this;(0,window.setTimeout)(function(){c.pb.value=b})};z.e.Pe=function(){};z.w(dC,z.ul);dC.prototype.Bh=function(){this.element.style.height=Math.round(this.coords[0])+"px"};z.w(eC,z.ul);eC.prototype.Bh=function(){this.element.style.width=Math.round(this.coords[0])+"px"};z.w(fC,z.ul);fC.prototype.Bh=function(){var a=this.Ni&&this.Jd()?"right":"left";this.element.style[a]=Math.round(this.coords[0])+"px";this.element.style.top=Math.round(this.coords[1])+"px"};z.w(oC,z.nk);
oC.prototype.init=function(){var a=z.L("zh-create-pm");a&&this.v().g(a,"click",this.rR);var a=z.L("zh-pm-item-wrap"),b=new z.dz;b.use("locationSource",{param:function(a){return{start:a[a.length-1].getAttribute("data-token")}}});b.w(a);this.v().g(a,"click",this.Oa);(0,window.$)(function(){(0,window.$)("#zh-change-pm-admin").change(function(){var a=(0,window.$)(this).find("option:selected").attr("data-token");window.location.href="self"===a?"/admin_feedback":"/admin_feedback/"+a})});(0,window.$)('a[name\x3d"report"]').each(function(a,
b){var f=(0,window.$)(b).closest(".zm-pm-item").data("report-token");z.cx(new z.ax("message",f),b)})};oC.prototype.rR=z.vm(function(){var a;this.uo();this.Wb.show();z.ir(this.Wb,-1);(a=z.Qa(window.location.pathname,"admin_inbox")?"admin":(0,window.$)("#zh-change-pm-admin option:selected").attr("data-token"))&&this.Wb.pu(a)},!0);oC.prototype.uo=function(){this.Wb||(this.Wb=new z.gr({Yt:!0}))};
oC.prototype.Oa=function(a){if(a=z.kn(this.LX,a.target)){var b=a.name,c=z.xf(a,this.pf);if(!c||!a.name)return!0;var d=(0,window.$)(c).data(),f=d.member,g=d.name;switch(b){case "reply":z.vm((0,z.r)(function(){this.uo();this.Wb.show();var a=this.Wb,b=d.type;a.Xp=d.token;a.AB=b;z.ir(this.Wb,f,g,!1);this.Wb.zc.focus()},this),!0)();break;case "delete":var h=c.getAttribute("data-token");z.Bi("\u5220\u9664\u79c1\u4fe1\u4f1a\u8bdd","\u4f60\u786e\u5b9a\u8981\u5220\u9664\u4e0e "+g+"\u7684\u6240\u6709\u4f1a\u8bdd\u5417\uff1f",
function(a){a&&pC(h)},this);break;case "edit":z.an(this.cd,this.Ch),this.Om=-1}}};z.w(qC,z.nk);
qC.prototype.init=function(){this.kt=z.L("zh-pm-detail-item-wrap");this.v().g(this.kt,"click",this.Oa);var a=z.L("zh-pm-editor-form");if(a){this.Wb=new z.gr({Yt:!0});this.Wb.lq=!1;this.Wb.qh(a);this.Wb.show();if(a=this.eb()[0]){var a=(0,window.$)(a).data(),b=this.Wb,c=a.type;b.Xp=a.token;b.AB=c;z.ir(this.Wb,a.member,a.name)}else a=z.Yp,z.ir(this.Wb,a.id,a.yx);this.Wb.focus()}else this.Wb=new z.gr({Yt:!0});rC(this);this.Gj()};
qC.prototype.Gj=function(){(0,window.$)('a[name\x3d"report"]').each(function(a,b){var c=(0,window.$)(b).closest(".zm-pm-item").data("token");z.cx(new z.ax("message",c),b)})};qC.prototype.eb=function(){return z.Te(this.kt)};
qC.prototype.Oa=function(a){var b=z.kn(this.kt,a.target);if(b&&(a=b.name,b=z.xf(b,this.pf))){var b=(0,window.$)(b).data(),c=b.token;switch(a){case "reply":this.Wb.show();a=this.Wb;var d=b.type;a.Xp=c;a.AB=d;z.ir(this.Wb,b.member,b.name,!1);this.Wb.focus();break;case "delete":sC(this,c)}}};z.w(uC,z.Q);z.e=uC.prototype;z.e.UB=!z.zi;z.e.TB=!z.zi;z.e.Fi=function(a){this.Xg=a};z.e.init=function(){this.ec=z.L("zh-load-more");this.w(this.bN)};
z.e.D=function(){uC.o.D.call(this);this.gn=1;BC(this);this.Gk=(0,window.$)(this.ec);this.ec&&(yC(this),this.v().g(this.ec,"click",function(){this.Go=!0;this.Hh&&"pending"===this.Hh.state()&&1===this.gn?(this.Hh.done((0,z.r)(this.bh,this)),this.aB=!0,wC(this,!0)):this.Sz()}),this.UB&&(this.BB=new z.$i(this.Pz,100,this),this.v().g(window,"scroll",function(){this.BB.fire()})));CC(this,this.eb())};z.e.Xl=function(){zC(this,!0)};
z.e.Pz=function(){var a=this.ec;a&&z.sh(a)&&1E3>=a.getBoundingClientRect().top-z.Be().height&&!(this.Qt||this.Hh&&"pending"===this.Hh.state())&&(this.TB&&(3===this.gn?(this.gn=1,this.aB=!1):(this.Go=!1,this.gn++,this.aB=!0)),zC(this))};z.e.Sz=function(){this.UB&&this.Qt?(this.bh(this.Qt),this.Qt=null):(wC(this,!0),zC(this))};z.e.hI=function(a){return a};
z.e.bh=function(a){if(a&&!a.r){var b=a.msg,c=b[0],d=b[1],f;2<b.length&&(f=b[2],this.ec.setAttribute("data-next",f));0<c&&(this.Qq(d),this.offset=this.Ez?this.Ez(this.eb()):this.offset+c);b=!0;b=this.ws?this.ws(a):!(-1===f||10>c);z.P(this.ec,b);wC(this,!1);AC(this)}};z.e.eb=function(){return z.ye(this.Xg,this.h)};z.e.dI=function(a){return a.id.split("-")[1]};
z.e.Qq=function(a,b){var c=z.ea(a)?a.join(""):a,c=z.Je(c+" "),d=z.ye(this.Xg,c);CC(this,d);"prepend"===b?z.Oe(c,this.h.firstChild):this.h.appendChild(c);BC(this)};z.e.gk=z.m;z.w(DC,uC);DC.prototype.gk=function(a){var b=z.DA(a);this.L(b);b.w(a);b instanceof z.vA&&b.collapse()};z.w(HC,z.H);HC.prototype.handleEvent=function(a){var b=0,c=0,d=0;a=a.lc;if("mousewheel"==a.type){c=1;if(z.D||z.E&&(z.Im||z.F("532.0")))c=40;d=IC(-a.wheelDelta,c);z.ba(a.wheelDeltaX)?(b=IC(-a.wheelDeltaX,c),c=IC(-a.wheelDeltaY,c)):c=d}else d=a.detail,100<d?d=3:-100>d&&(d=-3),z.ba(a.axis)&&a.axis===a.HORIZONTAL_AXIS?b=d:c=d;z.ga(this.$G)&&(b=z.wv(b,-this.$G,this.$G));z.ga(this.aH)&&(c=z.wv(c,-this.aH,this.aH));this.gQ&&(b=-b);b=new JC(d,a,b,c);this.dispatchEvent(b)};
HC.prototype.C=function(){HC.o.C.call(this);z.Rc(this.MG);this.MG=null};z.w(JC,z.sc);z.w(KC,z.H);z.e=KC.prototype;z.e.le=0;z.e.Vo=0;z.e.So=100;z.e.Qn=0;z.e.wk=1;z.e.lG=!1;z.e.wt=!1;z.e.Da=function(a){a=LC(this,a);this.le!=a&&(this.le=a+this.Qn>this.So?this.So-this.Qn:a<this.Vo?this.Vo:a,this.lG||this.wt||this.dispatchEvent("change"))};z.e.W=function(){return LC(this,this.le)};z.e.nu=function(a){a=LC(this,a);this.Qn!=a&&(this.Qn=0>a?0:this.le+a>this.So?this.So-this.le:a,this.lG||this.wt||this.dispatchEvent("change"))};
z.e.ei=function(){var a=this.Qn;return null==this.wk?a:Math.round(a/this.wk)*this.wk};z.e.Ic=function(){return LC(this,this.Vo)};z.e.Xc=function(){return LC(this,this.So)};z.e.bo=function(){return this.wk};z.w(MC,z.Q);z.e=MC.prototype;z.e.Hb="horizontal";z.e.Fo=!1;z.e.WQ=!1;z.e.Ef=10;z.e.ut=0;z.e.oG=!0;z.e.nH=0;z.e.BK=1E3;z.e.jc=!0;z.e.be=!1;z.e.B=function(){MC.o.B.call(this);var a=this.M().B("DIV",this.R(this.Hb));this.ga(a)};z.e.ga=function(a){MC.o.ga.call(this,a);z.Gg(a,this.R(this.Hb));a=this.m();var b=z.we(null,"goog-slider-thumb",a)[0];b||(b=this.M().B("DIV","goog-slider-thumb"),z.xg(b,"button"),a.appendChild(b));this.$a=this.Gd=b;z.xg(this.m(),"slider");bD(this)};
z.e.D=function(){MC.o.D.call(this);this.ke=new z.Fh(this.$a);this.Sf=new z.Fh(this.Gd);this.ke.Of(this.be);this.Sf.Of(this.be);this.ke.Ew=this.Sf.Ew=z.m;this.vb=new z.wj(this.m());NC(this,!0);this.m().tabIndex=0;WC(this)};z.e.Fb=function(){MC.o.Fb.call(this);z.gc(this.ke,this.Sf,this.vb,this.$j)};
z.e.js=function(a){var b=a.Mr==this.ke?this.$a:this.Gd,c;"vertical"==this.Hb?(c=this.m().clientHeight-b.offsetHeight,c=(c-a.top)/c*(this.Xc()-this.Ic())+this.Ic()):c=a.left/(this.m().clientWidth-b.offsetWidth)*(this.Xc()-this.Ic())+this.Ic();c=a.Mr==this.ke?Math.min(Math.max(c,this.Ic()),this.W()+this.ei()):Math.min(Math.max(c,this.W()),this.Xc());UC(this,b,c)};
z.e.vs=function(a){var b="start"==a.type;z.Kg(this.m(),"goog-slider-dragging",b);z.Kg(a.target.handle,"goog-slider-thumb-dragging",b);a=a.Mr==this.ke;b?(this.dispatchEvent("h"),this.dispatchEvent(a?"d":"f")):(this.dispatchEvent("i"),this.dispatchEvent(a?"e":"g"))};
z.e.kf=function(a){var b=!0;switch(a.keyCode){case 36:$C(this,this.Ic());break;case 35:$C(this,this.Xc());break;case 33:SC(this,this.Ef);break;case 34:SC(this,-this.Ef);break;case 37:var c=this.be&&this.Jd()?1:-1;SC(this,a.shiftKey?c*this.Ef:c*this.jq);break;case 40:SC(this,a.shiftKey?-this.Ef:-this.jq);break;case 39:c=this.be&&this.Jd()?-1:1;SC(this,a.shiftKey?c*this.Ef:c*this.jq);break;case 38:SC(this,a.shiftKey?this.Ef:this.jq);break;default:b=!1}b&&a.preventDefault()};
z.e.ss=function(a){this.m().focus&&this.m().focus();var b=a.target;z.bf(this.$a,b)||z.bf(this.Gd,b)||(b="click"==a.type,b&&(0,z.x)()<this.nH+this.BK||(b||(this.nH=(0,z.x)()),this.WQ?$C(this,QC(this,a)):(this.sB(a),this.Se=VC(this,QC(this,a)),this.ZF="vertical"==this.Hb?this.ct<this.Se.offsetTop:this.ct>ZC(this,this.Se)+this.Se.offsetWidth,a=z.ue(this.m()),this.v().g(a,"mouseup",this.rB,!0).g(this.m(),"mousemove",this.sB),this.ni||(this.ni=new z.Xc(200),this.v().g(this.ni,"tick",this.FF)),this.FF(),
this.ni.start())))};z.e.uF=function(a){SC(this,(0<a.detail?-1:1)*this.jq);a.preventDefault()};z.e.FF=function(){var a;if("vertical"==this.Hb){var b=this.ct,c=this.Se.offsetTop;this.ZF?b<c&&(a=RC(this,this.Se)+this.Ef):b>c+this.Se.offsetHeight&&(a=RC(this,this.Se)-this.Ef)}else b=this.ct,c=ZC(this,this.Se),this.ZF?b>c+this.Se.offsetWidth&&(a=RC(this,this.Se)+this.Ef):b<c&&(a=RC(this,this.Se)-this.Ef);z.ba(a)&&UC(this,this.Se,a)};
z.e.rB=function(){this.ni&&this.ni.stop();var a=z.ue(this.m());this.v().pa(a,"mouseup",this.rB,!0).pa(this.m(),"mousemove",this.sB)};z.e.sB=function(a){this.ct=PC(this,a)};z.e.Ic=function(){return this.zb.Ic()};z.e.Xc=function(){return this.zb.Xc()};z.e.zF=function(){WC(this);bD(this);this.dispatchEvent("change")};z.e.Eo=function(){return this.Fo};z.e.dN=function(){this.Fo=!1};
z.e.setOrientation=function(a){if(this.Hb!=a){var b=this.R(this.Hb),c=this.R(a);this.Hb=a;this.m()&&(a=this.m(),z.Fg(a,b)&&(z.Ig(a,b),z.Gg(a,c)),b=this.be&&this.Jd()?"right":"left",this.$a.style[b]=this.$a.style.top="",this.Gd.style[b]=this.Gd.style.top="",this.Vb&&(this.Vb.style[b]=this.Vb.style.top="",this.Vb.style.width=this.Vb.style.height=""),WC(this))}};
z.e.C=function(){MC.o.C.call(this);this.ni&&this.ni.H();delete this.ni;this.Gn&&this.Gn.H();delete this.Gn;delete this.$a;delete this.Gd;this.Vb&&delete this.Vb;this.zb.H();delete this.zb;this.vb&&(this.vb.H(),delete this.vb);this.$j&&(this.$j.H(),delete this.$j);this.ke&&(this.ke.H(),delete this.ke);this.Sf&&(this.Sf.H(),delete this.Sf)};z.e.jq=1;z.e.bo=function(){return this.zb.bo()};z.e.W=function(){return this.zb.W()};z.e.Da=function(a){UC(this,this.$a,a)};z.e.ei=function(){return this.zb.ei()};
z.e.nu=function(a){UC(this,this.Gd,this.zb.W()+a)};z.e.G=function(a){z.P(this.m(),a);a&&WC(this)};z.e.Ya=function(a){this.jc!=a&&this.dispatchEvent(a?"enable":"disable")&&(this.jc=a,NC(this,a),a||this.rB(),z.Kg(this.m(),"goog-slider-disabled",!a))};z.e.isEnabled=function(){return this.jc};z.w(cD,MC);cD.prototype.R=function(a){return"vertical"==a?"goog-slider-vertical":"goog-slider-horizontal"};z.w(dD,z.Q);z.e=dD.prototype;z.e.defaults={ID:310,JD:310,ng:250,og:250,MQ:2,opacity:.25,dY:"#eee"};z.e.ga=function(a){dD.o.ga.call(this,a);this.src=this.h.src;this.options.src=this.src;this.options.Vm=(this.options.ID-this.options.ng)/2;this.options.Um=(this.options.JD-this.options.og)/2;this.ur()};
z.e.ur=function(){var a=this.options;this.fC=(0,window.$)((0,z.Lp)('\x3cdiv class\x3d"avatar-editor-container" style\x3d"width:\x3c%\x3dcontainerWidth%\x3epx"\x3e\x3cdiv class\x3d"avatar-editor-container-inner" style\x3d"height:\x3c%\x3dcontainerHeight%\x3epx;"\x3e\x3cdiv class\x3d"avatar-editor-window" style\x3d"height:\x3c%\x3dwindowHeight%\x3epx;width:\x3c%\x3dwindowWidth%\x3epx;margin:\x3c%\x3dwindowMarginTop%\x3epx \x3c%\x3dwindowMarginLeft%\x3epx;"\x3e\x3cdiv class\x3d"avatar-editor-window-shadow" style\x3d"height:\x3c%\x3dwindowHeight%\x3epx;width:\x3c%\x3dwindowWidth%\x3epx;"\x3e\x3c/div\x3e\x3cdiv class\x3d"avatar-editor-window-inner" style\x3d"width:\x3c%\x3dcontainerWidth%\x3epx; height:\x3c%\x3dcontainerHeight%\x3epx;margin:-\x3c%\x3dwindowMarginTop%\x3epx 0 0 -\x3c%\x3dwindowMarginLeft%\x3epx;"\x3e\x3cimg class\x3d"inner" title\x3d"\u62d6\u52a8\u76f8\u7247"/\x3e\x3c/div\x3e\x3c/div\x3e\x3cimg class\x3d"outer" style\x3d"opacity:\x3c%\x3dopacity%\x3e;"/\x3e\x3c/div\x3e\x3cdiv class\x3d"goog-slider-wrap"\x3e\x3ci class\x3d"zg-icon image-minus"\x3e\x3c/i\x3e\x3ci class\x3d"zg-icon image-plus"\x3e\x3c/i\x3e\x3cdiv class\x3d"goog-slider"\x3e\x3cdiv class\x3d"line"\x3e\x3c/div\x3e\x3cdiv class\x3d"goog-slider-thumb"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',{containerWidth:a.JD,
containerHeight:a.ID,windowHeight:a.ng,windowWidth:a.og,windowMarginTop:a.Vm,windowMarginLeft:a.Um,src:a.src,opacity:a.opacity}));this.xb=this.fC[0];this.fC.insertBefore(this.h);z.P(this.h,!1);this.uM=z.M("avatar-editor-container-inner",this.xb);this.Fs=z.M("outer",this.xb);this.sy=z.M("inner",this.xb);this.wq=(0,window.$)(this.Fs);this.fv=(0,window.$)(this.sy);this.XF=0;this.wq.load((0,z.r)(this.JJ,this));this.fv.load((0,z.r)(this.JJ,this));this.sy.src=this.Fs.src=this.options.src;this.yU=z.M("goog-slider",
this.xb)};
z.e.D=function(){this.jB=new cD;this.jB.w(this.yU);this.v().g(this.uM,["mousedown","touchstart"],function(a){var b=new z.Fh(this.xb);b.addEventListener("drag",(0,z.r)(function(a){var b=this.zoom;this.Ke={rq:this.options.og/b,co:this.options.ng/b,x:(this.options.Um-(this.eG.left+(a.clientX-this.uu)))/b,y:(this.options.Vm-(this.eG.top+(a.clientY-this.vu)))/b};gD(this)},this));b.addEventListener("end",(0,z.r)(function(){b.H()},this));b.Mm(a);this.Mm(a)});this.v().g(this.xb,["touchmove"],function(a){a.stopPropagation();a.preventDefault()});
this.v().g(this.jB,"change",function(){var a=this.jB.W(),b=this.mK;eD(this,(this.NV-b)*a/100+b)})};z.e.JJ=function(){this.BP||(this.sy.complete&&this.Fs.complete?this.init():(this.XF++,2<=this.XF&&this.init()))};
z.e.init=function(){var a,b;b=this.wq[0];if(b.naturalWidth)a=b.naturalWidth,b=b.naturalHeight;else{var c=new window.Image;c.src=b.src;a=c.width;b=c.height}this.Es=a;this.Ds=b;a=this.options.og/this.Es;b=this.options.ng/this.Ds;this.mK=a=b>a?b:a;this.NV=this.mK*this.options.MQ;this.Ke={co:this.options.og/a,rq:this.options.ng/a,x:0,y:0};eD(this,a);fD(this,this.Es/2,this.Ds/2);this.BP=!0};z.e.Mm=function(a){this.uu=a.clientX;this.vu=a.clientY;this.eG=this.fv.position();this.wq.position()};
z.e.support=function(){return"getContext"in window.document.createElement("canvas")};z.w(hD,z.Q);var iD=1;z.e=hD.prototype;z.e.ga=function(a){this.h=a;this.B()};
z.e.B=function(){this.RB=z.cs.Mu+"/upload_avatar";this.Fk=(0,window.$)((0,z.Lp)('\x3cform target\x3d"av_up_frame" style\x3d"display:none;" method\x3d"post" enctype\x3d"multipart/form-data" action\x3d"\x3c%\x3duploadAction%\x3e"\x3e\x3clabel for\x3d"avt_file"\x3e\x3c/label\x3e\x3cinput type\x3d"file" accept\x3d"image/*" name\x3d"picture" id\x3d"avt_file" /\x3e\x3cinput type\x3d"hidden" name\x3d"handle_mode" value\x3d"upload" /\x3e\x3cinput type\x3d"hidden" name\x3d"type" value\x3d"\x3c%\x3dtype%\x3e" /\x3e\x3cinput type\x3d"hidden" name\x3d"dest_id" value\x3d"\x3c%\x3ddest_id%\x3e" /\x3e\x3cinput type\x3d"hidden" name\x3d"return_size" value\x3d"\x3c%\x3dreturn_size%\x3e" /\x3e\x3c/form\x3e',{uploadAction:this.RB,
type:this.Vq,dest_id:this.Vq===iD?z.V[3]:this.CE,return_size:this.II}));this.sK=(0,window.$)('\x3ciframe id\x3d"av_up_frame" name\x3d"av_up_frame" style\x3d"position: absolute; height: 0px; width: 0px; left: -9000px;"\x3e\x3c/iframe\x3e');this.sK.appendTo(window.document.body);this.input=this.Fk.find("input[type\x3dfile]")[0];z.D?(this.Fk.find("label").html((0,window.$)(this.h).html()),this.h.innerHTML="",(0,window.$)(this.h).append(this.Fk),this.Fk.addClass("avatar-editor-form-ie")):(this.Fk.insertAfter(this.h),
(0,window.$)(this.h).click(window.$.proxy(function(){this.input.click()},this)));this.v().g(this.input,"change",this.Lc).g(this.input,"click",function(a){!1===this.dispatchEvent("beforeopen")&&a.preventDefault()});this.v().g(z.X,"iframe_data",function(a){(a=a.sf)&&!a.r?"upload"===a.handle_mode?(this.Pl=a.url,this.ry=a.id,jD()||this.gp()):"resize"===a.handle_mode&&((0,window.$)(this.h).find("form").remove(),this.SD(a)):z.T(a.msg)})};
z.e.Lc=function(a){kD(this);a=this.input=a.target;if(jD()){if(a.files&&a.files[0]){this.file=a=a.files[0];var b=new window.FileReader;b.onload=(0,z.r)(function(a){this.Pl=a.target.result;this.gp()},this);b.readAsDataURL(a)}}else this.Fk[0].submit();nD(this)};z.e.gp=function(){var a=this.$e.Y();this.qy=new window.Image;this.qy.src=this.Pl;a=(0,window.$)(a);a.html("");a.append(this.qy);this.ww=new dD;this.ww.w(this.qy)};
z.e.SD=function(a){a&&!a.r?this.data=a:z.T(a.msg);this.dispatchEvent({type:"success",src:this.data});this.$e.G(!1)};z.e.getData=function(){return this.data||null};z.e.ul=function(a){return this.data?this.data.url.replace(/(\.\w+)$/,"_"+a+"$1"):""};z.w(pD,z.Q);z.e=pD.prototype;z.e.ga=function(a){pD.o.ga.call(this,a);this.oe=(0,window.$)("input",a);this.Cd=(0,window.$)(".zm-profile-details-items",this.h);this.Cq=[];var b=this;b.Cq=this.oe.map(function(){var a=new rD("/topic/autocomplete",this,b.IS||(0,window.$)(this).parents(".topic-input-wrap")[0]);a.en=!1;var d=(0,z.r)(b.filter,b);a.filter=d;return a});this.tm()};
z.e.D=function(){this.v().g(z.M("add",this.h),"click",this.add);var a=this;this.oe.each(function(){a.v().g(this,"keydown",function(a){this.keydown(a)})});z.y.forEach(this.Cq,function(b){a.v().g(b.N,z.Dk,a.select)});this.Cd.on("click","[name\x3d'del']",window.$.proxy(this.remove,this));this.tm()};
z.e.tm=function(){if(!z.cs.nb){var a=this;this.Mf&&this.Mf.H();var b=new KB;b.Nr=(0,z.Ya)("profile-edit-item-moving").split(" ");LB(b,this.Cd[0],0);b.init();this.Mf=b;(0,window.$)('a, input, [role\x3d"button"]',this.Cd).each(function(){a.v().g(this,"mousedown",function(a){a.stopPropagation()})})}};z.e.keydown=function(a){13===a.keyCode&&(0,window.setTimeout)((0,z.r)(function(){qD(this)&&this.add();this.oe[0].value&&this.oe[1]&&!this.oe[1].value&&this.oe[1].focus()},this));return!0};
z.e.xp=function(){z.y.forEach(this.oe,function(a){a.value=""});this.oe[0].focus()};z.e.select=function(){qD(this)&&this.add()};z.e.add=function(){var a=(0,z.Ya)(this.oe[0].value),b={title:a,member_url_token:z.Yp["1"]};if(this.oe[1]){var c=(0,z.Ya)(this.oe[1].value);if(!a&&!c)return;b.sub_title=c}QB("ProfileEditItemV2",b,this.eR,this)};
z.e.eR=function(a){a=(0,window.$)(a);var b;if(a.data("title")){if(b=this.Cd.find("[data-title\x3d'"+a.data("title")+"']")[0]){z.cn(b);this.xp();return}}else if(a.data("sub-title")&&(b=this.Cd.find("[data-sub-title\x3d'"+a.data("sub-title")+"']")[0])){z.cn(b);this.xp();return}this.Cd.append(a);this.tm();this.xp();this.dispatchEvent("add")};z.e.remove=function(a){(0,window.$)(a.target).parents("li").remove();this.dispatchEvent("remove")};
pD.prototype.filter=function(a){return z.y.filter(a,function(a){return!this.Cd.find("[data-title\x3d'"+a+"']")[0]},this)};z.w(rD,z.Pl);rD.prototype.sm=function(a,b){a=a[0].slice(1);a=z.y.filter(a,function(a){return 3<a.length});a=z.y.map(a,function(a){return a[1]});this.filter&&(a=this.filter(a));rD.o.sm.call(this,a,b)};z.w(sD,z.Q);z.e=sD.prototype;z.e.ga=function(a){sD.o.ga.call(this,a);tD(this);this.X=[];var b=this;(0,window.$)(".editable-group",this.h).each(function(){var a=new pD;b.X.push(a);a.w(this)});a=z.L("zm-profile-edit-submit");this.v().g(a,"click",this.Tz);(0,window.$)(this.h).on("change","input, textarea, select",function(){b.df()})};
z.e.D=function(){sD.o.D.call(this);z.vm(z.m,!0)();var a=z.L("zm-profile-progress-anim"),b=new uD;b.addEventListener("update",function(){var c=100*b.W()|0;10>c&&(c=10);a.style.width=a.innerHTML=c+"%"});z.y.forEach(this.X,function(a,c){b.watch({name:"name"+c,target:a,bi:["add","remove"],Uh:function(){return!!a.Cd.children().length}})},this);var c=this.h,d=z.L("zm-profile-edit-male"),f=z.L("zm-profile-edit-female"),g=z.L("zm-profile-edit-description"),h=(0,window.$)(".business-selection select")[0],
l=z.L("zm-profile-edit-expert-disable");b.watch({name:"expert_progress",target:z.L("zm-profile-edit-expert-enable"),bi:["change"],Uh:function(){return null!==FC(c,"enable_expert")}}).watch({name:"expert_progress",target:l,bi:["change"],Uh:function(){return null!==FC(c,"enable_expert")}}).watch({name:"gender_progress",target:d,bi:["change"],Uh:function(){return null!==FC(c,"gender")}}).watch({name:"gender_progress",target:f,bi:["change"],Uh:function(){return null!==FC(c,"gender")}}).watch({name:"desc_progress",
target:g,bi:["blur"],Uh:function(){return!!(0,z.Ya)(g.value)}}).watch({name:"business_progress",target:g,bi:["blur"],Uh:function(){return!!(0,z.Ya)(g.value)}}).watch({name:"headline_progress",target:h,bi:["blur"],Uh:function(){return!!(0,z.Ya)(h.value)}})};z.e.df=function(){(0,window.$)(window).on("beforeunload.profileedit",(0,z.r)(function(){return"\u4f60\u7684\u66f4\u6539\u8fd8\u672a\u4fdd\u5b58\uff0c\u786e\u8ba4\u79bb\u5f00\u8be5\u9875\u9762\u5417\uff1f"},this))};z.e.Lf=function(){(0,window.$)(window).off("beforeunload.profileedit")};
z.e.Tz=z.vm(function(){var a=(0,window.$)("#zm-profile-edit-male").is(":checked")?1:0,b=(0,window.$)("#zm-profile-edit-headline").val(),c=(0,window.$)("#zm-profile-edit-description").val(),d=(0,window.$)(".business-selection select").val(),f=[];(0,window.$)("#zm-profile-edit-loc-container").children().each(function(){f.push((0,window.$)(this).data("title"))});var g=[];(0,window.$)("#zm-profile-edit-co-container").children().each(function(){var a=(0,window.$)(this);g.push([a.data("title"),a.data("sub-title")||
""])});var h=[];(0,window.$)("#zm-profile-edit-edu-container").children().each(function(){var a=(0,window.$)(this);h.push([a.data("title"),a.data("sub-title")||""])});var l=(0,window.$)("#zm-profile-edit-weibo-enable").is(":checked")?1:0,n=(0,window.$)("#zm-profile-edit-expert-enable").is(":checked")?1:0,a=z.A.filter({gender:a,headline:b,description:c,location:f,business:d,employment:g,education:h,enable_weibo:l,enable_expert:n},uB);GC(a,(0,z.r)(function(){this.Lf();window.location.href="/people/"+
z.V[1]+"/about"},this),function(a){z.T(z.ea(a)?a[0][1]:a)})},!0);z.w(uD,z.H);uD.prototype.update=function(a,b){this.eI[a]=b;this.dispatchEvent({type:"update"});return this};uD.prototype.watch=function(a){var b=(0,z.r)(function(){this.update(a.name,a.Uh())},this);z.G(a.target,a.bi,b);b();return this};uD.prototype.W=function(){var a=z.A.Ma(this.eI);return a.length&&z.y.filter(a,Boolean).length/a.length};z.w(vD,z.Q);vD.prototype.ga=function(a){vD.o.ga.call(this,a);this.K=(0,window.$)(a);this.K.on("click",'a[href^\x3d"javascript"]',window.$.proxy(this.Oa,this));this.K.on("click",'a[href^\x3d"javascript"], input',!1);this.K.on("click",".item",window.$.proxy(this.wS,this))};vD.prototype.wS=function(a){var b=(0,window.$)(a.currentTarget),c=b.data("href"),b=c&&!b.hasClass(this.cj);a=a.metaKey||a.ctrlKey;b&&(a?window.open(c):window.location.href=c)};
vD.prototype.Oa=function(a){var b=(0,window.$)(a.currentTarget),c=b.closest(".item");a=b.attr("name");if("edit"===a)b.closest(".description").hide().siblings(".description-edit").show().find("input").focus().closest(".item").addClass(this.cj).closest(".skilled-topics").addClass(this.cj),wD(this,c);else if("cancel"===a)b.closest(".description-edit").hide().siblings(".description").show().closest(".item").removeClass(this.cj).closest(".skilled-topics").removeClass(this.cj),wD(this,c,!0);else if("save"===
a){var d=new z.U(!0);this.v().g(d,"success",function(){var a=z.ae(d);a.r?z.T(a.msg):(b.closest(".description-edit").hide().siblings(".description").show().children(".des").text(a.msg).siblings(".edit").addClass("zu-edit-button").children(".edit-msg").html("\u4fee\u6539").closest(".item").removeClass(this.cj).closest(".skilled-topics").removeClass(this.cj),wD(this,c,!0))});d.ajax("/topic/bio/update","tid\x3d"+b.closest(".item").data("id")+"\x26bio\x3d"+b.parent().siblings("input").val(),"POST")}};z.w(xD,z.Q);
xD.prototype.ga=function(a){xD.o.ga.call(this);if(a){this.K=(0,window.$)(a);var b=(0,window.$)(".avatar",this.K);(0,window.$)(".editable-group",this.K).each(function(){(new yD).w(this)});(a=z.L("profile-header-description-input"))&&new z.un(a);if((a=z.M("zm-profile-header-avatar-container"))&&z.S.has(a,"self")){var c=new hD(iD);c.w(a);this.v().g(c,"beforepost",function(){b.parent().append((0,window.$)('\x3cdiv class\x3d"avatar-edit-preview-loading"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e'))});this.v().g(c,
"success",function(){window.$.post("/node/ProfileHeaderV2",{method:"save",params:{data:{avatar_path:c.getData().url}}},function(a){if(a&&a.r){(0,window.$)(".avatar-edit-preview-loading").remove();for(var f="\u66f4\u65b0\u5931\u8d25",g=0;g<a.msg.length;++g){var h=a.msg[g];if(2<=h.length&&"avatar_path"===h[0]){f=h[1];break}}z.T(f)}else(0,window.$)(".avatar-edit-preview-loading").remove(),b.attr({src:c.ul("l"),srcset:c.ul("xl")+" 2x"})})})}}};z.w(yD,z.Q);
yD.prototype.ga=function(a){yD.o.ga.call(this);this.K=(0,window.$)(a);this.ne=(0,window.$)(".info-wrap",this.K);this.Sd=(0,window.$)(".edit-wrap",this.K);(0,window.$)(".title",this.ne);this.gv=(0,window.$)("input",this.Sd)};
yD.prototype.D=function(){yD.o.D.call(this);this.K.on("click","[name\x3d'edit']",z.vm(window.$.proxy(function(){this.K.addClass("editing");var a=this.Sd.find("input").get(0);a?a.focus():(a=this.Sd.find("textarea").get(0))&&a.focus()},this),!0));var a=this;this.Cq=[];(0,window.$)("input[type\x3dtext]",this.K).each(function(){var b=new rD("/topic/autocomplete",this,(0,window.$)(this).parents(".topic-input-wrap")[0]);a.Cq.push(b)});this.Sd.on("keydown","input",function(a){13===a.keyCode&&(0,window.setTimeout)(function(){var b=
(0,window.$)(a.target),f=b.parents(".edit-wrap").children().index(b.parent()),g=b.parents(".edit-wrap").find("input, select").get(f+1),f=b.parents(".edit-wrap").find("input, select").get(f-1);b.val()&&(g?g.focus():f&&!(0,window.$)(f).val()&&f.focus())})});this.Sd.on("click","[name\x3d'cancel'], [name\x3d'save']",window.$.proxy(function(a){a=a.target.name;"cancel"===a?this.cancel():"save"===a&&this.save()},this));var b=(0,window.$)(".fold-wrap");b.click(function(a){"fold"===a.target.name?b.addClass("fold"):
"unfold"===a.target.name&&b.removeClass("fold")})};
yD.prototype.save=function(){var a=this,b=this.K.data("name");if("location"===b){var b=this.Sd.find("input.location"),c=this.Sd.find("select"),d=this.Sd.find("input.male").is(":checked")?1:0;window.$.post("/node/ProfileHeaderV2",{method:"save",params:{data:{location:[b.val()],business:c.val(),gender:d}}},function(b){b&&b.r?z.T(b.msg):(b=b.msg,b.location[0].html||(b.location[0].html="\x3ca href\x3d'javascript:;' class\x3d'zg-link-litblue-normal' name\x3d'edit'\x3e\u586b\u5199\u5c45\u4f4f\u5730\x3c/a\x3e"),b.business.html||
(b.business.html="\x3ca href\x3d'javascript:;' class\x3d'zg-link-litblue-normal' name\x3d'edit'\x3e\u586b\u5199\u884c\u4e1a\x3c/a\x3e"),a.ne.find("span.location").attr("title",b.location[0].text).html(b.location[0].html),a.ne.find("span.business").attr("title",b.business.text).html(b.business.html),b=1===(0,window.parseInt)(b.gender,10)?"male":"female",a.ne.find("span.gender i").removeClass("icon-profile-female icon-profile-male").addClass("icon-profile-"+b),a.cancel())})}else"employment"===b?(c=
this.Sd.find("input.employment"),b=this.Sd.find("input.position"),c=c.val(),b=b.val(),window.$.post("/node/ProfileHeaderV2",{method:"save",params:{data:{employment:[[c,b]]}}},function(b){b&&b.r?z.T(b.msg):(b=b.msg,b.employment[0][0].text||b.employment[0][1].text?a.K.removeClass("empty"):a.K.addClass("empty"),b.employment[0][0].html||(b.employment[0][0].html="\x3ca href\x3d'javascript:;' class\x3d'zg-link-litblue-normal' name\x3d'edit'\x3e\u586b\u5199\u516c\u53f8\u4fe1\u606f\x3c/a\x3e"),b.employment[0][1].html||
(b.employment[0][1].html="\x3ca href\x3d'javascript:;' class\x3d'zg-link-litblue-normal' name\x3d'edit'\x3e\u586b\u5199\u804c\u4f4d\x3c/a\x3e"),a.ne.find(".employment").attr("title",b.employment[0][0].text).html(b.employment[0][0].html),a.ne.find(".position").attr("title",b.employment[0][1].text).html(b.employment[0][1].html),a.cancel())})):"education"===b?(c=[this.Sd.find("input.education"),this.Sd.find("input.education-extra")],b=c[0].val(),c=c[1].val(),window.$.post("/node/ProfileHeaderV2",{method:"save",
params:{data:{education:[[b,c]]}}},function(b){b&&b.r?z.T(b.msg):(b=b.msg,b.education[0][0].text||b.education[0][1].text?a.K.removeClass("empty"):a.K.addClass("empty"),b.education[0][0].html||(b.education[0][0].html="\x3ca href\x3d'javascript:;' class\x3d'zg-link-litblue-normal' name\x3d'edit'\x3e\u586b\u5199\u5b66\u6821\u4fe1\u606f\x3c/a\x3e"),b.education[0][1].html||(b.education[0][1].html="\x3ca href\x3d'javascript:;' class\x3d'zg-link-litblue-normal' name\x3d'edit'\x3e\u586b\u5199\u4e13\u4e1a\x3c/a\x3e"),
a.ne.find(".education").attr("title",b.education[0][0].text).html(b.education[0][0].html),a.ne.find(".education-extra").attr("title",b.education[0][1].text).html(b.education[0][1].html),a.cancel())})):"description"===b&&(b=this.Sd.find("textarea.description"),window.$.post("/node/ProfileHeaderV2",{method:"save",params:{data:{description:b.val()}}},function(b){b&&b.r?z.T(b.msg):(b=b.msg,b.description.text?a.K.removeClass("empty"):(b.description.fold_html="\x3ca href\x3d'javascript:;' class\x3d'zg-link-litblue-normal' name\x3d'edit'\x3e\u586b\u5199\u4e2a\u4eba\u7b80\u4ecb\x3c/a\x3e",
b.description.unfold_html="\x3ca href\x3d'javascript:;' class\x3d'zg-link-litblue-normal' name\x3d'edit'\x3e\u586b\u5199\u4e2a\u4eba\u7b80\u4ecb\x3c/a\x3e",a.K.addClass("empty")),a.ne.find(".fold-item .content").empty().html(b.description.fold_html),a.ne.find(".unfold-item .content").html(b.description.unfold_html),b.description.shortened?a.ne.removeClass("disable-fold"):a.ne.addClass("disable-fold"),a.cancel())}))};yD.prototype.cancel=function(){this.K.removeClass("editing")};z.w(zD,z.nk);z.e=zD.prototype;z.e.init=function(a){this.xb=a;this.v().g(a,"click",this.Oa);this.refresh()};z.e.Fi=function(a){this.Xg=a};
z.e.Oa=function(a){if(a.target){var b=z.kn(this.xb,a.target);b&&(this.type=b.getAttribute("data-type"),this.id=b.getAttribute("data-id"),this.action=b.name,this.item=z.xf(a.target,this.Xg),this.type&&this.id&&this.action&&this.item&&!this.lK&&(this.lK=!0,this.xhr=new z.U(!0),this.v().g(this.xhr,"complete",this.bh),this.xhr.ajax("/people/"+("top"===this.action?"pin":"unpin")+"_"+this.type,this.type+"_id\x3d"+this.id,"POST")))}};
z.e.bh=function(){if("cancel-top"===this.action)z.Wm(this.item,!0);else if("top"===this.action){var a=z.ye(this.Xg,this.xb);z.gh(this.item);a&&2<=a.length&&z.Oe(z.O(this.item),z.M(this.Xg,this.xb));this.scroll();z.cn(this.item);a=z.M("zm-item-top-btn-top",this.item);z.P(a,!1);a=z.M("zm-item-top-btn-cancel",this.item);z.P(a,!0);this.refresh()}this.lK=!1};z.e.scroll=function(){if(this.RT){var a=z.M("zm-profile-section-wrap"),b=z.Af(z.se((z.u||window).document)).y;a&&0>z.gh(a).y-b&&a.scrollIntoView()}};
z.e.refresh=function(){var a=z.ye(this.Xg,this.xb);a&&0<a.length&&z.y.forEach(a,function(a,c){if(0!==c){var d=z.M("zm-item-top-btn-top",a);d&&z.P(d,!0)}},this)};z.w(BD,z.Q);BD.prototype.D=function(){this.v().g(this.h,"click",this.Oa)};BD.prototype.Oa=function(a){var b=z.kn(this.h,a.target);this.vn&&this.vn(b);b&&b.name&&"focus"===b.name&&(0,z.gu)(b,this.ux,function(){b.getAttribute("data-followme")&&(z.S.has(b,"zg-btn-follow")?b.setAttribute("data-tip","s$b$\u5bf9\u65b9\u5df2\u5173\u6ce8\u4f60"):b.setAttribute("data-tip","s$b$\u5df2\u4e92\u76f8\u5173\u6ce8"))},this.tx,{lX:"question"===this.ux?"\u5173\u6ce8\u95ee\u9898":null})};
BD.prototype.XI=function(a){this.vn=a};z.w(z.CD,z.H);z.CD.prototype.handleEvent=function(a){if("input"==a.type)z.D&&z.F(10)&&0==a.keyCode&&0==a.charCode||(DD(this),this.dispatchEvent(ED(a)));else if("keydown"!=a.type||iC(a)){var b="keydown"==a.type?this.h.value:null;z.D&&229==a.keyCode&&(b=null);var c=ED(a);DD(this);this.na=z.Zc(function(){this.na=null;this.h.value!=b&&this.dispatchEvent(c)},0,this)}};z.CD.prototype.C=function(){z.CD.o.C.call(this);this.S.H();DD(this);delete this.h};z.w(FD,z.H);var GD=0;FD.prototype.Kz=function(){this.Yk()};FD.prototype.Yk=function(){var a=this.ai.value.length;if(a>this.rt){var b=this.ai.scrollTop,c=this.ai.scrollLeft;this.ai.value=this.ai.value.substring(0,this.rt);a=this.rt;this.ai.scrollTop=b;this.ai.scrollLeft=c}this.xE&&z.hf(this.xE,String(1==this.SM?a:this.rt-a))};FD.prototype.C=function(){FD.o.C.call(this);delete this.ai;this.Iy.H();this.Iy=null};var MD;z.w(HD,z.nk);z.e=HD.prototype;z.e.init=function(){this.Rs||(this.Rs=!0,this.B(),this.hc())};z.e.hc=function(){z.D||(new z.Bn("\u641c\u7d22\u95ee\u9898")).w(this.cd);this.X=new z.Kn("/redirect-question/autocomplete",this.cd,null,null,z.L("zh-question-redirect-diag-content"),!1);this.X.en=!1;this.X.hg(!0);this.v().g(this.X,"suggestionsupdate",z.sn);this.v().g(this.X,"select",this.dS).g(this.LL,"click",function(){this.xa.G(!1)})};
z.e.dS=function(){var a=this.X.rj();if("search_link"===a[0])window.open("/search?q\x3d"+(0,window.encodeURIComponent)(a[1])+"\x26type\x3dquestion");else{this.cd.value="";var b=a[3],a=a[1];this.xa.G(!1);this.cd.value="";this.xhr=new z.U(!0);this.v().va(this.xhr,"complete",this.cL);this.xhr.ajax("/question/redirect","qid\x3d"+this.la+"\x26rqid\x3d"+b);this.eu=b;this.nI=a}};
z.e.cL=function(){var a=z.ae(this.xhr);a&&(a.r?z.T(a.msg):this.Si?(this.Si.innerHTML="\u5df2\u7ecf\u91cd\u5b9a\u5411",this.Si.setAttribute("data-disabled",1)):this.dispatchEvent("change"))};
z.e.B=function(){this.h=z.N("div",{id:"zh-question-redirect-diag"},["\u5c06\u95ee\u9898\u8df3\u8f6c\u81f3",z.N("div",{id:"zh-question-redirect-diag-content"},this.cd=z.N("input",{type:"text","class":"zg-form-text-input"})),z.N("div","zm-command",this.LL=z.N("a",{href:"javascript:;","class":"zm-command-cancel",name:"cancel"},"\u653e\u5f03\u64cd\u4f5c"))]);this.xa=new z.vi(null,!1);this.xa.kb("\u95ee\u9898\u91cd\u5b9a\u5411");z.pi(this.xa,null);this.xa.Y().appendChild(this.h)};
z.e.show=function(){this.init();this.xa.G(!0)};var BJ={},BJ=function(){z.H.call(this)};z.w(BJ,z.nk);
BJ.nv=[["\u9700\u8981\u8be6\u7ec6\u9610\u8ff0","\u7b54\u6848\u8fc7\u4e8e\u7b80\u77ed\u6216\u8868\u8ff0\u4e0d\u6e05\u6670\uff0c\u8bf7\u5b8c\u5584\u7b54\u6848\u3002"],["\u7b54\u975e\u6240\u95ee","\u6ca1\u6709\u6b63\u9762\u6216\u76f4\u63a5\u56de\u7b54\u95ee\u9898\uff0c\u8bf7\u4fee\u6539\u7b54\u6848\u3002"],["\u5e94\u4f5c\u4e3a\u95ee\u9898\u7684\u8bc4\u8bba","\u8be5\u5185\u5bb9\u662f\u5bf9\u95ee\u9898\u672c\u8eab\u7684\u8bc4\u8bba\u800c\u4e0d\u662f\u56de\u7b54\uff0c\u8bf7\u6539\u4e3a\u53d1\u5e03\u5230\u8bc4\u8bba\u3002"],["\u5e94\u4f5c\u4e3a\u7b54\u6848\u7684\u8bc4\u8bba",
"\u8be5\u5185\u5bb9\u662f\u5bf9\u53e6\u5916\u4e00\u4e2a\u7b54\u6848\u7684\u8bc4\u8bba\u6216\u56de\u5e94\uff0c\u800c\u4e0d\u662f\u56de\u7b54\u95ee\u9898\uff0c\u8bf7\u6539\u4e3a\u53d1\u5e03\u5230\u8bc4\u8bba\u3002"],["\u5185\u5bb9\u91cd\u590d","\u4e0e\u5df2\u6709\u7b54\u6848\u91cd\u590d\uff0c\u8bf7\u4fee\u6539\u7b54\u6848\u3002"],["\u5185\u5bb9\u5df2\u8fc7\u671f","\u7b54\u6848\u7684\u65f6\u6548\u6027\u5df2\u8fc7\uff0c\u8bf7\u66f4\u65b0\u7b54\u6848\u3002"],["\u9700\u8981\u6ce8\u660e\u5173\u8054\u5229\u76ca",
"\u6709\u5e7f\u544a\u3001\u63a8\u9500\u5acc\u7591\uff0c\u8bf7\u6ce8\u660e\u4f5c\u8005\u4e0e\u5229\u76ca\u65b9\u7684\u5173\u7cfb\u3002"]];BJ.Jj=null;BJ.U=function(){BJ.Jj||(BJ.Jj=new BJ,BJ.Jj.init());return BJ.Jj};z.e=BJ.prototype;z.e.init=function(){if(!this.h){this.B();this.hc();var a=new z.Mq(this.h);z.Zh(a);a.QF=!0;a.sk(!0);a.G(!1);a.lA=0;a.T()&&a.ca();z.Nu(a,new z.Pg(13,0,0,-22));this.kA=a}};z.e.hc=function(){this.v().g(this.h,"click",this.aS)};
z.e.aS=function(a){"A"===a.target.tagName&&(a=a.target.getAttribute("data-index"),this.DM.kX(a),this.kA.G(!1))};
z.e.B=function(){var a=z.N("div",{id:"zh-answer-flag-popup","class":"zg-r5px zu-hovercard-wrap"},[z.N("div","zg-r5px zu-hovercard-inner",[z.N("div",{id:"zh-answer-flag-popup-header"},[z.N("a",{"class":"zg-right",href:"/question/19867017",target:"_blank"},"\u8fd9\u662f\u4ec0\u4e48\uff1f"),"\u9009\u62e9\u4e00\u4e2a\u7406\u7531\uff1a"]),this.VH=z.N("div",{id:"zh-answer-flog-options-wrap"})]),z.N("div","zu-hovercard-spin-top")]);z.y.forEach(BJ.nv,function(a,c){var d=z.N("a",{href:"javascript:;","class":"zm-menu-item-link"},
a[0]);d.setAttribute("data-index",c);this.VH.appendChild(d)},this);window.document.body.appendChild(a);this.h=a};z.e.show=function(a,b){this.kA.setPosition(new z.Kq(a,1));ID(this,b.pX());this.kA.G(!0);this.DM=b};var LD;z.w(JD,z.nk);JD.prototype.init=function(){this.B();this.Rv()};
JD.prototype.B=function(){this.h=z.N("div",null,[z.N("div","zg-section",[z.N("div",null,"\u6807\u8bb0\uff1a"),this.ql=z.N("select")]),z.N("div",null,[z.N("div",null,"\u539f\u56e0"),this.tA=z.N("textarea",{style:"width:96%;border:solid 1px #666;height:66px;padding:5px"})]),this.xn=z.N("div","zm-command",[z.N("a",{"class":"zg-mr10",href:"javascript:void(0);",name:"cancel"},"\u53d6\u6d88"),z.N("a",{"class":"zg-btn-blue",href:"javascript:void(0);",name:"confirm"},"\u786e\u5b9a")])]);this.ql.appendChild(z.N("option",
{value:"no"},"\u9009\u62e9\u6807\u8bb0\u539f\u56e0"));z.y.forEach(BJ.nv,function(a,b){this.ql.appendChild(z.N("option",{value:b},a[0]))},this);this.xa=new z.vi(null,!1);this.xa.kb("\u6807\u8bb0\u7b54\u6848");z.pi(this.xa,null);this.xa.Y().appendChild(this.h)};
JD.prototype.Rv=function(){this.v().g(this.ql,"change",function(){var a=this.ql.value;this.tA.value="no"===a?"":BJ.nv[+a][1]}).g(this.xn,"click",function(a){"cancel"===a.target.name?this.xa.G(!1):this.tA.value&&"no"!==this.ql.value&&(this.px=new z.U(!0),this.v().g(this.px,"complete",function(){var a=z.ae(this.px);a&&!a.r?(this.Si.innerHTML="\u5df2\u7ecf\u6807\u8bb0",this.xa.G(!1)):z.T(a.msg)}),a=z.Ym(this.tA.value),this.px.ajax("/answer/flag","answer_id\x3d"+this.MK+"\x26flag\x3d"+this.ql.value+"\x26reason\x3d"+
(0,window.encodeURIComponent)(a)))})};JD.prototype.show=function(){this.xa.G(!0)};z.w(OD,z.Q);z.e=OD.prototype;z.e.init=function(){z.Yr.L(this);this.w(window.document.body)};
z.e.D=function(){OD.o.D.call(this);$D();YD(this);XD(this);eE(this);ZD(this);dE(this);cE();aE(this);hE();jE(this);PD(this);WD(this);QD(this);SD(this);TD(this);UD(this);VD(this);RD(this);this.xo();-1<window.location.search.indexOf("clean-followers-noti\x3d1")&&(new z.U(!0)).ajax("/notification/clear","no_refresh_content\x3dtrue\x26type\x3dfollow");(0,window.$)("#__signin").click(function(){(new z.Ir).G(!0)});(0,window.$)(".zm-profile-header-user-edit").click(z.vm(z.m,!0))};
z.e.ZU=function(){z.Bi("\u786e\u5b9a","\u786e\u5b9a\u8981\u5f3a\u5236\u6b64\u7528\u6237\u6539\u540d\u5417\uff1f",function(a){if(a&&(z.L("realname_form").submit(),this.vx.innerHTML="\u5df2\u53d1\u9001",z.S.add(this.vx,"zg-gray"),a=this.vx))if(z.yc(a))a.$d&&a.$d.removeAll(void 0);else if(a=z.Ic(a)){var b=0,c;for(c in a.nc)for(var d=a.nc[c].concat(),f=0;f<d.length;++f)z.Rc(d[f])&&++b}},this)};
z.e.xo=function(){this.Fj();var a=z.L("zm-profile-header-pm-btn");a&&z.G(a,"click",z.mb(function(a){a.preventDefault()},z.vm(function(){var b=new z.gr;b.show();z.ir(b,z.Yp[3],z.Yp[0]);z.hr(b,a.href);b.zc.focus()},{Ga:"people_message_button",kd:!0})));var b=z.L("zh-profile-cancel-block");b&&this.v().g(b,"click",this.yH);(0,window.$)("#zh-report-people, #profile-side-op a[name\x3dreport]").each(function(a,b){z.cx(new z.ax("member",z.Yp[3]),b)});(b=z.L("zh-profile-search-query-mirro"))&&new z.Ql(b,b.getAttribute("placeholder"))};
z.e.yH=function(){z.Bi("\u786e\u5b9a\u53d6\u6d88\u5c4f\u853d\uff1f","\u53d6\u6d88\u5c4f\u853d\u540e\uff0c\u5bf9\u65b9\u5c06\u53ef\u4ee5\u5173\u6ce8\u4f60\u3001\u5411\u4f60\u53d1\u79c1\u4fe1\u3001\u8bc4\u8bba\u4f60\u7684\u56de\u7b54\u3001\u4f7f\u7528\u300c@\u300d\u63d0\u53ca\u4f60\uff0c\u9080\u8bf7\u4f60\u56de\u7b54\u95ee\u9898\u3002",function(a){a&&bE(this,!1)},this)};z.e.Sk=function(){this.v().va(window.document,"click",function(){this.ib.G(!1)})};
z.e.Fj=function(){var a=z.L("profile-side-op");a&&this.v().g(a,"click",this.xj)};z.e.NO=function(a){var b="";a.target===this.mL?b="time":a.target===this.nL?b="vote":a.target===this.lL&&(b="ask");window.location.href="/people/"+z.V[1]+"/answers?sort\x3d"+b};
z.e.xj=function(a){a=a.target.name;"block"===a?z.Bi("\u786e\u5b9a\u8981\u5c4f\u853d\u8be5\u7528\u6237\uff1f","\u5c4f\u853d\u7528\u6237\u540e\uff0c\u5bf9\u65b9\u5c06\u4e0d\u80fd\u5173\u6ce8\u4f60\u3001\u5411\u4f60\u53d1\u79c1\u4fe1\u3001\u8bc4\u8bba\u4f60\u7684\u5b9e\u540d\u56de\u7b54\u3001\u4f7f\u7528\u300c@\u300d\u63d0\u53ca\u4f60\uff0c\u9080\u8bf7\u4f60\u56de\u7b54\u95ee\u9898\uff0c\u4f46\u4ecd\u7136\u53ef\u4ee5\u67e5\u770b\u4f60\u7684\u516c\u5f00\u4fe1\u606f\u3002",function(a){a&&bE(this,!0)},
this):"cancel-block"===a&&this.yH()};z.e.hN=function(a){if(a&&a.target&&(a=z.kn(this.h,a.target))){var b=z.M("zm-profile-fav-item-title",a),c=z.M("zm-profile-fav-item-des",a);b&&c&&"fav-edit"===a.name&&(b=b.innerHTML,c=c.innerHTML||"",a=[Number(a.getAttribute("data-id")),Number(a.getAttribute("data-public"))],mB(z.Fy.U(),b,c,a))}};z.e.$R=function(a){(a=a.target)&&a.name&&(gE(this,a.name),this.search())};
z.e.search=function(a,b,c){this.Oe=z.L("zh-profile-search-query").value;this.wm="/people/"+z.L("zh-profile-search-form").getAttribute("data_url")+"/search";if(this.Oe){void 0===b&&(b=!0);void 0===c&&(c=!0);if(window.history.pushState){if(this.LA)return;a&&a.preventDefault();this.xm=new z.U(!0);this.LA=!0;this.v().g(this.xm,"complete",this.kK);b&&window.history.pushState({q:(0,window.encodeURIComponent)(this.Oe),type:this.rk},"","?pq\x3d"+(0,window.encodeURIComponent)(this.Oe)+"\x26type\x3d"+this.rk);
this.xm.ajax(this.wm,"type\x3d"+this.rk+"\x26pq\x3d"+(0,window.encodeURIComponent)(this.Oe),"","POST")}else a||(c?(this.Oe=z.L("zh-profile-search-query").value,this.wm="/people/"+z.L("zh-profile-search-form").getAttribute("data_url")+"/search",window.location.href=this.wm+"?type\x3d"+this.rk+"\x26pq\x3d"+(0,window.encodeURIComponent)(this.Oe)):(this.xm=new z.U(!0),this.LA=!0,this.v().g(this.xm,"success",this.kK),this.Oe=z.L("zh-profile-search-query").value,this.wm="/people/"+z.L("zh-profile-search-form").getAttribute("data_url")+
"/search",this.xm.ajax(this.wm,"type\x3d"+this.rk+"\x26pq\x3d"+(0,window.encodeURIComponent)(this.Oe),"","POST")));(a=z.L("zh-profile-search-info"))&&z.P(a,!0)}else a&&a.preventDefault()};
z.e.kK=function(){this.LA=!1;z.hf(z.L("zh-profile-search-word"),this.Oe);var a=z.ae(this.xm);if(a&&!a.r){var b=z.L("zh-profile-search-list");if(b)if(0===a.msg[0])z.L("zh-profile-list-container").innerHTML='\x3cdiv id\x3d"'+b.id+'"\x3e\x3cdiv style\x3d"margin: 20px;color: #999;text-align: center;"\x3e\u62b1\u6b49\uff0c\u6ca1\u6709\u627e\u5230\u4efb\u4f55\u7ed3\u679c\x3c/div\x3e\x3c/div\x3e';else{var c;c=""+('\x3cdiv id\x3d"'+b.id+'"\x3e');c+=a.msg[1]+"\x3c/div\x3e";z.L("zh-profile-list-container").innerHTML=
c+'\x3ca href\x3d"javascript:;" id\x3d"zh-load-more" class\x3d"zg-btn-white zu-button-more" style\x3d""\x3e\u66f4\u591a\x3c/a\x3e';(a=z.ye("zm-item",b))&&a.length&&(this.uh=a[a.length-1].id.split("-")[1]);this.Xa=null;this.Xa=new DC(z.L(b.id),null,!0);this.Xa.init();this.Xa.uh=this.uh;this.Xa.url=this.wm;this.Xa.params.pq=this.Oe;this.Xa.params.type=this.rk;z.L("zh-profile-search-query").focus()}}};z.w(iE,z.Q);
iE.prototype.ga=function(a){this.h=a;this.Ia=new XB;this.Ia.w(this.h);this.form=z.L("zm-profile-expert-editform");this.v().g(this.form,"submit",this.Tz);this.v().g(this.Ia,["add","remove","sort"],function(){this.df()});(0,window.$)(".enable").on("change","input",window.$.proxy(function(){this.df()},this));var b=z.L("zh-profile-expert-warning");b&&this.v().g(b,"click",function(a){"close"===a.target.name&&z.Wm(b)});(0,window.$)(".enable input[type\x3d'radio']").click(function(a){a=!Number((0,window.$)(a.target).val());
z.P(z.L("zh-profile-expert-reopen-tip"),a)})};iE.prototype.df=function(){(0,window.$)(window).on("beforeunload.profile",(0,z.r)(function(){return"\u4f60\u7684\u66f4\u6539\u8fd8\u672a\u4fdd\u5b58\uff0c\u786e\u8ba4\u79bb\u5f00\u8be5\u9875\u9762\u5417\uff1f"},this))};iE.prototype.Lf=function(){(0,window.$)(window).off("beforeunload.profile")};
iE.prototype.Tz=function(a){a.preventDefault();z.y.map(this.Ia.data,function(a){return a[3]});a=(0,window.$)(this.form).serializeArray()[0].value;var b=(0,window.$)("#zh-expert-topics .item").map(function(){return(0,window.$)(this).data("url-token")}).get(),c=this;window.$.post("/node/ProfileEditExpertTopicsV2",{method:"save",params:{settings:{enable_expert:a,expert_topic:b}}},function(a){a&&a.r||(c.Lf(),window.location.href="/people/"+z.V[1])})};z.w(kE,z.Q);kE.prototype.D=function(){kE.o.D.call(this);var a=z.L("zh-topic-block-editor");a&&(new $B(z.Js)).w(a);mE(this);nE(this)};z.w(oE,z.Q);oE.prototype.init=function(){var a=this;pE();qE();sE();uE();rE();tE();(0,window.$)(".zu-main-content-inner form").on("change","input, textarea, select",function(){a.Uw("SettingsPage")}).on("submit",function(){a.Hr("SettingsPage")})};oE.prototype.Uw=function(){(0,window.$)(window).on("beforeunload.SettingsPage",(0,z.r)(function(){return"\u4f60\u7684\u4fee\u6539\u8fd8\u672a\u4fdd\u5b58\uff0c\u786e\u8ba4\u79bb\u5f00\u8be5\u9875\u9762\u5417\uff1f"},this))};oE.prototype.Hr=function(){(0,window.$)(window).off("beforeunload.SettingsPage")};z.w(wE,uC);wE.prototype.init=function(a){wE.o.init.call(this,a);this.hc(this.h)};wE.prototype.VB=function(a){this.VB=a};wE.prototype.hc=function(a){if(this.VB){var b=new BD,c=this.oN;b.ux=this.rx;b.tx=c||b.tx;this.vn&&b.XI(this.vn);b.w(a)}};wE.prototype.XI=function(a){this.vn=a};z.w(xE,z.nk);xE.prototype.init=function(){this.v().g(this.h,"click",this.$o)};xE.prototype.$o=function(a){a=z.kn(this.h,a.target);"focus"===(a&&a.name)&&(0,z.gu)(a,this.rx,null,this.nN,{follow_text:this.text[0],unfollow_text:this.text[1]})};z.w(yE,z.nk);z.e=yE.prototype;z.e.w=function(a){this.element=a;var b=(0,window.$)("\x3cul\x3e");this.FJ=(0,window.$)("\x3cli\x3e");b.append(this.FJ);(0,window.$)(a).append(b);this.GJ||(this.GJ=!0,this.MB=new z.U(!0),this.v().va(this.MB,"success",this.yR),this.MB.ajax(this.url,null,"POST"))};z.e.yR=function(){var a=z.ae(this.MB);a&&(a&&a.r?z.T(a.msg):(zE(this,this.FJ,a.msg),this.GJ=!1,this.D()))};z.e.D=function(){this.v().g(this.element,"click",this.$o)};
z.e.$o=function(a){var b=(a=a.target)?a.name:"";if(b)switch(b){case "load":case "loadmore":if(!this.Qo){var b=a.getAttribute("data-token"),c=a.getAttribute("data-parent");this.Qo=!0;this.Vj=new z.U(!0);this.v().va(this.Vj,"success",this.Jq);this.NA=a.parentNode;this.NA.innerHTML='\x3cspan class\x3d"zg-gray"\x3e\u52a0\u8f7d\u4e2d...\x3c/a\x3e';this.Vj.ajax(this.url+"?child\x3d"+b+"\x26parent\x3d"+c,null,"POST")}break;case "topic":window.location.href=a.href}};
z.e.Jq=function(){var a=z.ae(this.Vj);if(a)if(a&&a.r)z.T(a.msg);else if(a=a.msg,a[1]){(0,window.$)(this.NA).hide();for(var b=(0,window.$)(this.NA.parentNode),c=0;c<a[1].length;c++){var d=a[1][c],f=(0,window.$)("\x3cli\x3e").addClass("zm-topic-organize-item");"topic"!==d[0][0]&&f.addClass("zm-topic-organize-loadmore");b.append(f);zE(this,f,d)}this.Qo=!1}};z.w(BE,z.zp);BE.prototype.dh=function(a){z.Hs[0][0]===a?this.Ii():BE.o.dh.apply(this,arguments)};BE.prototype.OC=function(a){if(a=z.ae(a.target))a.r?z.T(a.msg):a.msg&&(window.location.href=a.msg)};z.w(CE,z.Q);z.e=CE.prototype;z.e.init=function(){z.Yr.L(this);this.w(window.document.body)};
z.e.D=function(){CE.o.D.call(this);HE(this);var a=z.L("zh-topic-top-answerer");a&&(new xE(a,"people",["zg-follow","zg-unfollow"])).init();if(a=z.L("zh-topic-direct-question-list"))a=new wE(a,null,"question",null,!0),a.Fi("question-item"),a.init();if(a=z.L("zh-topic-title"))this.ed=new BE(!1,"/topic/update","title"),z.Qu(this.ed,["tid\x3d"+this.Af]),this.ed.addEventListener("beforeedit",AE({fq:!0})),this.ed.w(a),(0,window.$)(a).on("click",".js-pin",function(){var a=(0,window.$)(this),b=a.attr("data-action");
window.$.post(b,{tid:z.Hs[0][3]}).done(function(b){b.r?z.T(b.msg):(b=a.hasClass("pin")?'\x3ca href\x3d"javascript:;" data-action\x3d"/pin-topic/remove" class\x3d"js-pin zg-gray unpin topic-hover-content"\x3e\x3ci class\x3d"z-icon-unpin"\x3e\x3c/i\x3e\u53d6\u6d88\u5e38\u53bb\u8bdd\u9898\x3c/a\x3e':'\x3ca href\x3d"javascript:;" data-action\x3d"/pin-topic/add" class\x3d"js-pin zg-gray pin topic-hover-content"\x3e\x3ci class\x3d"z-icon-pin"\x3e\x3c/i\x3e\u8bbe\u4e3a\u5e38\u53bb\u8bdd\u9898\x3c/a\x3e',
a.replaceWith(b))})});if(a=z.L("zh-topic-desc"))(0,window.$)(a).find(".zm-editable-content").data("editable-maxlength"),this.gl=new z.Cp(!0,"/topic/update","description"),this.gl.Sb='\x3ca href\x3d"javascript:;" name\x3d"edit"\x3e\u6dfb\u52a0\u8bdd\u9898\u63cf\u8ff0\x3c/a\x3e\x3c/div\x3e',z.Qu(this.gl,["tid\x3d"+this.Af]),this.gl.gr=!1,this.gl.SJ=!1,this.gl.addEventListener("beforeedit",AE({fq:!0})),this.gl.w(a);if(a=z.L("zh-topic-faq"))this.kx=new z.Cp(!0,"/topic/"+(0,window.encodeURIComponent)(z.Hs[0][1])+
"/faq","content"),this.kx.Sb='\x3cdiv class\x3d"zm-topic-faq-container"\x3e\x3cdiv class\x3d"zg-gray-normal"\x3e\u5e38\u89c1\u95ee\u9898\u662f\u8be5\u8bdd\u9898\u4e0b\u7ecf\u5e38\u4f1a\u63d0\u5230\u7684\u95ee\u9898\u7684\u6574\u7406\uff0c\u4ee5\u4fbf\u540e\u6765\u8005\u67e5\u9605\uff08\x3ca href\x3d"/question/20388061" class\x3d"zg-link-litblue"\x3e\u5982\u4f55\u521b\u5efa\uff1f\x3c/a\x3e\uff09\x3c/div\x3e\x3ca href\x3d"javascript:;" name\x3d"edit" class\x3d"zg-link-litblue"\x3e\x3cspan class\x3d"zg-blue-edit"\x3e\x3c/span\x3e\u4e3a\u300c'+
z.Hs[0][0]+"\u300d\u6dfb\u52a0\u5e38\u89c1\u95ee\u9898\x3c/a\x3e\x3c/div\x3e",this.kx.gr=!1,this.kx.w(a);ME(this);NE(this);GE(this);JE(this);KE();LE(this);EE(this);DE();(a=z.M("zm-topic-search-input-new"))&&new z.Ql(a,"\u5728\u8bdd\u9898\u4e2d\u641c\u7d22");var b=(0,window.$)(a);z.cs.nb||b.focus(function(){b.addClass("stretch-to")}).blur(function(){b.removeClass("stretch-to")});(a=z.M("zm-topic-ask-in-topic"))&&this.v().g(a,"click",this.$A);(a=z.M("zm-topic-feed-container"))&&(new xE(a,"question",
["zg-follow","zg-unfollow"])).init();(a=z.L("zh-topic-side-children-list"))&&(new xE(a,"topic",["zg-follow","zg-unfollow"])).init();QE(this);(a=z.L("zh-topic-info-add"))&&z.y.forEach(z.Te(a),function(a){var b;a&&a.getAttribute&&(b=a.getAttribute("data-placeholder"))&&new z.Ql(a,b)});(0,window.$)(".js-may-disable").click(z.vm(z.m,!0))};
z.e.MR=function(){this.xr=this.Ia.$D;if(!this.fH&&this.xr){this.fH=!0;this.vz=new z.U(!0);this.v().va(this.vz,"success",this.YK);this.vz.ajax("/topic/"+(0,window.encodeURIComponent)(z.Hs[0][1])+"/demand","action\x3dmerge\x26target_topic_id\x3d"+this.xr[3]);var a=z.L("zh-topic-merged-msg");z.P(z.L("zh-topic-merge"),!1);z.P(a,!0);a=z.we("a",null,a)[0];a.href="/topic/"+this.xr[1];a.innerHTML=this.xr[0];this.Ia&&(this.Ia.pb.value="")}};z.e.YK=function(){var a=z.ae(this.vz);a&&a.r?z.T(a.msg):this.fH=!1};
z.e.uR=function(){this.gE||(this.gE=!0,this.Hw=new z.U(!0),this.v().va(this.Hw,"success",this.WK),this.Hw.ajax("/topic/"+(0,window.encodeURIComponent)(z.Hs[0][1])+"/demand","action\x3dremove"))};z.e.WK=function(){var a=z.ae(this.Hw);a&&a.r?z.T(a.msg):(a=z.L("zh-topic-del-msg"),z.P(z.L("zh-topic-del-btn"),!1),z.P(a,!0),this.Ia&&(this.Ia.pb.value=""),this.gE=!1)};
z.e.lS=function(a){if((a=a.target)&&a.name)if("add"===a.name){if(a=this.Bv.value)this.Dv=new z.U(!0),this.v().va(this.Dv,"complete",this.VK),this.Dv.ajax(window.location.href,"action\x3dadd_alias\x26alias\x3d"+(0,window.encodeURIComponent)(a))}else"remove"===a.name?(this.yA=new z.U(!0),a=a.parentNode.getAttribute("data-token"),this.v().va(this.yA,"complete",this.$K),this.yA.ajax(window.location.href,"action\x3dremove_alias\x26alias_token\x3d"+a)):"remove-merged"===a.name&&(this.zA=new z.U(!0),a=a.parentNode.getAttribute("data-token"),
this.v().va(this.zA,"complete",this.aL),this.zA.ajax("/topic/"+(0,window.encodeURIComponent)(z.Hs[0][1]+"/demand"),"action\x3dremove\x26target_topic_id\x3d"+a))};z.e.aL=function(){var a=z.ae(this.zA);a&&a.r?z.T(a.msg):FE(this,a.msg)};z.e.$K=function(){var a=z.ae(this.yA);a&&a.r?z.T(a.msg):FE(this,a.msg)};
z.e.VK=function(){var a=z.ae(this.Dv);if(a&&a.r)z.T(a.msg);else{var a=a.msg,b=z.N("li");b.setAttribute("data-token",a[1]);b.innerHTML=a[0]+' \x3ca name\x3d"remove" href\x3d"javascript:;" class\x3d"zg-link-gray"\x3e\u79fb\u9664\x3c/a\x3e';this.Cv.appendChild(b);this.Bv.value="";z.P(this.Cv.parentNode,!0)}};z.e.bB=function(a){this.Xz?this.ib.T()?this.ib.G(!1):(this.ib.G(!0),a.stopPropagation(),a.preventDefault(),this.Sk()):(a.stopPropagation(),a.preventDefault(),this.Fj(),this.Sk());this.Xz=!0};
z.e.Sk=function(){this.v().va(window.document,"click",function(){this.ib.G(!1)})};z.e.Fj=function(){var a=z.L("zh-topic-side-head"),b=this.ag.getAttribute("data-auth");this.ib=new z.Mw;this.iy=!0;"f-topic-manage"===b&&this.ib.Fa(this.qS=new z.Hw("\u7ba1\u7406\u8bdd\u9898"));this.ib.Fa(this.rS=new z.Hw("\u7ec4\u7ec7\u8bdd\u9898"));this.ib.Fa(this.pS=new z.Hw("\u8bdd\u9898\u65e5\u5fd7"));this.iy&&(this.ib.fa(a),this.v().g(this.ib,"action",this.xj))};
z.e.xj=function(a){var b="";a.target===this.qS?b="admin":a.target===this.rS?b="organize":a.target===this.pS&&(b="log");window.location.href=["/topic",this.HB[1],b].join("/")};z.e.VR=function(){var a=z.ae(this.xA);if(a&&!a.r){var b=[];z.y.forEach(a,function(a){b.push(z.Xm(a,null,!0))});this.nT.innerHTML=b.join("")+'\x3cdiv class\x3d"zg-clear"\x3e\x3c/div\x3e';a.length&&z.P(z.L("zh-topic-side-related-topics-wrap"),!0)}};
z.e.ER=function(a){var b=a.target;b&&b.name&&"remove"===b.name&&(this.uP=b,this.aG||(this.aG=!0,this.vy=new z.U(!0),this.v().g(this.vy,"success",this.FR),a="token\x3d"+this.uP.parentNode.getAttribute("data-token")+"\x26action\x3dremove\x26element\x3d"+(0,window.encodeURIComponent)((0,window.$)(a.target).prev("[data-element]").text()),this.vy.ajax("/topic/"+z.Hs[0][1]+"/information/manage",a,"POST")))};
z.e.FR=function(){this.aG=!1;var a=z.ae(this.vy);a&&(a.r?z.T(a.msg):a.msg&&(a=a.msg,z.M("zm-topic-info-content-main",this.h).innerHTML=(0,window.$)(a).html()))};z.e.GR=function(a){a.preventDefault();this.cG||(this.cG=!0,this.wy=new z.U(!0),this.v().g(this.wy,"success",this.DR),a=z.Te(this.Ks),this.wy.ajax("/topic/"+z.Hs[0][1]+"/information/manage","title\x3d"+a[0].value+"\x26content\x3d"+a[1].value+"\x26url\x3d"+a[2].value+"\x26action\x3dadd","POST"))};
z.e.DR=function(){this.cG=!1;var a=z.ae(this.wy);a&&(a.r?z.T(a.msg):a.msg&&(a=a.msg,z.M("zm-topic-info-content-main",this.h).innerHTML=(0,window.$)(a).html(),a=z.Te(this.Ks),z.y.forEach(a,function(a,c){3>c&&(a.value="")})))};z.e.$A=z.vm(function(){if(!z.Lr()){var a=z.Ip.U();a.show();var b=z.M("zm-topic-search-input-new");b.value&&z.Jp(a,b.value);a.Ia.data.length||a.Ia.uk(z.Hs[0])}},!0);z.w(RE,z.Q);RE.prototype.B=function(){this.h=this.M().B("FORM",{method:"POST",style:"display:none"})};RE.prototype.post=function(a,b,c){var d=this.m();d||(this.fa(),d=this.m());d.action=b||"";d.target=c||"";SE(this,d,a);d.submit()};z.w(WE,z.nk);WE.prototype.init=function(){var a=tB(new z.Wk(window.location.href),"group_id");a&&(this.ck=new z.U(!1),this.v().va(this.ck,"success",this.fA),a&&this.ck.ajax("/noti7/read","group_id\x3d"+a,"POST"))};WE.prototype.fA=function(){var a=z.ae(this.ck);if(a&&!a.r&&a.msg){var b=a.msg;if(!0===b||"true"===b||"True"===b)return;this.ZQ=a.msg;this.dispatchEvent("change")}(a=z.ju)&&z.Hq(a)};z.w(XE,z.Q);z.e=XE.prototype;z.e.init=function(){z.Yr.L(this);this.w(window.document.body)};
z.e.D=function(){XE.o.D.call(this);ZE(this);if(this.Qb=z.L("zh-list-meta-wrap"))this.v().g(this.Qb,"click",this.hp),tB(new z.Wk(window.location.href),"fc")&&aF(this);var a=z.L("zh-favlists-wrap");a&&(new wE(a,null,"favlist",null,!0)).init();YE(this);(a=z.L("zh-favlist-log-list-wrap"))&&(new wE(a,null,"favlist",null,!0)).init();(a=z.L("zh-favlist-following-wrap"))&&(new wE(a,null,"favlist",null,!0)).init();if(a=z.L("zh-favlist-followers-wrap"))a=new wE(a,null,"people",["zg-btn-follow","zg-btn-unfollow"],
!0),a.Fi("zm-profile-section-item"),a.VB(!0),a.init();this.v().g(window,"hashchange",this.MX);this.Dy();this.Xo=new WE;this.Xo.init()};z.e.YO=function(a){a=a.target;var b=a.id.split("-"),c=b[1],b=b[2];(new z.U(!0)).ajax("/collection/remove","answer_id\x3d"+c+"\x26favlist_id\x3d"+b);if(b=z.vf(a,"div","zm-item"))a=z.ye("zm-item-answer",b),1===a.length?z.O(b):(a=z.y.find(a,function(a){return a.getAttribute("data-aid")===c}))&&z.O(a.parentNode)};z.e.rU=z.vm(function(){z.Fy.U().show(!0)},!0);
z.e.bB=function(a){this.Xz?this.ib.T()?this.ib.G(!1):(this.ib.G(!0),a.stopPropagation(),a.preventDefault(),this.Sk()):(a.stopPropagation(),a.preventDefault(),this.Fj(),this.Sk());this.Xz=!0};z.e.Sk=function(){this.v().va(window.document,"click",function(){this.ib.G(!1)})};
z.e.Fj=function(){var a=z.L("zh-list-side-head");this.ib=new z.Mw;this.iy=!0;this.visible||this.ib.Fa(this.tS=new z.Hw("\u8bbe\u7f6e\u4e3a\u516c\u5f00"));this.ib.Fa(this.oS=new z.Hw("\u5220\u9664\u6b64\u6536\u85cf\u5939"));this.iy&&(this.ib.fa(a),this.v().g(this.ib,"action",this.xj))};z.e.hp=function(a){a=a.target;switch(a&&a.name){case "edit":mB(z.Fy.U());break;case "addcomment":aF(this);this.qa.kg();this.qa.$c()&&this.qa.Ki("view_comments",(0,window.parseInt)(z.pf(a),10)||0);break;case "remove":$E(this)}};
z.e.xj=function(a){a.target===this.tS?z.Bi("\u786e\u5b9a\u8bbe\u7f6e\u6536\u85cf\u5939\u4e3a\u516c\u5f00\uff1f","\u6536\u85cf\u5939\u8bbe\u7f6e\u4e3a\u516c\u5f00\u540e\uff0c\u5c06\u4e0d\u80fd\u518d\u8bbe\u7f6e\u4e3a\u79c1\u5bc6\u3002",function(a){a&&bF(this)},this):a.target===this.oS&&$E(this)};z.e.Dy=function(){var a=1,b=(0,window.$)("ul.hot-favlists"),c=null;(0,window.$)("#js-hot-fav-switch").click(function(){c&&"pending"===c.state()||(a=5<=a?1:a+1,c=UE(a).done(function(a){b.html(a)}))})};var lF=(0,window.$)("#is-topstory2").length?"topstory2":"homefeed",dF=z.D&&!z.F(9),gF={ac:"actioncard",q:"question",a:"answer",p:"article",c:"column",r:"roundtable"},iF={question:"question",answer:"question",article:"column",column:"column",roundtable:"roundtable"},jF={question:"question",answer:"question",article:"article",column:"column",roundtable:"roundtable"};cF.prototype.Gb=function(){this.lC=(0,window.$)('meta[itemprop\x3d"ZReactor"]',this.Gh);this.lC.length&&(fF(this),this.zP())};
cF.prototype.SS=function(){var a=[],b=z.tn(550,function(){a.length&&(eF(a),a=[])});return function(c){a.push(c);b()}}();
cF.prototype.zP=z.ui(function(){z.G(z.X,"click_feed_fresh",function(a){eF({mid:z.nj.ga_vars.user_hash,object_type:"btn",object_id:2,object_meta:{load_items:a.data.count},action_type:"click",context:lF,others:"",time:(0,z.x)()})});z.G(z.X,"topstory_feed_more",function(){eF({mid:z.nj.ga_vars.user_hash,object_type:"btn",object_id:1,object_meta:{next:(0,window.$)("#js-home-feed-list .feed-item").length+1},action_type:"click",context:lF,others:"",time:(0,z.x)()})})});z.w(mF,uC);mF.prototype.bh=function(a){a&&!a.r&&(a=a.msg,a.length?(z.P(this.ec,0<a.length),this.offset+=a.length,this.Qq(a),wC(this,!1),AC(this)):this.Gk.hide())};var CJ={ROUNDTABLE_ADD_RELATED:"roundtable",ARTICLE_VOTE_UP:"post_vote",ARTICLE_CREATE:"post_create",RECOMMENDED:"feed_recommended",QUESTION_FOLLOW:"feed_question_follow",QUESTION_CREATE:"feed_question",ANSWER_VOTE_UP:"feed_answer_vote",ANSWER_CREATE:"feed_answer_answer"};
mF.prototype.XO=function(a){var b=a.currentTarget.h.getAttribute("data-feedtype"),b=CJ[b];"comment"===a.namespace&&b&&a.Pc.fill("category","feed").fill("label",b)};mF.prototype.gk=function(a){var b=z.DA(a);this.L(b);this.v().g(b,"click!",this.XO);b.w(a);new cF(b);return b};mF.prototype.hI=function(a){return{params:a,method:"next"}};z.ca(oF);z.w(tF,z.Q);z.e=tF.prototype;z.e.D=function(){tF.o.D.call(this);this.K=(0,window.$)(this.h);if(this.Ae=z.L("zh-main-feed-fresh-button"))this.vq=(0,window.$)(this.Ae),this.kQ?(this.v().g(this.Ae,"click",this.lT),this.v().g(z.X,"topstory2",this.IF)):this.wG?(this.v().g(this.Ae,"click",this.kT),this.v().g(z.X,"topstory",this.IF)):(this.v().g(this.Ae,"click",this.vU),this.v().g(z.X,"homefeed",this.BO));uF(this);yF(this);xF(this)};
z.e.kT=function(){this.vq.text("\u52a0\u8f7d\u4e2d\u2026");this.Ji=0;var a=this;this.Xa.offset=0;this.Xa.uh=0;zC(this.Xa,!0,function(){nF(a.Xa)}).done(function(){a.vq.hide();yC(a.Xa)})};z.e.lT=function(){this.vq.text("\u52a0\u8f7d\u4e2d\u2026");var a=this.Ji;this.Ji=0;var b=this;this.Xa.offset=a;this.Xa.uh="live";zC(this.Xa,!0,null,function(a){a&&a.msg.length&&(b.Xa.Qq(a.msg,"prepend"),b.vq.hide())});z.X.ya({type:"click_feed_fresh",data:{count:a}})};
z.e.vU=function(){var a=z.M("zm-home-question-list-devider",this.h);a&&z.S.remove(a,"zm-home-question-list-devider");var a=this.yt.length,b=(0,window.$)("."+this.HE,this.h)[0];b&&5<=a&&((0,window.$)(".feed-separator-hook",this.h).next(".feed-item-hook").css("border-top","1px solid #eee").end().remove(),(0,window.$)(b).css("border-top","none").before('\x3cdiv class\x3d"feed-item-hook feed-separator-hook feed-separator"\x3e\x3cspan\x3e\u4e0a\u6b21\u4f60\u770b\u5230\u8fd9\u91cc\x3c/span\x3e\x3c/div\x3e'));
z.y.forEach(this.yt,function(a){var b=(0,window.$)("."+this.HE,this.h)[0];b?z.Oe(a,b):this.h.appendChild(a)},this);this.yt=[];z.P(this.Ae,!1);sF();z.X.ya({type:"ga_click_feed_fresh",data:{count:a}})};
z.e.BO=function(a){var b=(0,z.Ya)(a.sf);a=this.yt;var c=a.length;if(b&&!(500<c)){var d=z.Je(b),f=this.Wy,g=function(a){return z.A.kN(f,a)},b=function(){return g(function(a){return a.oa===n.oa})},h=function(){return g(function(a){return a.la===n.la})},l=function(){return g(function(a){return a.Lb===n.Lb})};if(!function(){return g(function(a){return a.m().id===d.id})}()){var n=this.Xa.gk(d);if(n.oa){if(b())return}else if(n.la){if(h())return}else if(n.Lb&&l())return;vF(this,n);a.push(d);c+=1;this.Ae&&
(this.Ae.innerHTML=(99<c?"99+":c)+" \u6761\u65b0\u52a8\u6001",z.P(this.Ae,!0))}}};z.e.IF=function(a){this.Ji=this.Ji||0;this.Ji+=+a.sf;this.Ae&&(this.Ae.innerHTML=(99<this.Ji?"99+":this.Ji)+" \u6761\u65b0\u52a8\u6001",z.P(this.Ae,!0))};z.w(zF,z.Q);z.e=zF.prototype;z.e.D=function(){zF.o.D.call(this);var a=z.L("zh-invite-select");a&&this.v().g(a,"change",this.Rz);(a=z.M("zm-invite-list"))&&this.v().g(a,"click",this.Oa);(this.oy=z.L("zh-invite-ignore-all-btn"))&&this.v().g(this.oy,"click",this.qP)};
z.e.Oa=function(a){if((a=a.target)&&a.name){if("ignore"===a.name){z.S.add(a,"zg-btn-disabled");this.rP=new z.U(!1);var b="qid\x3d"+a.getAttribute("data-qid")+"\x26uid\x3d"+z.V.qf+"\x26op\x3dpass";this.rP.ajax("/question/askpeople",b,"POST");(b=a.parentNode)&&z.Wm(b,!0)}"recover"!==a.name||this.uI||(this.sI=a,this.uI=!0,z.S.add(a,"zg-btn-disabled"),a.innerHTML="...",this.tI=new z.U(!1),this.v().g(this.tI,"success",this.ZK),a="qid\x3d"+a.getAttribute("data-qid")+"\x26uid\x3d"+z.V.qf+"\x26op\x3drecover",
this.tI.ajax("/question/askpeople",a,"POST"))}};z.e.Rz=function(a){var b=tB(new z.Wk(window.location.href),"filter_by");(a=a.target)&&a.value&&(a=a.value,a!==b&&(window.location.href="/question/invited?filter_by\x3d"+a))};z.e.ZK=function(){this.uI=!1;this.fc(this.sI,"ignore");this.sI.name="ignore"};
z.e.fc=function(a,b){var c=a.parentNode,d=z.M("zm-invite-item-info-label",c);"ignore"===b?(z.S.remove(a,"zg-btn-disabled"),z.S.remove(a,"recover"),z.S.add(a,"ignore"),z.S.add(c,"invite"),z.S.remove(c,"ignore"),d.innerHTML="\u65b0\u9080\u8bf7",a.name="ignore",a.innerHTML="\u5ffd\u7565"):(z.S.remove(a,"zg-btn-disabled"),z.S.remove(a,"ignore"),z.S.add(a,"recover"),z.S.remove(c,"invite"),z.S.remove(c,"draft"),z.S.add(c,"ignore"),d.innerHTML="\u5df2\u5ffd\u7565",a.name="recover",a.innerHTML="\u6062\u590d")};
z.e.qP=function(){this.py||(this.py=!0,this.WF=new z.U(!1),this.v().g(this.WF,"success",this.XK),this.WF.ajax("/question/askpeople","uid\x3d"+z.V.qf+"\x26op\x3dignore_all","POST"))};z.e.XK=function(){this.py=!1;z.P(this.oy,void 0);this.py=!1;z.y.forEach(z.ye("zm-invite-item-control"),(0,z.r)(function(a){this.fc(a,"recover")},this))};z.w(AF,z.Q);AF.prototype.D=function(){AF.o.D.call(this);this.Bl();this.v().g(this.h,"click",this.Oa)};AF.prototype.Oa=function(a){a=a.target;if(a.name)switch(a.name){case "fold":(0,window.$)(a).parent().hide().prev().animate({height:"show"},200);break;case "fold-follow":(0,window.$)(a).parent().hide().prev().show();break;case "unfold-item":(0,window.$)(a).parent(".author-list").hide().siblings(".hidden").show()}};
AF.prototype.Bl=function(){this.Qo||(this.Qo=!0,this.Vj=new z.U(!1),this.v().g(this.Vj,"success",this.Oz),this.Vj.ajax("/noti7/calendar","","GET"))};
AF.prototype.Oz=function(){this.Qo=!1;var a=z.$d(this.Vj);if(a){var b=z.L("zh-noti7-list-inner");/category/.test(a)?(b.innerHTML=a,b&&(a=new uC(b,"/noti7/calendar",!0),a.Qq=function(a){var b=z.N("div","zm-item-more-wrap");b.innerHTML=a;z.Oe(b,this.ec)},xC(a,function(a){this.uh=this.ec.getAttribute("data-next");return!a||a.msg[0]&&a.msg[1]}),a.init())):b.innerHTML='\x3cdiv class\x3d"empty"\x3e\x3cspan class\x3d"zg-gray-normal"\x3e\u60a8\u6536\u5230\u7684\u6d88\u606f\u4f1a\u663e\u793a\u5728\u8fd9\u91cc\x3c/span\x3e\x3c/div\x3e'}};z.w(BF,z.nk);BF.prototype.init=function(){var a=z.L("home-suggest-block");a&&(this.h=a,a=z.L("home-suggest-close-button"),this.v().va(a,"click",function(){(new z.U(!0)).ajax("/option","key\x3dno_show_lookup\x26value\x3d1");z.P(this.h,!1)}),a=z.L("home-suggest-refresh-button"),this.v().g(a,"click",this.UR),this.lt=z.L("home-suggest-list"),EF(this))};BF.prototype.UR=function(){CF(this);return!0};
BF.prototype.sR=function(a){a.r||((a=a.msg)&&z.ea(a)&&a.length?(this.my=[],this.dE=a,CF(this)):this.lt.innerHTML="")};z.w(FF,z.H);z.e=FF.prototype;z.e.show=function(a){if(this.Lo)return this;this.Lo=!0;this.dispatchEvent("willShow");this.K.addClass(this.position).appendTo("body");this.vC=(0,window.$)(a);this.target=this.vC[0];if(!this.target)return this;this.ca();this.K.addClass("is-active");this.dispatchEvent("show");this.K.on("click",".js-dismiss",(0,z.r)(this.hide,this));!1!==this.Yz.Tq&&this.Tq();return this};
z.e.ca=function(){var a=this.position,b=this.offset(a),c;c=b;var d=this.ej,f=(0,window.$)(window),g=d.clientWidth,d=d.clientHeight,h=f.scrollTop(),l=f.scrollLeft(),n=f.innerHeight(),f=f.innerWidth();c={top:c.top>h+z.Ah(window.document.body).top,bottom:c.top+d<h+n,left:c.left>l,right:c.left+g<l+f};c=c[a]?a:z.A.nx(c,z.jb);a!==c&&(b=this.offset(c));0>b.left&&(this.K.find(".tooltip-arrow").css("left",GF(this.ej).width/2+b.left),b.left=0);this.K.removeClass("top right bottom left").addClass(c).css(b);
this.dispatchEvent("reposition")};z.e.offset=function(a){var b=GF(this.ej),c=b.width,b=b.height,d=GF(this.target),f=d.width,d=d.height,g=this.vC.offset();switch(a){case "top":return{top:g.top-b,left:g.left+f/2-c/2};case "bottom":return{top:g.top+d,left:g.left+f/2-c/2};case "right":return{top:g.top+d/2-b/2,left:g.left+f};case "left":return{top:g.top+d/2-b/2,left:g.left-c}}};
z.e.hide=function(a){if(this.Lo)return this.dispatchEvent({type:"hide",reason:"string"===typeof a?a:"click"}),this.Lo=!1,window.Modernizr.csstransitions?this.K.onTransitionEnd((0,z.r)(this.clear,this),350).removeClass("is-active"):this.clear(),this};z.e.Tq=function(){function a(){if(!b.Lo)return z.bt.pa("update",a);z.lj(z.bt,b.ej)||(b.hide("outOfView"),z.bt.pa("update",a))}var b=this;z.bt.g("update",a)};z.e.clear=function(){this.K.remove()};(0,z.x)();z.w(KF,z.Q);KF.prototype.init=function(){z.Yr.L(this);this.w(window.document.body)};
KF.prototype.D=function(){KF.o.D.call(this);LF(this);var a=z.M("zm-invite-container");a&&(new zF).w(a);z.L("home-settings-page-wrap")&&(a=z.L("zh-topic-block-editor"))&&(new $B(z.Js)).w(a);(a=z.L("zh-noti7"))&&(new AF).w(a);var b=z.L("zm-home-sidebar-domain-entry-link");b&&(a=!!b.getAttribute("data-expanded"),b=new z.Zj(b,z.L("zm-home-sidebar-domain-entry-nav"),a),a&&z.Pc(b,"toggle",function(){z.Gi("/notifeature?feature\x3d4",null,"GET");return!0}));(0,window.$)(".zm-side-pinned-topics").on("click",
".unpin",function(){var a=(0,window.$)(this).parent();window.$.post("/pin-topic/remove",{tid:(0,window.$)(this).attr("data-tid")}).done(function(b){b.r||a.fadeOut()})});(new BF).init();NF();MF();pF();HF()};z.w(OF,z.Hw);OF.prototype.Md=function(){return this.dispatchEvent("action")};z.Fj("goog-option",function(){return new OF(null)});z.w(z.PF,z.Iw);z.ca(z.PF);z.PF.prototype.B=function(a){return a.M().B("DIV",this.Ce(a).join(" ")+" goog-inline-block","\u00a0")};z.PF.prototype.w=function(a,b){b=z.PF.o.w.call(this,a,b);z.Gg(b,"goog-inline-block");return b};z.PF.prototype.R=function(){return"goog-toolbar-separator"};z.w(z.QF,z.xn);z.ca(z.QF);z.QF.prototype.Xn=function(a){return"HR"==a.tagName?new z.Jw(z.PF.U()):z.QF.o.Xn.call(this,a)};z.QF.prototype.R=function(){return"goog-toolbar"};z.QF.prototype.Cx=function(){return z.yt};z.w(RF,z.Qw);z.ca(RF);RF.prototype.R=function(){return"goog-toolbar-button"};z.w(z.SF,z.Oj);z.Fj("goog-toolbar-button",function(){return new z.SF(null)});z.w(TF,z.Sw);z.ca(TF);TF.prototype.createCaption=function(a,b){return TF.o.createCaption.call(this,UF(a,b),b)};TF.prototype.Da=function(a,b){a&&VF(this.Y(a),b)};TF.prototype.He=function(a){var b=a.m();this.Da(b,a.W());z.Gg(b,"goog-color-menu-button");TF.o.He.call(this,a)};z.w(WF,z.Wn);WF.prototype.next=function(){do WF.o.next.call(this);while(-1==this.Xb);return this.node};z.w(z.XF,z.yj);z.ca(z.XF);var aG=0;z.e=z.XF.prototype;z.e.B=function(a){var b=this.Ce(a);a=a.M().B("DIV",b?b.join(" "):null,YF(this,a.hb(),a.ji(),a.M()));z.xg(a,"grid");return a};z.e.uw=function(a,b){var c=b.B("TABLE",this.R()+"-table",b.B("TBODY",this.R()+"-body",a));c.cellSpacing=0;c.cellPadding=0;return c};z.e.$b=function(){return!1};z.e.w=function(){return null};
z.e.ha=function(a,b){if(a){var c=z.we("TBODY",this.R()+"-body",a)[0];if(c){var d=0;z.y.forEach(c.rows,function(a){z.y.forEach(a.cells,function(a){z.Ne(a);if(b){var c=b[d++];c&&a.appendChild(c)}})});if(d<b.length){for(var f=[],g=z.se(a),h=c.rows[0].cells.length;d<b.length;){var l=b[d++];f.push(ZF(this,l,g));f.length==h&&(l=$F(this,f,g),c.appendChild(l),f.length=0)}if(0<f.length){for(;f.length<h;)f.push(ZF(this,"",g));l=$F(this,f,g);c.appendChild(l)}}}z.vh(a,!0,z.B)}};z.e.R=function(){return"goog-palette"};z.w(cG,z.H);z.e=cG.prototype;z.e.oh=null;z.e.uf=null;z.e.Mg=function(){return this.Kd.length};z.e.fi=function(a){return this.Kd[a]||null};z.e.Fa=function(a){this.Cf(a,this.Mg())};z.e.Cf=function(a,b){a&&(this.ym(a,!1),z.y.Bo(this.Kd,a,b))};z.e.removeItem=function(a){a&&z.y.remove(this.Kd,a)&&a==this.oh&&(this.oh=null,this.dispatchEvent("select"))};z.e.jf=function(){return this.oh};z.e.eb=function(){return z.y.clone(this.Kd)};
z.e.xf=function(a){a!=this.oh&&(this.ym(this.oh,!1),this.oh=a,this.ym(a,!0));this.dispatchEvent("select")};z.e.qj=function(){var a=this.oh;return a?z.y.indexOf(this.Kd,a):-1};z.e.Jp=function(a){this.xf(this.fi(a))};z.e.clear=function(){z.y.clear(this.Kd);this.oh=null};z.e.C=function(){cG.o.C.call(this);delete this.Kd;this.oh=null};z.e.ym=function(a,b){a&&("function"==typeof this.uf?this.uf(a,b):"function"==typeof a.Cm&&a.Cm(b))};z.w(z.eG,z.Hj);z.e=z.eG.prototype;z.e.Bc=null;z.e.Ta=-1;z.e.ma=null;z.e.C=function(){z.eG.o.C.call(this);this.ma&&(this.ma.H(),this.ma=null);this.Bc=null;this.Hn.H()};z.e.Am=function(a){z.eG.o.Am.call(this,a);hG(this);this.ma?(this.ma.clear(),dG(this.ma,a)):(this.ma=new cG(a),a=(0,z.r)(this.ym,this),this.ma.uf=a,this.v().g(this.ma,"select",this.yj));this.Ta=-1};z.e.Kg=function(){return""};z.e.zm=function(){};
z.e.rd=function(a){z.eG.o.rd.call(this,a);var b=bG(this.N,this,a.target);b&&a.relatedTarget&&z.bf(b,a.relatedTarget)||b!=iG(this)&&jG(this,b)};z.e.fe=function(a){z.eG.o.fe.call(this,a);this.Ub()&&(a=bG(this.N,this,a.target),a!=iG(this)&&jG(this,a))};z.e.Md=function(a){var b=iG(this);return b?(this.xf(b),z.eG.o.Md.call(this,a)):!1};
z.e.dc=function(a){var b=this.hb(),b=b?b.length:0,c=this.Bc.width;if(0==b||!this.isEnabled())return!1;if(13==a.keyCode||32==a.keyCode)return this.Md(a);if(36==a.keyCode)return this.Ab(0),!0;if(35==a.keyCode)return this.Ab(b-1),!0;var d=0>this.Ta?this.qj():this.Ta;switch(a.keyCode){case 37:if(-1==d||0==d)d=b;this.Ab(d-1);a.preventDefault();return!0;case 39:return d==b-1&&(d=-1),this.Ab(d+1),a.preventDefault(),!0;case 38:-1==d&&(d=b+c-1);if(d>=c)return this.Ab(d-c),a.preventDefault(),!0;break;case 40:if(-1==
d&&(d=-c),d<b-c)return this.Ab(d+c),a.preventDefault(),!0}return!1};z.e.yj=function(){};z.e.ji=function(){return this.Bc};z.e.Ab=function(a){a!=this.Ta&&(kG(this,this.Ta,!1),this.cz=this.Ta,this.Ta=a,kG(this,a,!0),this.dispatchEvent("j"))};z.e.qj=function(){return this.ma?this.ma.qj():-1};z.e.jf=function(){return this.ma?this.ma.jf():null};z.e.Jp=function(a){this.ma&&this.ma.Jp(a)};z.e.xf=function(a){this.ma&&this.ma.xf(a)};
z.e.Ac=function(a){a&&-1==this.Ta?this.Ab(-1<this.cz?this.cz:0):a||this.Ab(-1);z.eG.o.Ac.call(this,a)};z.e.ym=function(a,b){if(this.m()&&a){var c=a.parentNode;z.Kg(c,this.N.R()+"-cell-selected",b);z.yg(c,"selected",b)}};z.w(fG,z.Hj);z.w(lG,z.eG);lG.prototype.At=null;lG.prototype.at=null;lG.prototype.Mx=function(){var a=this.jf();return a?(a=z.vv(a,"background-color"),nG(a)):null};lG.prototype.Ip=function(a){a=nG(a);this.At||(this.At=z.y.map(this.or,function(a){return nG(a)}));this.Jp(a?z.y.indexOf(this.At,a):-1)};z.w(oG,z.Uw);var qG={hW:"#000 #444 #666 #999 #ccc #eee #f3f3f3 #fff".split(" "),BW:"#f00 #f90 #ff0 #0f0 #0ff #00f #90f #f0f".split(" "),xW:"#f4cccc #fce5cd #fff2cc #d9ead3 #d0e0e3 #cfe2f3 #d9d2e9 #ead1dc #ea9999 #f9cb9c #ffe599 #b6d7a8 #a2c4c9 #9fc5e8 #b4a7d6 #d5a6bd #e06666 #f6b26b #ffd966 #93c47d #76a5af #6fa8dc #8e7cc3 #c27ba0 #cc0000 #e69138 #f1c232 #6aa84f #45818e #3d85c6 #674ea7 #a64d79 #990000 #b45f06 #bf9000 #38761d #134f5c #0b5394 #351c75 #741b47 #660000 #783f04 #7f6000 #274e13 #0c343d #073763 #20124d #4c1130".split(" ")};
z.e=oG.prototype;z.e.Mx=function(){return this.W()};z.e.Ip=function(a){this.Da(a)};z.e.Da=function(a){for(var b=0,c;c=this.fi(b);b++)"function"==typeof c.Ip&&c.Ip(a);oG.o.Da.call(this,a)};z.e.lo=function(a){"function"==typeof a.target.Mx?this.Da(a.target.Mx()):"none"==a.target.W()&&this.Da(null);oG.o.lo.call(this,a);a.stopPropagation();this.dispatchEvent("action")};z.e.Bb=function(a,b){a&&0==this.Mg()&&(this.rh(pG(this.M())),this.Da(this.W()));oG.o.Bb.call(this,a,b)};
z.Fj("goog-color-menu-button",function(){return new oG(null)});z.w(rG,z.Sw);z.ca(rG);rG.prototype.R=function(){return"goog-toolbar-menu-button"};z.w(sG,rG);z.ca(sG);sG.prototype.createCaption=function(a,b){return z.Tw(UF(a,b),this.R(),b)};sG.prototype.Da=function(a,b){a&&VF(this.Y(a),b)};sG.prototype.He=function(a){this.Da(a.m(),a.W());z.Gg(a.m(),"goog-toolbar-color-menu-button");sG.o.He.call(this,a)};z.w(tG,oG);z.Fj("goog-toolbar-color-menu-button",function(){return new tG(null)});z.w(uG,z.Uw);z.Fj("goog-toolbar-menu-button",function(){return new uG(null)});z.w(vG,z.Uw);z.e=vG.prototype;z.e.ma=null;z.e.D=function(){vG.o.D.call(this);xG(this);AG(this)};z.e.ga=function(a){vG.o.ga.call(this,a);(a=this.Kg())?wG(this,a):this.jf()||this.Jp(0)};z.e.C=function(){vG.o.C.call(this);this.ma&&(this.ma.H(),this.ma=null);this.Gw=null};z.e.lo=function(a){this.xf(a.target);vG.o.lo.call(this,a);a.stopPropagation();this.dispatchEvent("action")};z.e.yj=function(){var a=this.jf();vG.o.Da.call(this,a&&a.W());xG(this)};
z.e.rh=function(a){var b=vG.o.rh.call(this,a);a!=b&&(this.ma&&this.ma.clear(),a&&(this.ma?z.Wh(a,function(a){zG(a);this.ma.Fa(a)},this):yG(this,a)));return b};z.e.Fa=function(a){zG(a);vG.o.Fa.call(this,a);this.ma?this.ma.Fa(a):yG(this,this.Va());BG(this)};z.e.Cf=function(a,b){zG(a);vG.o.Cf.call(this,a,b);this.ma?this.ma.Cf(a,b):yG(this,this.Va())};z.e.removeItem=function(a){vG.o.removeItem.call(this,a);this.ma&&this.ma.removeItem(a)};
z.e.xf=function(a){if(this.ma){var b=this.jf();this.ma.xf(a);a!=b&&this.dispatchEvent("change")}};z.e.Jp=function(a){this.ma&&this.xf(this.ma.fi(a))};z.e.Da=function(a){if(null!=a&&this.ma)for(var b=0,c;c=this.ma.fi(b);b++)if(c&&"function"==typeof c.W&&c.W()==a){this.xf(c);return}this.xf(null)};z.e.W=function(){var a=this.jf();return a?a.W():null};z.e.jf=function(){return this.ma?this.ma.jf():null};z.e.qj=function(){return this.ma?this.ma.qj():-1};
z.e.Bb=function(a,b){vG.o.Bb.call(this,a,b);this.ub()?this.Va().Ab(this.qj()):BG(this)};z.Fj("goog-select",function(){return new vG(null)});z.w(DG,vG);z.Fj("goog-toolbar-select",function(){return new DG(null)});var IG=[10,10,13,16,18,24,32,48];var DJ=z.v("Link");z.v("Edit Link");z.v("Text to display:");z.EJ=z.v("Link to:");z.v("Web address");z.v("Link to a page or file somewhere else on the web");z.v("Test this link");
z.v("{$startBold}Not sure what to put in the box?{$endBold} First, find the page on the web that you want to link to. (A {$searchEngineLink}search engine{$endLink} might be useful.) Then, copy the web address from the box in your browser's address bar, and paste it into the box above.",{startBold:"\x3cb\x3e",endBold:"\x3c/b\x3e",searchEngineLink:"\x3ca href\x3d'http://www.google.com/' target\x3d'_new'\x3e",endLink:"\x3c/a\x3e"});z.v("To what URL should this link go?");z.v("Email address");z.v("Link to an email address");
z.v("Invalid email address");z.v("To what email address should this link?");z.v("{$preb}Be careful.{$postb} Remember that any time you include an email address on a web page, nasty spammers can find it too.",{preb:"\x3cb\x3e",postb:"\x3c/b\x3e"});z.v("Open this link in a new window");z.v("Image");var FJ,GJ,SG,RG,HJ,IJ,JJ,KJ,HG,LJ,MJ,NJ,OJ,KG,PJ,QJ,RJ,SJ,TJ,UJ,VJ,WJ,XJ,YJ,ZJ,$J,aK,bK,cK,dK,eK,fK,gK,hK,iK,jK,kK,lK,mK,nK,oK,pK,qK,rK,tK,uK,vK;
for(FJ=z.v("Normal"),GJ=z.v("Normal / serif"),SG=[{caption:FJ,value:"arial,sans-serif"},{caption:GJ,value:"times new roman,serif"},{caption:"Courier New",value:"courier new,monospace"},{caption:"Georgia",value:"georgia,serif"},{caption:"Trebuchet",value:"trebuchet ms,sans-serif"},{caption:"Verdana",value:"verdana,sans-serif"}],RG={ja:[{caption:"\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af",value:"ms pgothic,sans-serif"},{caption:"\uff2d\uff33 \uff30\u660e\u671d",value:"ms pmincho,serif"},{caption:"\uff2d\uff33 \u30b4\u30b7\u30c3\u30af",
value:"ms gothic,monospace"}],ko:[{caption:"\uad74\ub9bc",value:"gulim,sans-serif"},{caption:"\ubc14\ud0d5",value:"batang,serif"},{caption:"\uad74\ub9bc\uccb4",value:"gulimche,monospace"}],"zh-tw":[{caption:"\u65b0\u7d30\u660e\u9ad4",value:"pmingliu,serif"},{caption:"\u7d30\u660e\u9ad4",value:"mingliu,serif"}],"zh-cn":[{caption:"\u5b8b\u4f53",value:"simsun,serif"},{caption:"\u9ed1\u4f53",value:"simhei,sans-serif"},{caption:"MS Song",value:"ms song,monospace"}]},HJ=z.v("Small"),IJ=z.v("Normal"),JJ=
z.v("Large"),KJ=z.v("Huge"),HG=[{caption:HJ,value:1},{caption:IJ,value:2},{caption:JJ,value:4},{caption:KJ,value:6}],LJ=z.v("Heading"),MJ=z.v("Subheading"),NJ=z.v("Minor heading"),OJ=z.v("Normal"),KG=[{caption:LJ,Ba:"H2"},{caption:MJ,Ba:"H3"},{caption:NJ,Ba:"H4"},{caption:OJ,Ba:"P"}],PJ=z.v("Format"),QJ=z.v("Format"),RJ=z.v("Undo"),SJ=z.v("Redo"),TJ=z.v("Font"),UJ=z.v("Font size"),VJ=z.v("Text color"),WJ=z.v("Bold"),XJ=z.v("Italic"),YJ=z.v("Underline"),ZJ=z.v("Text background color"),$J=z.v("Add or remove link"),
aK=z.v("Numbered list"),bK=z.v("Bullet list"),cK=z.v("Decrease indent"),dK=z.v("Increase indent"),eK=z.v("Align left"),fK=z.v("Align center"),gK=z.v("Align right"),hK=z.v("Justify"),iK=z.v("Remove formatting"),jK=z.v("Insert image"),kK=z.v("Strikethrough"),lK=z.v("Left-to-right"),mK=z.v("Right-to-left"),nK=z.v("Quote"),oK=z.v("Edit HTML source"),pK=z.v("Subscript"),qK=z.v("Superscript"),rK=z.v("Edit HTML"),z.sK={},tK=[{Ba:"+undo",V:RJ,Pa:"tr-icon tr-undo",factory:TG,jb:!0},{Ba:"+redo",V:SJ,Pa:"tr-icon tr-redo",
factory:TG,jb:!0},{Ba:"+fontName",V:TJ,Pa:"tr-fontName",factory:function(a,b,c,d,f,g){var h=OG(a,b,c,d,f,g);QG(h);wG(h,FJ);z.Gg(h.Va().Y(),"goog-menu-noaccel");h.Mi=function(a){var b=null;a&&0<a.length&&(b=z.Th(h.Va(),EG(a)));b!=h.jf()&&h.xf(b)};return h},jb:!0},{Ba:"+fontSize",V:UJ,Pa:"tr-fontSize",factory:function(a,b,c,d,f,g){var h=OG(a,b,c,d,f,g);GG(h);wG(h,IJ);z.Gg(h.Va().Y(),"goog-menu-noaccel");h.Mi=function(a){var b;if(b=z.q(a))b=a.match(AJ),b="px"==(b&&b[0]||null);b&&(a=z.y.lastIndexOf(IG,
(0,window.parseInt)(a,10)));a=0<a?a:null;a!=h.W()&&h.Da(a)};return h},jb:!0},{Ba:"+bold",V:WJ,Pa:"tr-icon tr-bold",jb:!0},{Ba:"+italic",V:XJ,Pa:"tr-icon tr-italic",jb:!0},{Ba:"+underline",V:YJ,Pa:"tr-icon tr-underline",jb:!0},{Ba:"+foreColor",V:VJ,Pa:"tr-icon tr-foreColor",factory:function(a,b,c,d,f,g){a=PG(a,b,c,d,f,g);a.Ip("#000");a.Mi=z.oa(UG,a);return a},jb:!0},{Ba:"+backColor",V:ZJ,Pa:"tr-icon tr-backColor",factory:function(a,b,c,d,f,g){a=PG(a,b,c,d,f,g);a.Ip("#FFF");a.Mi=z.oa(UG,a);return a},
jb:!0},{Ba:"+link",V:$J,caption:DJ,Pa:"tr-link",jb:!0},{Ba:"+insertOrderedList",V:aK,Pa:"tr-icon tr-insertOrderedList",jb:!0},{Ba:"+insertUnorderedList",V:bK,Pa:"tr-icon tr-insertUnorderedList",jb:!0},{Ba:"+outdent",V:cK,Pa:"tr-icon tr-outdent",factory:z.LG},{Ba:"+indent",V:dK,Pa:"tr-icon tr-indent",factory:z.LG},{Ba:"+justifyLeft",V:eK,Pa:"tr-icon tr-justifyLeft",jb:!0},{Ba:"+justifyCenter",V:fK,Pa:"tr-icon tr-justifyCenter",jb:!0},{Ba:"+justifyRight",V:gK,Pa:"tr-icon tr-justifyRight",jb:!0},{Ba:"+justifyFull",
V:hK,Pa:"tr-icon tr-justifyFull",jb:!0},{Ba:"+removeFormat",V:iK,Pa:"tr-icon tr-removeFormat",factory:z.LG},{Ba:"image",V:jK,Pa:"tr-icon tr-image",factory:z.LG},{Ba:"+strikeThrough",V:kK,Pa:"tr-icon tr-strikeThrough",jb:!0},{Ba:"+subscript",V:pK,Pa:"tr-icon tr-subscript",jb:!0},{Ba:"+superscript",V:qK,Pa:"tr-icon tr-superscript",jb:!0},{Ba:"ltr",V:lK,Pa:"tr-icon tr-ltr",jb:!0},{Ba:"rtl",V:mK,Pa:"tr-icon tr-rtl",factory:function(a,b,c,d,f,g){var h=z.NG(a,b,c,d,f,g);h.Mi=function(a){a=!!a;z.Kg(h.getParent().m(),
"tr-rtl-mode",a);h.vf(a)};return h},jb:!0},{Ba:"+BLOCKQUOTE",V:nK,Pa:"tr-icon tr-BLOCKQUOTE",jb:!0},{Ba:"+formatBlock",V:PJ,caption:QJ,Pa:"tr-formatBlock",factory:function(a,b,c,d,f,g){var h=OG(a,b,c,d,f,g);JG(h);wG(h,OJ);z.Gg(h.Va().Y(),"goog-menu-noaccel");h.Mi=function(a){a=a&&0<a.length?a:null;a!=h.W()&&h.Da(a)};return h},jb:!0},{Ba:"editHtml",V:oK,caption:rK,Pa:"tr-editHtml",factory:z.LG}],uK=0,vK;vK=tK[uK];uK++)z.sK[vK.Ba]=vK;tK=null;var wK={};wK.track=z.nn;z.w(z.VG,z.nB);z.pa(z.VG.prototype,wK);z.VG.prototype.defaults={Ak:null,title:"Distraction Free Mode",yL:"back",OT:"publish",xx:"zu-editing-distraction-free",EU:"sticky-goog-scrollfloater",aV:"zm-editable-toolbar-container"};z.VG.prototype.pd=z.ib("FullScreenPlugin");z.sK.toggleFullScreen={Ba:"toggleFullScreen",V:"\u5199\u4f5c\u6a21\u5f0f",Pa:"tr-icon tr-max",factory:z.LG};z.e=z.VG.prototype;z.e.Je=z.oa(z.A.Hf,{GW:"toggleFullScreen",aW:"enterFullScreen",bW:"exitFullScreen"});
z.e.C=function(){this.ea.H();z.O(this.h);this.J=this.bq=this.xc=this.Db=this.h=null;z.VG.o.C.call(this)};
z.e.aw=function(){var a=this.J,b=window.document.createElement("div");b.id="zu-distraction-free-editor";b.innerHTML='\x3cdiv class\x3d"header"\x3e\x3cdiv class\x3d"wrapper"\x3e\x3ch1 class\x3d"title"\x3e'+a.title+'\x3c/h1\x3e\x3ca href\x3d"#" class\x3d"'+a.yL+'" name\x3d"return"\x3e\u8fd4\u56de\x3c/a\x3e\x3ca href\x3d"#" class\x3d"'+a.OT+'" name\x3d"save"\x3e\u53d1\u5e03\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"toolbar"\x3e\x3cdiv class\x3d"tools"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"content" class\x3d"grid"\x3e\x3c/div\x3e';window.document.body.appendChild(b);
this.ea.g(z.M("back",b),"click",function(a){a.preventDefault();ZG(this)});this.ea.g(z.M("publish",b),"click",function(a){a.preventDefault();this.dispatchEvent("save")&&ZG(this)});this.h=b;this.xc=z.M("content",b);this.bq=z.N("div",{className:"toolbar-info"});this.J.Ak||(this.J.Ak=this.F.Aa)};z.e.$I=function(){if(this.bq){var a=(0,window.$)(this.bq);a.stop().text("\u8349\u7a3f\u5df2\u7ecf\u4fdd\u5b58").fadeTo(600,.5).delay(3E3).fadeOut(600,function(){a.text("")})}};
z.e.ef=function(a){this.h||this.aw();switch(a){case "enterFullScreen":WG(this);break;case "exitFullScreen":ZG(this);break;case "toggleFullScreen":this.Oy()?ZG(this):WG(this)}};z.e.Oy=function(){return z.S.has(window.document.body,this.J.xx)};z.e.EH=function(){this.Oy()?ZG(this):"writing"===window.location.hash.slice(1)&&WG(this)};z.e.ep=function(a){27===a.keyCode&&this.dispatchEvent("shouldExitFullScreenOnEscape")&&ZG(this)};z.e.ZI=function(a){z.S[a?"add":"remove"](this.Db,this.J.EU)};z.w(z.mA,z.Hw);z.Fj("goog-checkbox-menuitem",function(){return new z.mA(null)});z.w($G,z.nk);
$G.prototype.init=function(){this.pm=z.L("zh-question-redirect-info");this.pm.innerHTML&&(this.Ko=!0);this.v().g(this.pm,"click",function(a){"cancel"===a.target.name&&cH(this)});var a=z.L("zh-question-side-header-wrap");if(z.cs.nb&&!z.cs.xG&&a){var b=z.L("zh-question-filter-wrap");b?z.Oe(a,b):a.style[z.D?"styleFloat":"cssFloat"]="none"}(this.ag=z.L("zh-question-operation-menu"))&&this.Fj();this.v().g(z.vj,"anon_change",function(a){var b=z.L("zh-question-side-invitation-anon");b&&z.P(b,a.tb);(b=z.L("zh-question-side-invitation-notanon"))&&
z.P(b,!a.tb);this.gm&&this.gm.Ya(bC(this.data.ih)||!a.tb)})};
$G.prototype.Fj=function(){this.ib=new z.Mw;var a=this.data.dn,b=this.ag.getAttribute("data-auth"),b=b?b.split(","):[];if(null==a||0===a)this.ib.Fa(this.Gt=bH("\u4f7f\u7528\u533f\u540d\u8eab\u4efd",!1)),aH(this),z.Ks&&z.y.contains(z.Ks,"question_op_redirect")||"close"===z.Es.status||(this.ib.Fa(this.gm=bH(this.Ko?"\u64a4\u6d88\u91cd\u5b9a\u5411":"\u95ee\u9898\u91cd\u5b9a\u5411")),this.gm.Ya(bC(this.data.ih)||!this.data.tb)),z.y.contains(b,"auth-f-manage")&&this.ib.Fa(this.sS=bH("\u66f4\u65b0\u8bdd\u9898\u9875\u663e\u793a",
!1)),this.v().g(this.ib,"action",this.xj),this.Gt&&this.v().g(z.vj,"anon_change",function(){aH(this)}),this.Ib&&z.y.contains(b,"auth-pu-mark")&&(this.ib.Fa(this.Wz=bH("\u4f18\u8d28\u56de\u7b54",!0)),this.Wz.vf(this.Ib.$P)),a=new z.Uw("Settings",this.ib),a.zi=!0,z.Ww(a),a.w(this.ag)};
$G.prototype.xj=function(a){if(a.target===this.Gt)z.Vu(this.data.tb?0:1);else if(a.target===this.gm){if(!1===AE({nm:!0})())return!1;this.mp||(this.mp=new HD(this.la),this.v().g(this.mp,"change",this.HQ));this.ib.G(!1);this.Ko?cH(this):this.mp.show()}else a.target===this.nS?z.Gi("/question/"+this.data.lb+(this.nS.Ug()?"/unlock_summary":"/lock_summary"),function(){window.top!==window?window.top.location.href="/question/"+z.Es.lb:window.location.reload()},"POST"):a.target===this.sS?window.$.post("/refresh_topic_feeds",
{q:z.Es.lb}).done(function(a){a.r||z.T("\u64cd\u4f5c\u6210\u529f\uff01")}):a.target===this.Wz&&window.$.post("/answer/"+this.Ib.lb+(this.Wz.Ug()?"/good_mark":"/good_unmark")).done(function(a){a.r||z.T("\u64cd\u4f5c\u6210\u529f\uff01")})};
$G.prototype.HQ=function(){this.pm.innerHTML='\x3cdiv class\x3d"zg-wrap"\x3e\x3cdiv class\x3d"zu-global-nitify-inner"\x3e\x3cspan class\x3d"zu-global-notify-icon"\x3e\x3c/span\x3e\u6b64\u95ee\u9898\u5c06\u8df3\u8f6c\u81f3 \x3ca href\x3d"/question/'+this.mp.eu+'"\x3e'+this.mp.nI+'\x3c/a\x3e\uff08\x3ca href\x3d"javascript:;" name\x3d"cancel"\x3e\u64a4\u6d88\u91cd\u5b9a\u5411\x3c/a\x3e\uff09\x3c/div\x3e\x3c/div\x3e';z.P(this.pm,!0);this.Ko=!0;this.gm.zm("\u64a4\u6d88\u91cd\u5b9a\u5411")};z.w(dH,z.Q);dH.prototype.B=function(){dH.o.B.call(this);this.h=z.Je(xK)};dH.prototype.D=function(){dH.o.D.call(this);this.Fh=(0,window.$)(this.m());this.Em=z.sv("answer",this.WC);var a="/qrcode?"+window.$.param({url:window.location.protocol+"//"+window.location.hostname+"/question/"+this.fT+"/answer/"+this.WC+"#showWechatShareTip"});(0,window.$)(".js-qrcode-image",this.Fh).attr("src",a);this.Gb()};
dH.prototype.Gb=function(){var a=this;(0,window.$)("button.weibo",this.Fh).click(function(){a.Em.done(function(a){a.r||(z.Yx(a.msg.sina),z.nn("share","answer_weibo"))})})};var xK='\x3cdiv class\x3d"answer-share-tip"\x3e\u5206\u4eab\u6211\u7684\u56de\u7b54\u5230\x3cbutton class\x3d"wechat hidden-phone"\x3e\x3cdiv class\x3d"qr-code"\x3e\u626b\u63cf\u4e8c\u7ef4\u7801\x3cimg class\x3d"js-qrcode-image" alt\x3d"\u5fae\u4fe1\u5206\u4eab\u4e8c\u7ef4\u7801"\x3e\x3c/div\x3e\x3cspan class\x3d"ico z-ico-wechat"\x3e\x3c/span\x3e\u5fae\u4fe1\x3c/button\x3e\x3cbutton class\x3d"weibo"\x3e\x3cspan class\x3d"ico z-ico-weibo"\x3e\x3c/span\x3e\u5fae\u535a\x3c/button\x3e\x3c/div\x3e';z.w(eH,z.Cp);var hH=[{value:"\u7cbe\u7b80\u6587\u5b57\u63cf\u8ff0",label:"\u7cbe\u7b80\u6587\u5b57\u63cf\u8ff0"},{value:"\u8865\u5145\u5fc5\u8981\u7684\u4fe1\u606f",label:"\u8865\u5145\u5fc5\u8981\u7684\u4fe1\u606f"},{value:"\u6539\u8fdb\u6807\u70b9\u6216\u683c\u5f0f",label:"\u6539\u8fdb\u6807\u70b9\u6216\u683c\u5f0f"},{value:"other",label:"\u5176\u4ed6"}];z.e=eH.prototype;z.e.w=function(a){eH.o.w.call(this,a);this.v().g(z.vj,"anon_change",this.uj)};
z.e.uj=function(a){this.Ty||z.S.enable(this.h,"zm-editable-disabled",a.tb)};
z.e.Wh=function(){eH.o.Wh.call(this);this.uA=z.N("div",{"class":"zm-editable-require-reason-wrap",style:"padding:10px 0 0 0"},[z.N("a",{"class":"zg-right zg-link-litblue",href:"/question/19550238/answer/12202028",target:"_blank"},"\u4e3a\u4ec0\u4e48\u95ee\u9898\u53ef\u4ee5\u88ab\u516c\u5171\u7f16\u8f91\uff1f"),gH(),this.gH=z.N("span"),this.hT=z.N("div",{"class":"zg-form-text-input",style:"height:22px;margin:10px 0 0 0;display:none"},this.gT=z.N("textarea",{style:"width:100%;height:22px !important;min-height:22px !important;"}))]);
z.Oe(this.uA,this.wc);this.wp&&iH(this," * \u5fc5\u9009","zg-gray-normal");var a=z.we("select",null,this.uA)[0];this.v().g(a,"change",function(){z.P(this.hT,"other"===a.value);iH(this," * \u5fc5\u9009","zg-gray-normal")})};
z.e.dh=function(a){var b=z.we("select",null,this.uA)[0],c=b.value;if(this.wp){if("none"===c){iH(this,"\u8bf7\u9009\u62e9\u4e00\u4e2a\u4fee\u6539\u7406\u7531");return}if("other"===b.value&&(c=z.Ym(this.gT.value),!c)){iH(this,"\u8bf7\u586b\u5199\u4fee\u6539\u7406\u7531");return}}"title"===this.Cr&&-1===a.indexOf("?")&&-1===a.indexOf("\uff1f")?iH(this,"\u8fd8\u6ca1\u6709\u8f93\u5165\u95ee\u53f7"):("none"===c&&(c=""),this.params=["id\x3d"+this.la+"\x26reason\x3d"+(0,window.encodeURIComponent)(c)+"\x26question_id\x3d"+
this.la],this.dispatchEvent("change"),eH.o.dh.call(this,a),iH(this,"* \u5fc5\u9009","zg-gray-normal"),this.wp=!0)};z.e.hf=function(){return this.Hd&&this.AS?(0,z.qn)(z.ya(this.Na.value)):eH.o.hf.call(this)};z.e.df=function(){(0,window.$)(window).on("beforeunload.EditorWithReason",(0,z.r)(function(){return"\u4f60\u5bf9\u95ee\u9898\u7684\u4fee\u6539\u8fd8\u672a\u4fdd\u5b58\uff0c\u786e\u8ba4\u79bb\u5f00\u8be5\u9875\u9762\u5417\uff1f"},this))};z.e.Lf=function(){(0,window.$)(window).off("beforeunload.EditorWithReason")};
z.e.Ii=function(){eH.o.Ii.call(this);this.Lf()};z.e.yf=function(){eH.o.yf.call(this);this.df()};z.w(jH,z.Q);jH.prototype.L=function(a,b){jH.o.L.call(this,a,b);this.v().g(a,"beforeexpand",this.VO)};jH.prototype.VO=function(a){var b=a.target;z.Wh(this,function(a){b!==a&&a.$c()&&a.yd(!1)})};jH.prototype.H=function(){this.v().H();jH.o.H.call(this)};z.w(kH,z.vi);kH.prototype.D=function(){kH.o.D.call(this);z.yi(this,490);(0,window.$)(this.m()).addClass("user-guiding-dialog")};z.w(oH,z.Q);z.e=oH.prototype;z.e.B=function(){oH.o.B.call(this);this.h=z.N("div",{className:"question-invite-panel"})};z.e.D=function(){oH.o.D.call(this);this.K=(0,window.$)(this.m())};z.e.C=function(){oH.o.C.call(this);this.aa&&this.aa.H();delete this.aa;delete this.Ql;delete this.Kj};z.e.$c=function(){return this.Mb};z.e.kg=function(){this.yd(!this.Mb)};
z.e.yd=function(a){a!==this.$c()&&(this.dispatchEvent(a?"beforeexpand":"beforecollapse"),a&&!this.Kc&&pH(this),this.Mb=a,this.K.toggle(a),this.dispatchEvent(a?"expand":"collapse"))};
z.e.yy=function(a){var b=this,c=(0,z.Lp)(yK),d=new z.Xl(a,{Ld:20,source:"/question/ac/invite-people?question_token\x3d"+this.kp,kh:this.m(),placeholder:"\u641c\u7d22\u4f60\u60f3\u9080\u8bf7\u7684\u4eba",wd:function(a,b,d){d.innerHTML=c(a.data)},filter:function(a){return z.y.filter(a,function(a){return!uH(b,a.member_hash)})},select:function(){return""},format:function(a){return a}});d.Ci=function(){return!1};var f=d.N;f.className="suggest-persons search";f.fg="person";f.hg(!1);var g=(0,window.$)(".suggest-persons-wrapper",
this.h),h=z.ui(function(){(0,window.$)(f.m()).on("click","button",window.$.proxy(b.sF,b))}),l=(0,window.$)(".invite-title .spinner-gray");(0,window.$)(".search-input",this.h).on("input",function(){l.css("display","inline-block")});d.addEventListener("show",function(){l.hide();var a=f.m();g.hide();(0,window.$)(".no-result-tips",b.h).remove();var c=(0,window.$)(".person",a);5<c.length&&(c.hide().slice(0,5).show(),(0,window.$)('\x3ca class\x3d"js-more" href\x3d"#"\x3e\u66f4\u591a\u641c\u7d22\u7ed3\u679c\x3c/a\x3e').appendTo(a).one("click",
function(){c.show();(0,window.$)(this).remove();return!1}));h()});d.addEventListener("hide",function(){l.hide();a.value.length?(0,window.$)(".no-result-tips",b.h).length||(g.hide(),(0,window.$)('\x3cspan class\x3d"no-result-tips"\x3e\u6ca1\u6709\u627e\u5230\u4f60\u60f3\u9080\u8bf7\u7684\u4eba\x3c/span\x3e').appendTo(b.h)):(g.show(),(0,window.$)(".no-result-tips",b.h).remove())});d.addEventListener("dismiss",function(){(0,window.$)(".no-result-tips",b.h).remove();g.show()});this.aa=d};
z.e.hR=function(){this.$c()?(this.aa&&this.aa.H(),pH(this)):this.Kc=!1};z.e.ON=function(){z.Vu(0)};
z.e.sF=function(a){var b=a.target,c=this.cI((0,window.$)(b).parents(".person"));this.Ql&&"pending"===this.Ql.state()&&this.Ql.abort();a=b.getAttribute("data-type");var d=z.S.has(b,this.jG),f=(0,z.r)(function(a){a?(wH(this,b,!0),this.Kj.unshift(c),yH(this),vH(this,c.id,!0),this.WL()):(wH(this,b,!1),xH(this,c.id),vH(this,c.id,!1))},this);d?(this.Ql=cC(this.kp,c.id),f(!1)):(this.Ql=window.$.post("/question/askpeople",{qid:this.kp,uid:c.id,_source_type:a,op:"add"}).done(function(a){a.r&&(z.T(a.msg),f(!1))}),
f(!0),tH(this,a))};z.e.PN=function(a){a=a.target.getAttribute("data-uid");cC(this.kp,a);vH(this,a,!1);xH(this,a)};z.e.WL=z.ui(function(){z.V.ih&&window.$.post("/question/popup",{action:"invite",question_token:this.kp},function(a){a&&nH(new kH,a)})});z.e.cI=function(a){var b=(0,window.$)(".zm-item-link-avatar",a),c=(0,window.$)(".zg-link",a);return{id:String((0,window.$)("button",a).data("uid")),avatar:(0,window.$)("img",b).attr("src"),fullname:c.text(),url_token:b.attr("href").split("/").slice(-1)[0]}};
var qH='\x3ci class\x3d"icon icon-spike"\x3e\x3c/i\x3e\x3cdiv class\x3d"spinner"\x3e\u6b63\u5728\u52a0\u8f7d\uff0c\u8bf7\u7a0d\u7b49 \x3ci class\x3d"spinner-gray"\x3e\x3c/i\x3e\x3c/div\x3e',AH='\u4f60\u5df2\u9080\u8bf7 \x3cspan class\x3d"invited-shortlist"\x3e\x3c% helper.each(persons.slice(0, 2), function(person, i, sliced) { %\x3e\x3ca href\x3d"/people/\x3c%\x3dperson.url_token%\x3e" class\x3d"zg-link-gray"\x3e\x3c%\x3dperson.fullname%\x3e\x3c/a\x3e\x3c%\x3d i !\x3d\x3d sliced.length - 1 ? "\u3001" : ""%\x3e\x3c% }); %\x3e\x3c%\x3dhelper.fullList()%\x3e\x3c/span\x3e\x3c% if (persons.length \x3e 2) { %\x3e \u7b49 \x3c%\x3dpersons.length%\x3e \u4eba \x3c% } %\x3e\x3c% if (persons.length \x3c maxInvites) { %\x3e \uff0c\u8fd8\u53ef\u4ee5\u9080\u8bf7 \x3c%\x3dmaxInvites - persons.length%\x3e \u4eba\x3c% } %\x3e',
zH='\x3cdiv class\x3d"invited-hovercard"\x3e\x3ci class\x3d"icon icon-spike"\x3e\x3c/i\x3e\x3cul class\x3d"invited-fulllist"\x3e\x3c% helper.each(persons, function(person, i) { %\x3e\x3cli\x3e\x3ca title\x3d"\x3c%-person.fullname%\x3e" class\x3d"zm-item-link-avatar" href\x3d"/people/\x3c%\x3dperson.url_token%\x3e"\x3e\x3cimg src\x3d"\x3c%\x3dperson.avatar%\x3e" class\x3d"zm-item-img-avatar"\x3e\x3c/a\x3e\x3ca href\x3d"/people/\x3c%\x3dperson.url_token%\x3e" class\x3d"zg-link-gray" title\x3d"\x3c%-person.fullname%\x3e"\x3e\x3c%\x3dperson.fullname%\x3e\x3c/a\x3e\x3cbutton class\x3d"cancel-button zg-link-btn zg-link-gray" data-uid\x3d"\x3c%\x3dperson.id%\x3e"\x3e\u6536\u56de\u9080\u8bf7\x3c/button\x3e\x3c/li\x3e\x3c% }) %\x3e\x3c/ul\x3e\x3c/div\x3e',
yK='\x3ca data-tip\x3d"p$t$\x3c%\x3durl_token%\x3e" class\x3d"zm-item-link-avatar" href\x3d"/people/\x3c%\x3durl_token%\x3e" title\x3d"\x3c%\x3dfullname%\x3e"\x3e\x3cimg src\x3d"\x3c%\x3davatar_path%\x3e" class\x3d"zm-item-img-avatar"\x3e\x3c/a\x3e\x3cdiv class\x3d"content"\x3e\x3cbutton class\x3d"invite-button zg-btn zg-btn-green" data-uid\x3d"\x3c%\x3dmember_hash%\x3e" data-type\x3d"search"\x3e\u9080\u8bf7\u56de\u7b54\x3c/button\x3e\x3cdiv class\x3d"describe"\x3e\x3ca data-tip\x3d"p$t$\x3c%\x3durl_token%\x3e" href\x3d"/people/\x3c%\x3durl_token%\x3e" class\x3d"zg-link"\x3e\x3c%\x3dhighlighted_fullname%\x3e\x3c/a\x3e\x3c% if(headline) { %\x3e \uff0c\x3cspan class\x3d"bio" title\x3d"\x3c%-headline%\x3e"\x3e\x3c%\x3dhighlighted_headline%\x3e\x3c/span\x3e \x3c% } %\x3e\x3c/div\x3e\x3cdiv class\x3d"reason"\x3e\x3c% if (detailed_info) {%\x3e \x3c%\x3ddetailed_info%\x3e\x3c% } %\x3e\x3c% if (topic["answer_num"]) {%\x3e\u5728 \x3ca href\x3d"/people/\x3c%\x3durl_token%\x3e/topic/\x3c%\x3dtopic["url_token"]%\x3e/answers" data-tip\x3d"t$b$\x3c%\x3dtopic["url_token"]%\x3e" data-token\x3d"\x3c%\x3dtopic["url_token"]%\x3e" data-topicid\x3d"\x3c%\x3dtopic["id"]%\x3e"\x3e \x3c%\x3dtopic["name"]%\x3e \x3c/a\x3e \u8bdd\u9898\u4e0b\u6709 \x3c%\x3dtopic["answer_num"]%\x3e \u4e2a\u56de\u7b54 \x3c% } %\x3e\x3c/div\x3e\x3c/div\x3e';z.w(BH,z.Q);z.e=BH.prototype;z.e.D=function(){BH.o.D.call(this);this.v().g(this.h,"click",this.hp);CH(this);this.v().g(this,"click!",function(a){"comment"===a.namespace&&a.Pc.fill("label","question")})};z.e.Gj=function(){var a=(0,window.$)("a[name\x3dreport-question]",this.m());a.length&&z.cx(new z.ax("question",this.data.la),a[0])};
z.e.Hj=function(){var a=(0,window.$)('a[name\x3d"share"]',this.m()).get(0);a&&z.Zx(a,"question",this.data.lb,window.location.protocol+"//"+window.location.host+"/question/"+this.data.lb)};
z.e.hp=function(a){var b=(a=z.kn(this.h,a.target))&&a.name;if(b)switch(b){case "addcomment":"\u6dfb\u52a0\u8bc4\u8bba"===window.$.trim((0,window.$)(a).text())?z.vm(this.hs,{Ga:"question_add_comment_start"}).call(this,a):this.hs(a);break;case "remove":FH(this);break;case "admin":EH(this,a);break;case "invite":this.Ly.kg(),this.dispatchEvent(new z.uw("click!invitation",{category:"invitation",action:(this.Ly.$c()?"show":"hide")+"_ask_to_answer_card",label:"?",value:this.data.ue}))}};
z.e.hs=function(a){this.qa.kg();this.qa.$c()&&this.qa.Ki("view_comments",(0,window.parseInt)(z.pf(a),10)||0)};z.e.rM=function(a){this.IC.W(a.msg.action);this.IC.zm(a.msg.caption)};z.w(GH,z.Uz);GH.prototype.w=function(a){GH.o.w.call(this,a);this.Me&&this.lu(this.yr.tb)};GH.prototype.T=function(){return(0,window.$)(this.h).is(":visible")};z.w(HH,z.Q);var YH=z.ui(JF);z.e=HH.prototype;z.e.init=function(){z.Yr.L(this);this.w(window.document.body)};z.e.D=function(){HH.o.D.call(this);this.yo();JH(this);this.Xo=new WE;this.v().g(this.Xo,"change",this.fA);this.Xo.init();this.bJ();var a=z.L("zh-question-meta-wrap");a&&(this.rA=new BH(this.data),this.L(this.rA),this.rA.w(a));IH(this);(a=z.nj.topic_errors_info)&&z.rk(a)};
z.e.bJ=function(){this.data.lb=z.Es.lb;MH(this,!0);z.V.Ga()&&(KH(this),LH(this));SH(this);(this.mw=z.L("zg-question-suggested-topics"))&&this.v().g(this.mw,"click",this.fR);this.xo();this.v().g(window,"hashchange",function(a){a=a.lc;a.oldURL&&"writing"===a.oldURL.split("#")[1]||WH(this)});PH(this);VH(this);RH(this);WH(this,null);OH(this);z.Ds&&(0,window.setTimeout)(function(){window.location.href=z.Ds},5E3)};
z.e.yo=function(){(0,z.uA)("question",this.data.lb,"read");this.v().g(this,["click!","show!"],function(a){"comment"===a.namespace&&a.Pc.fill("category","question_answer").fill("label","question_answer");"invitation"===a.namespace&&a.Pc.fill("label","question_page")})};z.e.fA=function(){this.fP=!0;this.yk=(0,window.$)(this.Xo.ZQ)[0];z.Pe(this.yk,z.L("zh-question-redirect-info"));z.P(this.yk,!0);z.cs.nb||(this.mj=new z.Yo,this.mj.w(this.yk),qB(this.mj));this.v().g(this.yk,"click",this.pF);WH(this)};
z.e.xP=function(a){"close"!==z.Es.status&&(a=a.target.m(),this.Tb=new eH(this.data.la,"/question/detail","content",!0,null,600),fH(this.Tb,bC(this.data.ih)),z.M("zm-editable-content",a).innerHTML&&(this.Tb.wp=!0),this.Tb.w(a),this.v().g(this.Tb,"click_edit",function(){z.X.ya("ga_question_supplement_edit_start")}),this.v().g(this.Tb,"cancel_edit",function(){z.X.ya("ga_question_supplement_edit_cancel")}),this.v().g(this.Tb,"save_changed",function(){z.X.ya("ga_question_supplement_edit_save_changed")}),
this.v().g(this.Tb,"save_unchanged",function(){z.X.ya("ga_question_supplement_edit_save_unchanged")}),this.Tb.addEventListener("beforeedit",AE({nm:!0})))};
z.e.AP=function(a){a=a.target.m();var b=z.L("zh-question-answer-summary-link"),c;!a||!z.cs.kG&&this.data.IU||(c=new z.Cp(!0,"/question/summary","content"),z.Qu(c,["id\x3d"+this.data.la]),c.gr=!1,c.w(a));if(b){var d=z.L("zh-question-answer-summary-wrap");this.v().g(b,"click",function(){c&&(z.P(d,!0),c.yf())}).g(d,"click",function(a){"cancel"===a.target.name&&(a=!c.hf(),z.P(d,!a))})}this.HU=c;this.HU.addEventListener("beforeedit",AE({nm:!0}))};
z.e.pF=function(a){if("close"===a.target.name){if(this.mj&&(z.ap(this.mj),z.$o(this.mj,!1),window.history.replaceState)){a=new z.Wk(window.location.href);var b=a.od();b.remove("q");b.remove("psq");window.history.replaceState({},"",a.Ne+"?"+b.toString())}z.P(this.yk,!1);z.P(this.Tt,!1)}else if("A"===a.target.tagName&&"zh-question-suggest-reask"===a.target.id&&(z.P(this.Tt,!1),z.Ip.U().show()),b="a"===(0,window.$)(a.target).prop("tagName").toLowerCase()?a.target:this.Jg(a.target,"A"))a.preventDefault(),
a.stopPropagation(),a=b.getAttribute("data-source")||b.href,b=a.indexOf("#"),a=0>b?null:a.substr(b+1),WH(this,a?(0,window.decodeURIComponent)(a):a)};z.e.AO=function(){var a=this.kL,b=a.m(),c=a.te.hb()[0];z.P(b,!1);c=z.Je((0,z.Ya)(c));z.Oe(c,b);this.Ti[a.oa]=null;this.Nq=z.y.filter(this.Nq,function(b){return b!==a.oa},this);var d=999;this.Kv=z.y.filter(this.Kv,function(b){b.aid===a.oa&&(d=b.vote);return b.aid!==a.oa},this);z.O(b);a.H();QH(this,c,d)};
z.e.Iz=function(a){a=a.target;if(a instanceof GH){var b=a.m();switch(a.pv){case "collap":this.wn.appendChild(b);z.S.add(b,"zm-item-collapsed");this.data.ue--;OH(this);break;case "cancel_collap":this.Pq.appendChild(b);z.S.remove(b,"zm-item-collapsed");XH(this,b);this.data.ue++;OH(this);break;case "set_delete":RH(this);this.data.ue--;OH(this);break;case "cancel_delete":XH(this,this.Ti[this.vi].m()),RH(this),this.data.ue++,OH(this)}}};z.e.XE=function(a){return this.Ti[a]};
z.e.KU=function(a){(a=z.kn(this.Th,a.target))&&a.name&&("expand"===a.name?(this.kM||UH(this),TH(this,!0)):TH(this,!1))};z.e.pR=function(){var a=this.Ti[this.vi],b;a?(lB(a),XH(this,a.m())):(b=this.bk,a=new z.U(!0),this.v().va(a,"success",function(){window.location.href="/question/"+z.Es.lb+"/answer/"+b.url_token}),a.ajax("/answer/unremove","aid\x3d"+b.id))};
z.e.gR=function(){var a=this.wb,b=a.Mq.checked,c=Number(!a.PD.checked),a={Yj:!0,title:"\u786e\u8ba4\u653e\u5f03\u533f\u540d\u8eab\u4efd\uff1f",content:"\u4f60\u5728\u8be5\u95ee\u9898\u4e0b\u7684\u8d5e\u540c\u548c\u5173\u6ce8\u884c\u4e3a\u5c06\u4ee5\u5b9e\u540d\u663e\u793a\u3002"},d=(0,z.r)(function(){if(!this.xhr||!this.xhr.Ub()){var a=this.wb.hf();if(a){var d=new z.U(!0),h=new z.bl,l=b?1:0;h.add("id",this.la).add("content",a).add("anon",l).add("copyable",c);d.on("success",function(){z.Es.tb!==l&&
z.vj.dispatchEvent(new z.Ju(l));var a=z.ae(this.xhr);a&&!a.r?(a=z.Je((0,z.Ya)(a.msg[0])),this.Pq.appendChild(a),QH(this,a,this.Nq.length),z.cn(a),RH(this),z.mz(this.wb.tE),z.pz(this.wb.tE),this.wb.H(),z.Es.tb||(new dH(this.data.lb,this.Ti[this.vi].lb)).fa((0,window.$)(".zu-main-content-inner").get(0)),this.data.ue++,OH(this)):z.Fi("\u63d0\u793a\u4fe1\u606f",a.msg)},!1,this);d.ajax("/answer/add",h.toString());this.xhr=d}}},this);z.Es.tb&&!b?z.Bi(a,function(a){a&&d()}):d()};z.e.Jg=function(){};
z.e.fR=function(a){if((a=this.Jg(a.target))&&a.name){var b=a.name;"close"===b?z.P(this.mw,!1):"addtag"===b&&(this.Ia.We(a.id.split("-")[1],a.innerHTML),z.P(a,!1))}};z.e.xo=function(){this.gB=new $G(this.la);this.gB.init()};z.w($H,HH);z.e=$H.prototype;z.e.bJ=function(){(this.Ir=z.L("zh-single-answer-disable-wrap"))&&this.v().g(this.Ir,"click",this.JT);this.Ns();this.xo();cI();MH(this,!1);var a=(0,window.$)("#zh-question-answer-collections \x3e .zh-general-list").get(0);if(a){var b=new z.dz({use:["autoload","nodeSource"]});this.L(b);b.w(a)}aI(this)};z.e.yo=function(){this.v().g(this,["click!","show!"],function(a){"invitation"===a.namespace&&a.Pc.fill("label","answer_page")});$H.o.yo.call(this)};
z.e.JT=function(a){a.target&&a.target.name&&lB(this.Ib)};z.e.Ns=function(){var a=z.M("zm-item-answer",z.L("zh-question-answer-wrap"));if(a){this.Ib=new GH({la:this.la,lE:!0});this.L(this.Ib);this.Ib.w(a);a=this.v();a.g(this.Ib,"change",this.Iz);if(this.Ib.Me){a.g(z.vj,"anon_change",function(a){bI(this,a.tb)});var b=this.Ib.te;b&&a.g(b,"change",function(){var a=(0,z.Ya)(b.hb()[0]),a=z.Je(a);z.Re(a,this.Ib.h);this.Ib.H();this.Ns(a)})}dI(this);z.cA(this.Ib,{autofocus:!1,PG:!0});JF(this.Ib)}};
z.e.XE=function(a){if(this.Ib.oa===a)return this.Ib};z.e.uL='\x3ch3\x3e\u5173\u4e8e\u4f5c\u8005\x3c/h3\x3e\x3c% if (author) { %\x3e\x3ca class\x3d"zm-list-avatar-link" href\x3d"/people/\x3c%\x3d author.url_token %\x3e" tabindex\x3d"-1"\x3e\x3cimg class\x3d"zm-list-avatar-medium" src\x3d"\x3c%\x3d author.avatar_path.replace("_s.","_m.") %\x3e"/\x3e\x3c/a\x3e\x3cdiv class\x3d"zm-list-content-medium"\x3e\x3ch2 class\x3d"zm-list-content-title"\x3e\x3ca href\x3d"/people/\x3c%\x3d author.url_token %\x3e"\x3e\x3c%\x3d author.fullname %\x3e\x3c/a\x3e\x3c/h2\x3e\x3cdiv class\x3d"zg-gray-normal"\x3e\x3c%\x3d author.headline || "" %\x3e\x3c/div\x3e\x3c/div\x3e\x3c% } else { %\x3e\x3ca class\x3d"zm-list-avatar-link" href\x3d"javascript:;"\x3e\x3cimg class\x3d"zm-list-avatar-medium" src\x3d"http://img.zhihu.dev:4080/66/6b/666b0abfc_m.jpg"/\x3e\x3c/a\x3e\x3cdiv class\x3d"zm-list-content-medium"\x3e\x3ch2 class\x3d"zm-list-content-title"\x3e\u533f\u540d\u7528\u6237\x3c/h2\x3e\x3c/div\x3e\x3c% } %\x3e';
z.e.xo=function(){this.gB=new $G(this.la,this.Ib);this.gB.init();var a=z.L("js-sidebar-author-info");a&&(new xE(a)).init()};z.e.Iz=function(a){a=a.target;if(a instanceof GH)switch(a.pv){case "collap":z.S.add(a.m(),"zm-item-collapsed");break;case "cancel_collap":z.S.remove(a.m(),"zm-item-collapsed");break;case "set_delete":case "cancel_delete":dI(this),window.location.reload()}};z.w(eI,z.Q);z.e=eI.prototype;z.e.init=function(){var a=z.M("js-topic-feed-page");this.w(a)};
z.e.D=function(){eI.o.D.call(this);var a=this;this.hC=(0,window.$)(".js-topic-feed-container",this.h);this.hC.find(".js-topic-item").each(function(){var b=new hI;a.L(b);b.w(this);a.v().g(b,"unfollow",function(){iI(a)})});this.Nt=new mI;this.Nt.w((0,window.$)(".js-pinned-topics",this.element)[0]);(this.ec=z.L("js-load-more"))&&this.v().g(this.ec,"click",this.Sz);this.v().g(this.Nt,"change",function(a){(0,window.$)("#tf-"+a.AJ).find(".js-pin").replaceWith('\x3ca href\x3d"javascript:;" data-action\x3d"pin-topic" class\x3d"js-pin zg-gray pin topic-hover-content"\x3e\x3ci class\x3d"z-icon-pin"\x3e\x3c/i\x3e\u8bbe\u4e3a\u5e38\u53bb\u8bdd\u9898\x3c/a\x3e')});
this.bv=(0,window.$)(".follow-topics-count");jI(this);this.yo()};z.e.Sz=function(){fI(this.ec,!0);this.xhr=new z.U(!0);this.v().va(this.xhr,"complete",(0,z.r)(this.bh,this));var a=new z.ln;a.add("page",++this.page);this.xhr.ajax(window.location.pathname,a.od())};z.e.bh=function(){var a=z.ae(this.xhr);a&&!a.r&&(0<a.msg.length?(gI(this,a.msg),fI(this.ec,!1)):(0,window.$)(this.ec).hide())};
z.e.yo=function(){var a=(0,window.$)(this.m());window.$.each({".zu-main-sidebar .topics-plaza a":["visit_topic_square","topic_feed_sidebar"],".hidden-topics-plaza a":["visit_topic_square","topic_feed_recommend"],".js-pager.topics-pager":["click_change_recommend_topic","topic_feed_recommend"],".js-nomore-recommend":["click_nomore_recommend_topic","topic_feed_recommend"],".js-list .zg-btn-follow":["click_follow_recommend_topic","topic_feed_recommend"],".js-list .zg-btn-unfollow":["click_unfollow_recommend_topic",
"topic_feed_recommend"],'.topic-recommend .topic-feed-item a[href^\x3d"/question/"]':["visit_question","topic_feed_recommend"]},function(b,c){a.on("click",b,function(){z.W.apply(null,["topic"].concat(c))})})};z.w(hI,z.Q);hI.prototype.D=function(){hI.o.D.call(this);this.v().g(this.h,"click",(0,z.r)(this.Gz,this))};
hI.prototype.Gz=function(a){var b=a.target;a=(0,window.$)(b).attr("data-action");var c=(0,window.$)(this.h).find(".topic-avatar img"),d=c.clone(),f,g=(0,window.$)(this.h).data("id");if("pin-topic"===a)f=this.getParent().Nt,pI(f,g).done(function(a){if(!a.r&&a.msg){(0,window.$)(".zu-main-sidebar .side-title").show();z.cn(b);(0,window.$)(b).replaceWith('\x3ca href\x3d"javascript:;" data-action\x3d"unpin-topic" class\x3d"js-pin zg-gray unpin topic-hover-content"\x3e\x3ci class\x3d"z-icon-unpin"\x3e\x3c/i\x3e\u53d6\u6d88\u5e38\u53bb\u8bdd\u9898\x3c/a\x3e');
a=c.offset();var g=(0,window.$)(f.h).offset();1E3<a.top-g.top?(g=(0,window.$)(".top-nav-topic-selector.current a").offset(),g={top:g.top+20,left:g.left+15,width:"25px",height:"25px",opacity:.1},d.css({position:"absolute","z-index":"999"}).css("top",a.top).css("left",a.left).appendTo("body").animate(g,300,function(){d.remove()})):d.css({position:"absolute","z-index":"999"}).appendTo("body").css("top",a.top).css("left",a.left).animate({top:g.top-63+(0,window.$)(f.h).height(),left:g.left,width:"-\x3d50px",
height:"-\x3d50px",opacity:.5},300,function(){d.remove()});(0,window.$)(".no-pin-topics").hide()}});else if("unpin-topic"===a)qI(this.getParent().Nt,g,function(){var a=(0,window.$)(b).replaceWith('\x3ca href\x3d"javascript:;" data-action\x3d"pin-topic" class\x3d"zg-gray pin topic-hover-content" style\x3d""\x3e\x3ci class\x3d"z-icon-pin"\x3e\x3c/i\x3e\u8bbe\u4e3a\u5e38\u53bb\u8bdd\u9898\x3c/a\x3e')[0];z.cn(a)});else if("unfollow"===a){var h=this,l=(0,window.$)(h.h);(a=(0,window.$)(".topic-recommend .zg-btn-unfollow[data-id\x3d"+
b.id.match(/-(.*)/)[1]+"]").get(0))?(0,z.gu)(a,"topic",null,["zg-btn-follow","zg-btn-unfollow"]):(0,z.gu)(b,"topic",null,["follow","unfollow"]);l.fadeOut(function(){l.remove();h.dispatchEvent("unfollow")})}};z.w(mI,z.Q);mI.prototype.zT=(0,z.Lp)('\x3cdiv class\x3d"side-topic-item js-pin-item  cursor-move" data-topicid\x3d"\x3c%\x3dtopic.id%\x3e" \x3e\x3ca href\x3d"/topic/\x3c%\x3dtopic.url_token%\x3e" class\x3d"pin-topic-avatar-link"\x3e\x3cimg src\x3d"\x3c%\x3dtopic.avatar_path%\x3e" alt\x3d"" title\x3d"\u62d6\u52a8\u4ee5\u6392\u5e8f" class\x3d"side-topic-avatar js-topic-avatar"\x3e\x3c/a\x3e\x3cdiv class\x3d"side-topic-content ellipsis"\x3e\x3ca href\x3d"/topic/\x3c%\x3dtopic.url_token%\x3e" class\x3d"topic-link side-topic-title"\x3e\x3c%\x3dtopic.name%\x3e\x3c/a\x3e\x3cdiv class\x3d"side-topic-meta"\x3e\x3c% if (topic.children_num \x3e 0) { %\x3e\x3cspan class\x3d"zg-gray"\x3e\x3c%\x3dtopic.children_num%\x3e \u4e2a\u5b50\u8bdd\u9898\x3c/span\x3e\x3cspan class\x3d"bull"\x3e\x26bull;\x3c/span\x3e\x3c% } %\x3e\x3cspan class\x3d"zg-gray"\x3e\x3c%\x3dtopic.followers_num%\x3e \u4eba\u5173\u6ce8\x3c/span\x3e\x3c/div\x3e\x3c% if (topic.feed_num \x3e 0) { %\x3e\x3ca class\x3d"side-topic-more" href\x3d"/topic/\x3c%\x3dtopic.url_token%\x3e"\x3e\x3c%\x3dtopic.feed_num %\x3e \u6761\u52a8\u6001\x26nbsp;\x26raquo;\x3c/a\x3e\x3c% }else{ %\x3e\x3ca class\x3d"side-topic-more" href\x3d"/topic/\x3c%\x3dtopic.url_token%\x3e"\x3e\u8fdb\u5165\u8bdd\u9898 \x26raquo;\x3c/a\x3e\x3c% } %\x3e\x3c/div\x3e\x3ca href\x3d"javascript:;" data-action\x3d"up" class\x3d"up" data-tip\x3d"s$b$\u7f6e\u9876"\x3e\x3c/a\x3e\x3ca href\x3d"javascript:;" data-action\x3d"remove" class\x3d"delete"\x3e\x3c/a\x3e\x3c/div\x3e');
mI.prototype.D=function(){mI.o.D.call(this);this.v().g(this.h,"click",(0,z.r)(this.Gz,this));nI(this)};
mI.prototype.Gz=function(a){var b=this,c=a.target,d=(0,window.$)(c).attr("data-action");if(d){var f=(0,window.$)(c).parents(".js-pin-item");if("up"===d){a=f.position();var g=f.clone();f.before(g).css({position:"absolute","z-index":"999"}).css("top",a.top).animate({top:(0,window.$)(b.h).position().top},200,function(){g.remove();f.css({position:"relative",top:0}).prependTo(b.h);b.zu()});g.css("opacity",0)}else"remove"===d&&f.fadeOut(function(){f.remove();b.zu();b.dispatchEvent({type:"change",AJ:f.attr("data-topicid")});
0===(0,window.$)(".js-pin-item").length&&(0,window.$)(".no-pin-topics").show()})}else a.stopPropagation()};mI.prototype.zu=function(){var a=[];(0,window.$)(this.h).find("div.js-pin-item").each(function(){a.push((0,window.$)(this).attr("data-topicid"))});return window.$.post("/pin-topic",{topic_ids:a.join(",")},function(){})};z.w(rI,z.Q);z.e=rI.prototype;z.e.init=function(){z.Yr.L(this);this.w(window.document.body)};
z.e.D=function(){rI.o.D.call(this);this.av=(0,window.$)("ul.zm-topic-cat-main").children();var a=this.Cd=(0,window.$)("div.zh-general-list"),b=new z.dz({use:["autoload","nodeSource"]});this.L(b);b.w(a.get(0));this.v().g(b,"next",this.Jq);this.KG=b;a.on("click","a.follow",function(){(0,z.gu)(this,"topic",z.oa(z.cn,this),null,{follow_text:"\u5173\u6ce8"})});z.G(window,"hashchange",this.FH,!1,this);this.FH()||(a.show(),this.Jq())};
z.e.Jq=function(){var a=this.Cd.show().children();if(!a.length)return this.Cd.html('\x3cp class\x3d"zg-gray-normal" style\x3d"text-align:center;line-height:4;"\x3e\u6ca1\u6709\u5b50\u8bdd\u9898\u3002\x3c/p\x3e');a.removeClass("no-border "+this.EE);a.filter(":odd").addClass(this.EE);a=a.last();a.index()%2?a.add(a.prev()).addClass("no-border"):a.addClass("no-border");a=this.es();a=tI(this,a.params&&a.params.topic_id);a.length&&a.addClass(this.Fn).siblings().removeClass(this.Fn)};z.e.es=function(){return this.Cd.data("init")};
z.e.FH=function(){var a;a:{if(a=(0,window.decodeURIComponent)(window.location.hash.slice(1))){var b=sI(this,a);if(b.length&&this.av.filter("."+this.Fn).text()!==a){b.addClass(this.Fn).siblings().removeClass(this.Fn);a={params:{topic_id:b.data("id")}};b=this.es();window.$.extend(!0,b,a);this.Cd.attr("data-init",JSON.stringify(b));this.Cd.empty();this.KG.Yi();this.KG.Xl();a=!0;break a}}a=void 0}return a};z.w(uI,z.Q);
var zI={Ue:"/settings/account/",CT:function(){return window.$.get(zI.Ue+"request_unlock")},DT:function(){return window.$.Deferred().resolve((0,window.$)("#tmpl-unlock-form").html())},kV:function(a){return window.$.post(zI.Ue+"unlock_with_digits",a)},lV:function(a){return window.$.post(zI.Ue+"unlock_with_password",a)},dU:function(a){return window.$.post(zI.Ue+"send_unlock_digits",{type:a})},zV:function(a){return window.$.post(zI.Ue+"validate_email",a)},AV:function(a){return window.$.post(zI.Ue+"validate_phone",
a)},$T:function(a){return window.$.post(zI.Ue+"send_new_email_digits",{email:a})},aU:function(a){return window.$.post(zI.Ue+"send_new_phone_digits",{phone_no:a})},rV:function(a){return window.$.post(zI.Ue+"update_password",a)},qV:function(a){return window.$.post(zI.Ue+"update_email",a)},sV:function(a){return window.$.post(zI.Ue+"update_phone",a)},gV:function(a){return window.$.Deferred(function(b){window.$.post("/oauth/unbind/"+a,function(a){a.r?b.reject(a.msg):b.resolve()})}).promise()}};
uI.prototype.D=function(){uI.o.D.call(this);BI(this);var a=(0,window.$)(".phone-form",this.h);a.length&&AI(a,{QD:60,PA:"\u9a8c\u8bc1\u7801\u5df2\u53d1\u9001\u81f3\u4f60\u7684\u624b\u673a",OA:zI.aU,submit:zI.sV,Ft:z.oa(vI,"\u624b\u673a\u7ed1\u5b9a\u6210\u529f")});a=(0,window.$)(".password-form",this.h);a.length&&AI(a,{submit:zI.rV,Ft:z.oa(vI,"\u5bc6\u7801\u8bbe\u7f6e\u6210\u529f")});CI(this);if(a=z.bj.get("SettingsAccountPage:pageAlert"))z.Ur(a),z.bj.remove("SettingsAccountPage:pageAlert")};
z.sa("ZH.entrySettingsAccount",function(){var a=new uI;a.w((0,window.$)(".settings-acount-main")[0]);return a});z.w(DI,z.Q);DI.prototype.init=function(){EI();FI()};window.$.validator.addMethod("unique",function(a,b,c){function d(){var d=window.$.validator.format('[data-rule-unique\x3d"{1}"][name!\x3d"{0}"]',b.name,c);return!(0,window.$)(d).filter(function(){return(0,window.$)(this).val()===a}).length}return this.optional(b)||d()},"\u4e0d\u80fd\u586b\u5199\u91cd\u590d\u7684\u503c");z.w(GI,z.Q);GI.prototype.init=function(){z.Yr.L(this);this.w(window.document.body)};GI.prototype.D=function(){GI.o.D.call(this);HI(this,"zh-global-logs-wrap");HI(this,"zh-global-logs-questions-wrap");HI(this,"zh-question-log-list-wrap")};z.w(II,z.Q);II.prototype.init=function(){z.Yr.L(this);this.w(window.document.body)};II.prototype.D=function(){II.o.D.call(this);this.vo("zh-question-followers-list-wrap")};II.prototype.vo=function(a){if(a=z.L(a)){var b=new z.dz;this.L(b);b.use("locationSource");b.w(a)}};z.w(KI,z.dz);KI.prototype.dr=function(){return z.Je('\x3cbutton class\x3d"feeds-loading"\x3e\x3cspan\x3e\u66f4\u591a\x3c/span\x3e\x3c/button\x3e')};KI.prototype.dB=function(a){this.Ud&&(z.hf(this.Ud.firstChild,a?"\u52aa\u529b\u52a0\u8f7d\u4e2d...":"\u66f4\u591a"),z.S.enable(this.Ud,"loading",a))};z.w(LI,z.Q);LI.prototype.Jk=function(){z.iy.call(this,"answer");this.nl="entry-expaneded";this.st="item-footer";this.oq="votebar";this.Fr="sprite-global-icon-fold-round-default";this.wu="sprite-global-icon-fold-round-white"};z.w(LI.prototype.Jk,z.iy);z.e=LI.prototype.Jk.prototype;
z.e.kn=function(){LI.prototype.Jk.o.kn.call(this,{".js-thank":this.us});this.Gy();var a=(0,window.$)(".phone-actions",this.m());if(a.length){var b=new z.Mw;b.w((0,window.$)(".menu",a)[0]);b=new z.Uw("operation",b);b.zi=!0;z.Ww(b);z.Vw(b);b.$b=z.fs;b.w((0,window.$)(".menubutton",a)[0])}MI(this);this.Ij();b=(0,window.$)(".js-copyright-enable",this.h);a=(0,window.$)(".entry-content",this.h);if(b.length)b=b.data("author-avatar"),z.tz(a,b);else{var b=a.data("entryUrl"),c=a.data("authorName");z.vz(a,b,
c)}this.Hj()};z.e.Hj=function(){var a=(0,window.$)(".js-share",this.m()).get(0),b=(0,window.$)(this.m()).closest(".item").find(".question-link, .item-title .link").get(0);a&&b&&z.Zx(a,"answer",this.Hg,b.href+"/answer/"+this.Hg)};
z.e.Ij=function(){var a=(0,z.r)(function(){if(!this.Dh){var a=z.M("entry-content",this.h),c=this.rb&&this.rb.m();!z.zi&&c&&(0,window.$)(c).is(":visible")&&a&&230<(0,window.$)(a).height()&&(a=this.Dh=new z.ep(null,a),this.L(a),a.tag="votebar",a.w(c))}},this);this.v().g(this,["expand","collapse"],function(b){(b="expand"===b.type)&&a();this.Dh&&z.$o(this.Dh,b)})};
z.e.Gy=function(){var a,b,c=(0,window.$)("."+this.oq,this.m())[0];c&&(a=this.rb=new z.Ry(this.Lb,this.entryType),this.L(a),z.dc(this,a),a.w(c),(c=(0,window.$)(".js-mobi-vote",this.m())[0])&&(new z.Sz(a)).w(c));if(c=(0,window.$)(".zm-item-vote-info",this.m())[0])b=new z.ez(this.Lb,this.entryType),this.L(b),z.dc(this,b),b.w(c);a&&b&&this.v().g(a,"change",function(){z.hz(b)}).g(b,"change",function(){(0,window.$)("[data-bind-votecount]",this.m()).text(b.Qa())})};
z.e.us=WB(function(a){(a=a.target)&&!z.S.has(a,"thanked")&&(!0===window.$.parseJSON(a.getAttribute("data-thanked"))?(z.Vm(a,"\u611f\u8c22"),a.setAttribute("data-thanked",!1),window.$.post("/answer/cancel_thanks",{aid:this.Lb})):(z.Vm(a,"\u53d6\u6d88\u611f\u8c22"),a.setAttribute("data-thanked",!0),window.$.post("/answer/thanks",{aid:this.Lb})))},{Ga:"question_answer_thank"});z.e.vj=WB(function(){var a=z.Fy.U();z.Iy(a,this.Lb);a.show()},{Ga:"question_answer_collect",kd:!0});
z.e.re=function(){LI.prototype.Jk.o.re.call(this);z.Um(this.Qd.register("v",function(){this.rb&&this.rb.Hu()},this),{group:"\u64cd\u4f5c",name:"\u8d5e\u540c"});z.Um(this.Qd.register("d",function(){this.rb&&this.rb.Gu()},this),{group:"\u64cd\u4f5c",name:"\u53cd\u5bf9"});z.Um(z.Um(z.Um(z.Um(this.Qd.register("o",this.kg,this),{group:"\u64cd\u4f5c",name:"\u663e\u793a\u5168\u90e8/\u6536\u8d77"}).register("c",this.aq,this),{group:"\u64cd\u4f5c",name:"\u6253\u5f00\u8bc4\u8bba"}).register("s c",this.vj,this),
{group:"\u64cd\u4f5c",name:"\u6536\u85cf"}).register("shift+c",this.$x,this),{group:"\u64cd\u4f5c",name:"\u5b9a\u4f4d\u5230\u8bc4\u8bba\u6846"})};LI.prototype.DC=function(){z.iy.call(this,"question");this.st="item-footer"};z.w(LI.prototype.DC,z.iy);LI.prototype.init=function(){z.Yr.L(this);this.w(window.document.body);this.zo();this.Os();NI();var a=(0,window.$)(".rt-comment-box")[0];if(a){var b=new z.xx(this.zp.id,"roundtable");this.L(b);b.w(a)}};
LI.prototype.zo=function(){this.v().g(this,"click!",function(a){"comment"===a.namespace&&a.Pc.fill("label","roundtable").fill("category",this.eh)})};LI.prototype.Os=function(){function a(a){a=a.getAttribute("data-type");return(a={answer:LI.prototype.Jk,question:LI.prototype.DC}[a])?new a:new z.Q}var b=this;(0,window.$)("[data-paging]").each(function(){var c=new KI;c.use("childConstructor",{factory:a});null!==this.getAttribute("data-navigable")&&c.use("shortcut",{items:"\x3e.item"});b.L(c);c.w(this)})};z.w(OI,z.Q);OI.prototype.init=function(){z.Yr.L(this);this.w(window.document.body);this.Os();QI(this);RI(this);PI();JI("[data-highlight]",this.KA)};
OI.prototype.Os=function(){function a(a){var b=new z.Q;(0,window.$)("li.answer-item",a).each(function(){var a=new LI.prototype.Jk;a.st="actions";a.oq="zm-votebar";a.Fr="z-icon-fold";a.wu="sprite-global-icon-fold-white";b.L(a);a.w(this)});return b}var b=this;(0,window.$)("[data-paging]").each(function(){var c=new z.dz({use:["dataPagingSource"]});c.use("childConstructor",{factory:a});var d=(0,window.$)(this).data("navigable");d&&c.use("shortcut",d);b.L(c);c.w(this);z.$y(c,function(a){JI((0,window.$)("[data-highlight]",
a),b.KA)})})};z.w(SI,z.H);
z.pa(SI.prototype,{defaults:{source:"/topic/autocomplete",xb:null,JM:"",fw:!1,uV:"/topic/%s",template:'\x3cli data-id\x3d"\x3c%\x3did%\x3e"\x3e\x3ca class\x3d"tag-link" href\x3d"\x3c%\x3durl%\x3e"\x3e\x3c%\x3dname%\x3e\x3c/a\x3e\x3c/li\x3e',parse:function(a){var b=(0,window.$)(a);return{au:!0,id:b.data("id"),url:a.href,name:b.text()}},qU:z.fs,$M:"canedit",Rw:"empty",rn:"button",pT:"remove-button"},MU:function(a){return z.bz(this.J.uV,a.url_token)},has:function(a){return!!z.y.find(this.xh,function(b){return b.name===
a.name||b.id===a.id})},jN:function(a){return z.y.find(this.xh,function(b){return b.name===a})},iX:function(a){return z.y.find(this.xh,function(b){return b.id===a})},Lc:function(){var a=!!z.Te(this.xb).length;z.S.enable(this.xb,this.J.Rw,!a);this.dispatchEvent("change")},add:function(a,b){a&&(this.has(a)||this.xh.push(a),a.au=!1,b||this.J.qU.call(this,a))&&(this.xT(a),a.au=!0,this.dispatchEvent("add"),this.Lc())},remove:function(a){this.xh=z.y.filter(this.xh,function(b){return a!==b.id},this);this.dispatchEvent("remove");
this.Lc()},DN:function(){return z.y.filter(this.xh,function(a){return!1!==a.au})},CN:function(){return z.y.map(this.DN(),function(a){return a.id})},xT:function(a){a=z.Je(this.AI(a));this.xb.appendChild(a);this.Le(a)},AI:function(a){return(0,z.Lp)(this.J.template,a)},fa:function(){this.xb.innerHTML=z.y.map(this.xh,this.AI,this).join("")},LS:function(){return z.y.map(this.hF(),this.J.parse)},hF:function(){return z.Te(this.xb)},vg:function(){var a=this,b=a.J;this.aa=TI(this.input,{source:b.source,kh:function(a){return z.wf(a,
function(a){return"static"!==window.$.css(a,"position")})}(a.input),placeholder:this.input.getAttribute("placeholder"),select:function(c){a.add({id:c.id,name:c.id?c.label:a.input.value,url:a.MU(c),avatar:c.avatar,url_token:c.url_token});return b.JM},filter:function(c){return z.y.filter(c,function(c){return b.fw&&!c.id?!1:!z.y.find(a.xh,function(a){return a.au&&a.id===c.id})})}});z.y.forEach(this.hF(),this.Le,this);z.G(this.input,"keypress",function(c){var d;13!==c.keyCode||b.fw||!(d=(0,z.Ya)(this.value))||
a.aa.ub()||a.add(a.jN(d)||{id:null,name:d,url:"/topic/"+d})});this.Lc()},removeTag:function(a){this.remove((0,window.$)(a).remove().data("id"))},NS:function(a,b){var c=z.y.find(this.bw,function(b){return b.action===a});c&&c.method&&c.method.call(this,b);this.input.focus()},Le:function(a){var b=this.J;z.S.add(a,b.$M);z.y.forEach(this.bw,function(c){var d=new z.Oj(" ",z.Xj.U());d.Kh([b.rn,c.xw].join(" "));d.fa(a);d.Ya(!0);d.qc(c.V);d.addEventListener("action",function(){this.NS(c.action,a)},!1,this)},
this)}});UI.prototype.init=function(){VI(this);XI(this)};z.w(ZI,z.Q);ZI.prototype.PF=function(){var a=window.location.hash.slice(1);a&&(a=(0,window.$)('[data-section\x3d"'+a+'"]'),a.length&&z.cn(a[0]))};ZI.prototype.init=function(){(0,window.$)("a.js-obfuscate-email").each(function(){var a=(0,window.$)(this),b=a.data("email").split("").reverse().join("");a.attr("href","mailto:"+b).text(b)});this.PF();this.v().g(window,"hashchange",this.PF)};z.w($I,z.Q);$I.prototype.init=function(){z.Yr.L(this);this.w(window.document.body)};$I.prototype.D=function(){$I.o.D.call(this);var a=(0,window.$)("#zh-following-question-item-list").children(".zh-general-list");if(a.length){var b=new z.dz;this.L(b);b.use("nodeSource");b.w(a.get(0))}};z.w(aJ,z.Q);aJ.prototype.D=function(){this.v().g(this.h,"click",this.$o)};aJ.prototype.$o=function(a){var b=a.target;b&&"rmdraft"===b.name&&z.Bi("\u5220\u9664\u8349\u7a3f","\u4f60\u786e\u5b9a\u8981\u5220\u9664\u8fd9\u4e2a\u8349\u7a3f\u5417\uff1f",function(a){a&&(z.Gi("/draft/delete",null,"POST","qid\x3d"+b.id.split("-")[1]),z.O(this.h))},this)};z.w(bJ,z.Q);bJ.prototype.init=function(){var a=z.L("zh-draft-page-wrap");a&&this.w(a)};
bJ.prototype.D=function(){z.G(z.L("zh-clear-all-draft"),"click",function(){z.Bi("\u5220\u9664\u6240\u6709\u8349\u7a3f","\u4f60\u786e\u5b9a\u8981\u5220\u9664\u6240\u6709\u8349\u7a3f\u5417\uff1f\u5220\u9664\u540e\u5c06\u65e0\u6cd5\u6062\u590d",function(a){a&&z.Gi("/draft/clear",function(){window.location.href="/draft"},"POST")});return!1});this.vo()};bJ.prototype.vo=function(){var a=z.L("zh-draft-item-list");if(a){var b=new z.dz;b.use("locationSource",{Kt:!0}).use("childConstructor",{bl:aJ});b.w(a)}};z.w(cJ,z.Q);cJ.prototype.init=function(){z.Yr.L(this);this.w(window.document.body)};cJ.prototype.D=function(){cJ.o.D.call(this);dJ(this);this.Dy();eJ(this);this.v().g(this,"click!",function(a){"comment"===a.namespace&&a.Pc.fill("category",this.eh).fill("label",this.iN)})};cJ.prototype.Dy=function(){var a=1,b=(0,window.$)("ul.hot-favlists"),c=null;(0,window.$)("#js-hot-fav-switch").click(function(){c&&"pending"===c.state()||(a=5<=a?1:a+1,c=UE(a).done(function(a){b.html(a)}))})};
cJ.prototype.Ey=function(a){if(!a.data("inited")){a.data("inited",!0);var b={daily:TE,monthly:VE}[a.data("type")],b=new fJ(b);b.use("expandLimit");this.L(b);b.w(a[0])}};z.w(fJ,z.dz);fJ.prototype.D=function(){fJ.o.D.call(this);this.use("childConstructor",{bl:z.vA})};z.w(hJ,z.Q);hJ.prototype.init=function(){z.Yr.L(this);this.w(window.document.body)};hJ.prototype.D=function(){hJ.o.D.call(this);this.vo()};hJ.prototype.vo=function(){var a=z.L("js-suggest-people");if(a){var b=new z.dz({source:iJ()});this.L(b);b.w(a)}};jJ.$inject=["$scope"];jJ.prototype.removeTag=function(a,b){a.splice((0,z.y.indexOf)(a,b),1)};jJ.prototype.moveupTag=function(a,b){var c=(0,z.y.indexOf)(a,b);0<c&&(a.splice(c,1),a.splice(c-1,0,b))};jJ.prototype.onActvityUrlChange=function(){var a=this.hu,b=a.activityUrl,c=a.roundtable.activityUrls;b&&-1===(0,z.y.indexOf)(c,b)&&(c.push(b),a.activityUrl="")};
jJ.prototype.submit=function(a,b){var c="create"===b,d={roundtable:JSON.stringify(a)};if(c&&3>a.activityUrls.length)return z.T("\u8bf7\u81f3\u5c11\u6dfb\u52a0\u4e09\u6761\u52a8\u6001");window.$.post(window.location.pathname+window.location.search,d).then(function(c){c.success?"create"===b?(z.T(c.message||"\u6d3b\u52a8\u521b\u5efa\u6210\u529f\uff0c\u8bf7\u7b49\u5f85\u5ba1\u6838"),(0,window.setTimeout)(function(){window.location.href="/roundtable"},3E3)):(z.T(c.message||"\u6d3b\u52a8\u4fee\u6539\u6210\u529f"),
(0,window.setTimeout)(function(){window.location.href="/roundtable/"+a.slug},3E3)):z.T(c.message||"\u63d0\u4ea4\u5931\u8d25")})};z.w(lJ,z.Xl);mJ.$inject=["$parse","$timeout"];oJ.$inject=["$interpolate"];qJ.$inject=["$interpolateProvider"];z.w(rJ,LI);rJ.prototype.init=function(){z.Yr.L(this);this.w(window.document.body);this.Ge();sJ(this);tJ(this);NI();this.Os()};
rJ.prototype.Ge=function(){var a=(0,window.$)(".add-pending-activities-form");if(a.length){var b=(0,window.$)(".url",a),c=(0,window.$)(".time",a);c.datetimepicker({autoclose:!0,forceParse:!1,format:"yyyy \u5e74 m \u6708 d \u65e5 hh:ii",startDate:new Date,language:"zh-CN"}).datetimepicker("update",new Date);var d=this.zp;a.submit(function(a){function g(a){a.success?(z.T("\u6dfb\u52a0\u6210\u529f"),(0,window.setTimeout)(function(){window.location.reload()},3E3)):z.T(a.message||"\u63d0\u4ea4\u5931\u8d25")}
a.preventDefault();if(!b.val())return z.T("\u56de\u7b54\u6216\u95ee\u9898\u5730\u5740\u5fc5\u987b\u586b\u5199");if(!c.val())return z.T("\u53d1\u5e03\u65f6\u95f4\u5fc5\u987b\u586b\u5199");a=(a=b.val().match(/\/question\/\d+\/answer\/(\d+)/))&&a[1];var h=b.val().match(/\/question\/(\d+)/),h=h&&h[1];a?window.$.post("/roundtable/"+d.slug,{action:"add_pending_activity",publish_time:c.val(),type:"answer",url_token:a},g):h?window.$.post("/roundtable/"+d.slug,{action:"add_pending_activity",publish_time:c.val(),
type:"question",url_token:h},g):z.T("\u56de\u7b54\u6216\u95ee\u9898\u5730\u5740\u4e0d\u6b63\u786e")})}};z.w(uJ,z.Q);uJ.prototype.init=function(){var a=window.location.hash.slice(1);a&&(z.cn((0,window.$)("."+a).get(0)),(0,window.$)(".zh-friendliness-sidenav").find('[data-section\x3d"'+a+'"]').addClass("active"));(0,window.$)(".zh-friendliness-sidenav a").click(function(b){a=(0,window.$)(b.target).data("section");z.cn((0,window.$)("."+a).get(0));(0,window.$)(".zh-friendliness-sidenav a").removeClass("active");(0,window.$)(b.target).addClass("active")})};z.w(vJ,z.Q);
vJ.prototype.init=function(){this.K=(0,window.$)(".friendly-quiz-container");this.$B=(0,window.$)(".view",this.K);(0,window.$)(".welcome-view",this.K);this.pL=(0,window.$)(".answering-view",this.K);this.Sp=(0,window.$)(".success-view",this.K);this.ol=(0,window.$)(".failed-view",this.K);this.Pp=(0,window.parseFloat)(this.K.data("star"));this.sA=3;this.uK=(0,window.$)(".item",this.K);this.VE=5;(0,window.$)(".start-btn",this.K).click(window.$.proxy(this.kJ,this));(0,window.$)(".continue-btn",this.K).click(window.$.proxy(this.kJ,
this));(0,window.$)(".choose-btn",this.K).click(window.$.proxy(this.XL,this))};vJ.prototype.kJ=function(){this.$B.hide();this.pL.show();this.zr=0;this.pC=(0,window.$)(this.uK.splice(0,this.sA));this.zD=[];wJ(this)};
vJ.prototype.XL=function(a){a=(0,window.$)(a.target).data("isfriendly");var b=this.cv.data("id");this.zD.push({id:b,isFriendly:a});this.zr<this.sA?wJ(this):window.$.post("/community/friendly/quiz",{params:JSON.stringify(this.zD)},window.$.proxy(function(a){a.r||(a=a.msg,a.contain_errors?a.can_answer?yJ(this,a.wrong_question_ids,!0):yJ(this,a.wrong_question_ids,!1):(this.Pp+=.5,a.can_answer&&this.Pp!==this.VE?xJ(this,!0):xJ(this,!1)))},this))};z.w(zJ,z.Q);
zJ.prototype.init=function(){this.w(window.document.body);var a=(0,window.$)(".js-nav"),b=(0,window.$)(".js-view");a.click(function(c){c=(0,window.$)(c.target);a.removeClass("is-active");c.addClass("is-active");b.removeClass("is-visible").eq(c.index()).addClass("is-visible")});var c=new z.vi;(0,window.$)(c.Y()).addClass("publication-dialog");var d=(0,window.$)("#dialog-template").html();c.ha(d);(0,window.$)(".js-buy, .js-download").click(function(a){a=(0,window.$)(a.target).hasClass("js-buy");c.kb(a?
"\u8d2d\u4e70\u65b9\u5f0f":"\u4e0b\u8f7d\u65b9\u5f0f");c.G(!0);z.yi(c,"290px");z.dj({category:"publications",action:a?"click_buy":"click_download",label:"publications_card"})})};z.sa("ZH.entryCommunity",function(){(new DI).init()});z.sa("ZH.entryQuestionLog",function(){(new GI).init()});z.sa("ZH.entryQuestionFollowersPage",function(){(new II).init()});z.sa("ZH.entrySQ",function(){(new HH).init()});z.sa("ZH.entrySA",function(){(new $H).init()});z.sa("ZH.entryL",function(){(new XE).init()});z.sa("ZH.entryT",function(){(new CE).init()});z.sa("ZH.entryTS",function(){(new rI).init()});z.sa("ZH.entryP",function(){(new OD).init()});z.sa("ZH.entrySearch",function(){(new OI).init()});
z.sa("ZH.entryPM",function(){(new oC).init()});z.sa("ZH.entryPMDetail",function(){(new qC).init()});z.sa("ZH.entrySettings",function(){(new oE).init()});z.sa("ZH.entryTopicFeed",function(){(new eI).init()});z.sa("ZH.entryRQ3",function(){(new UI).init()});z.sa("ZH.entryTerms",function(){(new ZI).init()});z.sa("ZH.entryHome",function(){(new KF).init()});z.sa("ZH.entryQuestionFollowing",function(){(new $I).init()});z.sa("ZH.entryDraft",function(){(new bJ).init()});z.sa("ZH.entryExplore",function(){(new cJ).init()});
z.sa("ZH.entryLookup",function(){(new hJ).init()});z.sa("ZH.entryRb",function(){(new LI).init()});z.sa("ZH.entryRbEdit",function(){var a=window.angular.module("roundtableApp",[]);a.controller("RoundtableFormCtrl",jJ);a.directive("uiAvatarEditor",nJ);a.directive("uiSuggest",oJ);a.directive("uiTimepicker",mJ);a.filter("avatarUrl",pJ);a.config(qJ);window.angular.bootstrap(window.document.body,["roundtableApp"])});z.sa("ZH.entryRbPending",function(){(new rJ).init()});z.sa("ZH.entryFriendlinessPage",function(){(new uJ).init()});
z.sa("ZH.entryFriendlyQuiz",function(){(new vJ).init()});z.sa("ZH.entryPublicationPage",function(){(new zJ).init()});z.og("app");}).call(this, __z_z__);
//@ sourceURL=module_app.js