(function(z){
var ru=function(a){return 1==a.nodeType&&!z.Le(a)},gz;z.su=function(a,b){this.node=a;this.offset=b};z.tu=function(a){return a.length||a.childNodes.length};z.uu=function(a,b){return a.Sc&&b?z.y.indexOf(a.Sc,b):-1};z.vu=function(a,b,c,d){for(;1==a.nodeType;){var f=a.childNodes[b];if(f||a.lastChild)if(f){var g=f.previousSibling;if(c&&g){if(d&&ru(g))break;a=g;b=z.tu(a)}else{if(d&&ru(f))break;a=f;b=0}}else{if(d&&ru(a.lastChild))break;a=a.lastChild;b=z.tu(a)}else break}return new z.su(a,b)};
var wu=function(a,b,c){c=0>c?z.uu(a,a.oc):c;var d=z.Uh(a);c=b.call(a,c,d);for(var f=0;f<=d;){var g=z.Vh(a,c);if(g&&a.qD(g)){a.TA(c);break}f++;c=b.call(a,c,d)}};z.xu=function(a,b){var c=a.parentNode,d=z.y.indexOf(c.childNodes,a)+(b?0:1),c=z.vu(c,d,b,!0);z.Wo(c.node,c.offset).select()};var yu=function(a,b){var c=a.P.getClientRects();return c.length?(c=b?c[0]:z.y.vd(c),new z.oe(b?c.left:c.right,b?c.top:c.bottom)):null};var zu=function(a,b){null!=a&&this.append.apply(this,arguments)};
var Au=function(a){wu(a,function(a,c){a--;return 0>a?c-1:a},a.Ta)};var Bu=function(a){wu(a,function(a,c){return(a+1)%c},a.Ta)};var Cu=function(a){wu(a,function(a,c){a--;return 0>a?c-1:a},0)};z.Du=function(a){wu(a,function(a,c){return(a+1)%c},z.Uh(a)-1)};z.Eu=function(a){return z.Vh(a,a.Ta)};var Fu=function(a,b){var c=b.m(),c=c.id||(c.id=b.de());a.yg||(a.yg={});a.yg[c]=b};
var Gu=function(a,b){var c=a.v(),d=a.bc();b?c.g(d,"focus",a.Id).g(d,"blur",a.Yc).g(a.ds(),"key",a.dc):c.pa(d,"focus",a.Id).pa(d,"blur",a.Yc).pa(a.ds(),"key",a.dc)};var Hu=function(a,b){a&&(a.tabIndex=b?0:-1)};z.Iu=function(a,b){if(z.Lk(a))a.selectionStart=b,a.selectionEnd=b;else if(z.D){b=z.Nk(a,b);var c=a.createTextRange();c.collapse(!0);c.move("character",b);c.select()}};z.Ju=function(a){this.type="anon_change";this.tb=a};var Ku=function(a){return a.lj.length?a.lj.pop():a.Dn()};
z.Lu=function(a){if("outerHTML"in a)return a.outerHTML;var b=z.ue(a).createElement("DIV");b.appendChild(a.cloneNode(!0));return b.innerHTML};z.Y=function(a,b){return z.aa[a]=b};z.Mu=function(a,b){a.qo=b||null};z.Nu=function(a,b){a.qz=null==b||b instanceof z.Pg?b:new z.Pg(b,void 0,void 0,void 0);a.T()&&a.ca()};var Ou=function(a){a.ready(function(){var a=this.Na;this.Hd?z.Iu(a,a.value.length):a.Aa.lastChild?z.xu(a.Aa.lastChild):a.Uf();this.ll&&(this.ll.scrollTop=this.ll.scrollHeight)})};
var Pu=function(a){return a.Hd?a.Na:a.Na.m()};z.Qu=function(a,b){a.params=b};z.Ru=function(a,b,c){z.Q.call(this,c);this.N=b||z.xn.U();this.Hb=a||this.N.Cx()};var Su=function(a){a.Ub()&&a.fire()};z.Tu=function(a,b,c){var d=z.bt;d.ea.g(d,"update",function g(){a.getBoundingClientRect().bottom<this.size.height&&(b.call(c),this.ea.pa(this,"update",g))})};
var Uu=function(a,b,c){b.v().g(a,"update",function(a){var f;z.yc(b)?f=b.hasListener("nearbottom",void 0):(f=z.Ic(b),f=!!f&&f.hasListener("nearbottom",void 0));f&&c(a.target.size)&&b.dispatchEvent("nearbottom")})};
z.Vu=function(a,b,c){function d(){var b=new z.U(!0),d="/question/"+(a?"set_anonymous":"set_public"),g="qid\x3d"+(c||z.Es.la);b.on("success",function(){var c=z.ae(b);c&&!c.r&&(z.Es&&(z.Es.tb=a),f.dispatchEvent(new z.Ju(a)))});b.ajax(d,g)}var f=z.vj,g={title:"\u786e\u8ba4\u4f7f\u7528\u533f\u540d\u8eab\u4efd\uff1f",content:'\x3cp\x3e\u4f7f\u7528\u533f\u540d\u8eab\u4efd\u540e\x3c/p\x3e\x3cul style\x3d"margin: 5px 0 0 5px;list-style-position: inside;"\x3e\x3cli\x3e\u63d0\u95ee\u3001\u56de\u7b54\u3001\u8d5e\u540c\u3001\u5173\u6ce8\u4f1a\u663e\u793a\u4e3a\u533f\u540d\x3c/li\x3e\x3cli\x3e\u9664\u63d0\u95ee\u8005\u672c\u4eba\uff0c\u4e0d\u80fd\u533f\u540d\u7f16\u8f91\u95ee\u9898\x3c/li\x3e\x3cli\x3e\u4e0d\u80fd\u9080\u8bf7\u522b\u4eba\u56de\u7b54\u95ee\u9898\x3c/li\x3e\x3c/ul\x3e'},
h={title:"\u786e\u8ba4\u53d6\u6d88\u533f\u540d\u8eab\u4efd\uff1f",content:"\u53d6\u6d88\u533f\u540d\u8eab\u4efd\u540e\uff0c \u63d0\u95ee\u3001\u56de\u7b54\u3001\u8d5e\u540c\u548c\u5173\u6ce8\u5c06\u4ee5\u5b9e\u540d\u663e\u793a\u3002"};z.Bi(a?g:h,function(a){a&&d();b&&b(a)})};z.Wu=function(a){return!/[^\t\n\r ]/.test(a)};z.Xu=function(a,b,c){this.sH=a;this.IT=!!c;a&&!b&&this.next()};z.Yu=function(a){return 1==a.nodeType||3==a.nodeType&&!z.Wu(a.nodeValue)};z.Zu=function(a){try{return a.next()}catch(b){return null}};
var $u=function(a,b,c){z.ba(c)||(c=b&&a.childNodes.length?a.childNodes.length-1:0);z.Xu.call(this,a.childNodes[c],!0,b)};z.av=function(a,b){var c=window.$.extend({all:!1},z.av.defaults,b||{}),d=(0,window.$)(a).get(0).getBoundingClientRect();return!c.all&&(d.bottom<c.paddingTop||d.bottom>(0,window.$)(window).height())||c.all&&(d.top<c.paddingTop||d.bottom>(0,window.$)(window).height())?!1:!0};
z.bv=function(a,b,c){var d=z.gh(a);b instanceof z.oe&&(c=b.y,b=b.x);z.ah(a,a.offsetLeft+(b-d.x),a.offsetTop+(c-d.y))};z.cv=function(a){return z.ba(a.nextElementSibling)?a.nextElementSibling:z.Ye(a.nextSibling,!0)};z.dv=function(a){for(var b;b=a&&1==a.nodeType?z.Zu(z.J.filter(new $u(a,!1),z.Yu)):null;)a=b;return a};
z.ev=function(a,b){if(a){"number"===window.$.type(b)&&(b={offsetTop:b});var c=window.$.extend({YB:z.av},z.wt,b||{});if(!c.YB(a,c)){var d=(0,window.$)(a).offset().top-c.paddingTop-c.offsetTop||0;c.Hv?(0,window.$)(window.document.documentElement).add(window.document.body).animate({scrollTop:d}):(0,window.$)(window).scrollTop(d)}}};var fv=function(a){var b=a.body;a=a.documentElement;return new z.oe(b.scrollLeft||a.scrollLeft,b.scrollTop||a.scrollTop)};z.gv=function(a){z.Wo(z.dv(a),0).select()};
z.hv=function(a,b){z.D&&z.Ne(a);a.innerHTML=b};z.iv=function(a,b){var c=z.sf(a);if(a.getElementsByTagName)for(var d in z.Dt)if(a.tagName==d||0<a.getElementsByTagName(d).length)return!1;return!b&&"\u00a0"==c||z.Wu(c)};z.jv=function(a){if(a=z.Yn(a||window))if(a.empty)try{a.empty()}catch(b){}else try{a.removeAllRanges()}catch(b){}};
var kv=function(a,b){var c=a.getBoundingClientRect(),d=z.Ah(window.document.body).top;if(0<c.top-d)b&&b();else{var f=a.offsetHeight,g=fv(window.document).y,h=z.Be().height;b&&b();var l=a.offsetHeight;window.scrollTo(0,g+(c.bottom<h?l-f:c.top-d))}};
z.lv=function(a){function b(a){return window.$.isNumeric(a)?a+" ":a}var c;c=c||+new Date;if(0>=c-a)return"\u521a\u521a";a=Math.floor((c-a)/1E3);c=Math.floor(a/31536E3);if(1<=c)return b(c)+"\u5e74\u524d";c=Math.floor(a/2592E3);if(1<=c)return b(c)+"\u6708\u524d";c=Math.floor(a/604800);if(1<=c)return b(c)+"\u5468\u524d";c=Math.floor(a/86400);if(1<=c)return b(c)+"\u5929\u524d";c=Math.floor(a/3600);if(1<=c)return b(c)+"\u5c0f\u65f6\u524d";c=Math.floor(a/60);if(1<=c)return b(c)+"\u5206\u949f\u524d";c=Math.floor(a);
return b(c)+"\u79d2\u524d"};var mv=function(){var a=z.V;return 1===a||0===a?"\u533f\u540d\u7528\u6237":['\x3ca data-tip\x3d"p$t$',a[1],'" href\x3d"/people/',a[1],'" title\x3d"'+a[0]+'" class\x3d"','zm-item-link-avatar"\x3e','\x3cimg class\x3d"zm-item-img-avatar" src\x3d"'+a[2]+'" /\x3e',"\x3c/a\x3e"].join("")};z.nv=function(a,b){return z.ea(a)?['\x3ca data-tip\x3d"p$t$',a[1],'" href\x3d"/people/',a[1],'"',b?' class\x3d"'+b+'"':"",' title\x3d"',a[0],'"\x3e',a[0],"\x3c/a\x3e"].join(""):"\u533f\u540d\u7528\u6237"};
var ov=function(a){if(0===a||1===a)return"\u533f\u540d\u7528\u6237";var b=z.N("a",{href:"/people/"+a[1],title:a[0]},a[0]);b.setAttribute("data-tip","p$t$"+a[1]);return b};var pv=function(a){return z.N("a",{href:"/topic/"+a[1],title:a[0],"class":""},a[0])};var qv=function(a){if(0===a||1===a)return z.N("span");if(z.ea(a)){var b=z.N("a",{href:"/people/"+a[1],title:a[0],"class":"zm-item-link-avatar"},z.N("img",{src:a[2],"class":"zm-list-avatar"}));b.setAttribute("data-tip","p$t$"+a[1]);return b}};
var rv=function(){return window.$.Deferred(function(a){(0,window.setTimeout)(a.resolve,2E3)}).promise()};z.sv=function(a,b){return window.$.get("/"+a+"/"+b+"/sharetext")};var tv=function(a){return function(){var b=this||z.u,b=b.closure_memoize_cache_||(b.closure_memoize_cache_={}),c,d=z.ja(a);c=arguments;for(var d=[d],f=c.length-1;0<=f;--f)d.push(typeof c[f],c[f]);c=d.join("\x0B");return b.hasOwnProperty(c)?b[c]:b[c]=a.apply(this,arguments)}};
z.uv=function(a){var b=window.$.extend({},{title:"\u4fe1\u606f",iJ:"\u52a0\u8f7d\u4e2d",buttons:[],onload:z.m},a),c=z.N("div",{className:"modal-dialog-async-loading",innerHTML:(b.iJ||"\u52a0\u8f7d\u4e2d")+'\x3ci class\x3d"spinner-gray"\x3e\x3c/i\x3e'}),d=z.Bi(b);d.Y().appendChild(c);b.rw&&b.rw.then(function(a){z.O(c);d.Yd||(a&&d.ha(a),d.ca(),b.onload(d.Y(),d))});return d};z.vv=function(a,b){var c=a.style[z.bb(b)];return"undefined"!==typeof c?c:a.style[z.Ug(a,b)]||""};
z.wv=function(a,b,c){return Math.min(Math.max(a,b),c)};var xv=function(){var a=new z.Ib(z.m);z.Kb(a,z.Lb,void 0);return a};var yv=function(a){var b=!1,c;return function(){b||(c=a(),b=!0);return c}};var zv=function(a){var b;b=b||0;return function(){return a.apply(this,Array.prototype.slice.call(arguments,0,b))}};z.Av=function(a){return a.replace(/^[\s\xa0]+/,"")};var Bv=function(){throw Error("unimplemented abstract method");};
var Cv=function(a){var b=null;try{b=a.cssRules||a.rules}catch(c){if(15==c.code)throw c.styleSheet=a,c;}return b};
var Dv=function(a){var b=[];a=a||window.document.styleSheets;var c=z.ba(void 0)?void 0:!1;if(a.imports&&a.imports.length)for(var d=0,f=a.imports.length;d<f;d++)z.y.extend(b,Dv(a.imports[d]));else if(a.length)for(d=0,f=a.length;d<f;d++)z.y.extend(b,Dv(a[d]));else{var g=Cv(a);if(g&&g.length)for(var d=0,f=g.length,h;d<f;d++)h=g[d],h.styleSheet&&z.y.extend(b,Dv(h.styleSheet))}!(a.type||a.rules||a.cssRules)||a.disabled&&!c||b.push(a);return b};var Ev=function(){this.Mn="";this.ph=[]};
var Fv=function(a,b,c){var d=[],f;for(f in b){var g=b[f];g&&d.push(f,":",g,c?" !important":"",";")}a.Mn=d.join("")};var Gv=function(a){this.Fv={};if(a){var b=[];a=a.split(/\s+/gm);for(var c=0;c<a.length;c++)if(a[c]){var d=new Hv(a[c]);b.push(d)}this.yi=b}};
var Hv=function(a){var b=Iv[a];if(b)return b;for(var b=a.match(/[#\.]/)?a.split(/(?=[#\.])/):[a],c={},d=0;d<b.length;d++){var f=b[d];"."==f.charAt(0)?c.className=f.substring(1,f.length):"#"==f.charAt(0)?c.id=f.substring(1,f.length):c.tagName=f.toUpperCase()}this.fG=a;this.JQ=c;this.uJ={};Iv[a]=this};
var Jv=function(a,b){var c=b.uid,d=a.uJ[c];if("undefined"!=typeof d)return d;var f=a.JQ,d=f.tagName,g=f.className,f=f.id,h=!0;d&&"*"!=d&&d!=b.nodeName?h=!1:f&&f!=b.id?h=!1:g&&!b.ZL[g]&&(h=!1);return a.uJ[c]=h};var Kv=function(a){var b=z.ja(a),c=Lv[b];if(c)return c;c=[];do{var d={id:a.id,nodeName:a.nodeName};d.uid=z.ja(d);var f={};if(a.className)for(var g=z.Dg(a),h=0;h<g.length;h++)f[g[h]]=1;d.ZL=f;c.unshift(d)}while(a=a.parentNode);this.tH=c;this.uid=z.ja(this);Lv[b]=this};
var Mv=function(a,b,c,d,f){this.IE=a;this.kB=b;this.ar=c;this.LE=d;this.ix=f||{}};var Nv=function(a,b){this.JV=a;this.TD=b};
var Ov=function(a,b,c,d){var f=[];a.ar&&a.kB&&f.push("\x3c!DOCTYPE HTML\x3e");f.push('\x3chtml style\x3d"background:none transparent;min-width:0;');a.ar&&f.push("height:",a.LE?"100%":"auto");f.push('"\x3e');f.push("\x3chead\x3e\x3cstyle\x3e");c&&c.TD&&f.push(c.TD);z.B&&a.kB&&f.push(" img {-moz-force-broken-image-icon: 1;}");f.push("\x3c/style\x3e\x3c/head\x3e");f.push('\x3cbody g_editable\x3d"true" hidefocus\x3d"true" ');z.Ht&&f.push("contentEditable ");f.push('class\x3d"editable ');f.push('" id\x3d"',
a.IE,'" style\x3d"min-width:0;');z.B&&a.ar&&(f.push(";width:100%;border:0;margin:0;background:none transparent;",";height:",a.kB?"100%":"auto"),a.LE?f.push(";overflow:auto"):f.push(";overflow-y:hidden;overflow-x:auto"));z.Wg&&f.push(";outline:hidden");for(var g in a.ix)f.push(";"+g+":"+a.ix[g]);f.push('"\x3e',b,"\x3c/body\x3e\x3c/html\x3e");a=f.join("");d=d.contentDocument||d.contentWindow.document;d.open();d.write(a);d.close()};
var Pv=function(a,b){z.H.call(this);this.Pg=this.id=a;this.gb=null;this.Nd={};this.Ej={};for(var c in z.Qv)this.Ej[c]=[];this.al="";this.xk={};this.xk[Rv]=1;this.xk[z.Sv]=1;this.Gr=new z.ll(this.pE,Tv,this);this.Dr={};for(var d in Uv)this.Dr[Uv[d]]=0;z.B&&(this.we=new z.ll(this.ho,Vv,this));this.kc=new z.ad(this);this.KV=[];this.Uj=z.Wv;this.hm=z.se(b||window.document);this.Mc=this.hm.m(this.id);this.sN=z.Pt;this.Mk=this.hm.Wa()};
var Xv=function(a){var b=!(a.ctrlKey||a.metaKey)&&a.keyCode in Yv;return(a.ctrlKey||a.metaKey)&&a.keyCode in Zv||b};var $v=function(a,b){a.Uj=2;a.Aa=b;a.gb=z.se(b);b.setAttribute("g_editable","true");z.xg(b,"textbox")};
var aw=function(a,b){if(9==b.keyCode&&!a.dispatchEvent({type:"beforetab",shiftKey:b.shiftKey,altKey:b.altKey,ctrlKey:b.ctrlKey})||z.B&&b.metaKey&&!z.F(29)&&(37==b.keyCode||39==b.keyCode))return b.preventDefault(),!1;var c;(c=b.charCode)||(c=Xv(b)?!0:!(!z.B||b.ctrlKey||b.metaKey||z.B&&!b.charCode));a.Ox=c;a.Ox&&a.$h();return!0};var bw=function(a,b,c){var d={};a=a.Ut(8,b||"",d);z.Tg(c,d);z.hv(c,a)};
var cw=function(a,b){!dw(a,"selectionchange")&&(ew[b.keyCode]||(b.ctrlKey||b.metaKey)&&fw[b.keyCode])&&(a.dispatchEvent("beforeselectionchange"),a.VI.start())};var gw=function(a,b){if(!b.altKey){var c=z.xc?b.metaKey:b.ctrlKey;if(c||hw[b.keyCode]){var d=b.charCode||b.keyCode;17!=d&&(d=String.fromCharCode(d).toLowerCase(),z.xc&&z.B&&"`"==d&&" "==b.lc.key&&(d=" "),a.Do(5,b,d,c)&&b.preventDefault())}}};var iw=function(a){var b;return a.sc()&&(b=a.gb)?(a=b.Wa())&&a.frameElement:null};
z.jw=function(a){return(a=a.gb&&a.gb.Wa())&&z.So(a)};z.kw=function(a,b,c){if(!dw(a,"selectionchange")){var d=z.jw(a),d=d&&d.Nb();a.of=!!d&&z.bf(a.m(),d);a.dispatchEvent("cvc");a.dispatchEvent({type:"selectionchange",KX:b&&b.type});a.Do(4,b,c)}};z.lw=function(a,b,c){b&&(a.we&&Su(a.we),a.xk[Rv]=1);c&&(z.mw(a),a.xk[z.Sv]=1)};var nw=function(a,b,c){!b&&a.we&&Su(a.we);a.xk[Rv]=0;a.xk[z.Sv]=0;b&&a.ho();c&&a.pE()};var dw=function(a,b){return!!a.xk[b]||a.Dr[b]&&500>=(0,z.x)()-a.Dr[b]};
z.mw=function(a){a.we&&Su(a.we);Su(a.Gr)};var ow=function(a){z.vf(a.target,"A")&&a.preventDefault()};z.pw=function(a){var b=a.m();if(b){var c=z.dv(b);b==c?z.Wo(b,0).select():z.xu(c,!0);z.kw(a)}};var qw=function(a){if(!z.ba(a.Qy)&&(a.Qy=!1,z.D&&a.sc())){for(var b=a.hm.Wa();b!=b.parent;)try{b=b.parent}catch(c){break}b=b.location;a.Qy="https:"==b.protocol&&-1==b.search.indexOf("nocheckhttps")}return a.Qy};z.rw=function(a,b){Pv.call(this,a,b)};
var sw=function(a){if(a.Mp?0:a.Mp=!0){var b=iw(a),c=a.m(),d=!1;if(b&&c){var f,g=b.parentNode,h=g.offsetWidth;(0,window.parseInt)(z.vv(b,"width"),10)!=h&&(f=z.Ah(c),b.style.width=h+"px",c.style.width=h-f.left-f.right+"px",d=!0);g=g.offsetHeight;a.Ho()&&(0,window.parseInt)(z.vv(b,"height"),10)!=g&&(f||(f=z.Ah(c)),b.style.height=g+"px",c.style.height=g-f.top-f.bottom+"px",d=!0)}a.Mp=!1;d&&a.dispatchEvent("ifrsz")}};var tw=function(a){a.m()&&(sw(a),a.Ho()||a.iB())};
z.uw=function(a,b){var c=a.split("!");this.type=c[0]+"!";this.namespace=c[1];this.Pc=new vw(b)};var vw=function(a){this.category=a.category;this.action=a.action;this.label=a.label;this.value=a.value};var ww=function(){z.H.call(this)};z.xw=function(){z.H.call(this)};var yw=function(a,b,c){window.$.post(a,b).done(function(a){if(a.r)z.T(a.msg);else{var b=a.msg;(b=b&&b.redirect)?window.location.href=b:(z.T("\u64cd\u4f5c\u6210\u529f\uff01"),c&&c(a))}})};
var zw=function(a,b){var c=window.$.extend({action:"get_member_info",reason:b.value},a.fN);return window.$.post("/manage",c).then(function(a){return z.wa("\u7528\u6237\u5df2\u88ab\u8b66\u544a %s \u6b21\uff0c\u7981\u8a00 %s \u6b21",a.warn_num,a.ban_num)})};var Aw=function(){};var Bw=function(a,b,c){z.Hj.call(this,a,c||Aw.U(),b);this.Rb(1,!1);this.Rb(2,!1);this.Rb(4,!1);this.Rb(32,!1);this.O=1};var Cw=function(){this.gw=[]};
var Dw=function(a,b){var c=a.gw[b];if(!c){switch(b){case 0:c=a.R()+"-highlight";break;case 1:c=a.R()+"-checkbox";break;case 2:c=a.R()+"-content"}a.gw[b]=c}return c};var Ew=function(a,b,c){a=Dw(a,2);return c.B("DIV",a,b)};var Fw=function(a,b){var c=a.Y(b);if(c){var c=c.firstChild,d=Dw(a,1);return!!c&&z.$e(c)&&z.Fg(c,d)}return!1};var Gw=function(a,b,c,d){z.zj(a,c,b.ii());z.Aj(a,b,c);d!=Fw(a,c)&&(z.Kg(c,"goog-option",d),c=a.Y(c),d?(a=Dw(a,1),c.insertBefore(b.M().B("DIV",a),c.firstChild||null)):c.removeChild(c.firstChild))};
z.Hw=function(a,b,c,d){z.Hj.call(this,a,d||Cw.U(),c);this.Da(b)};z.Iw=function(){};z.Jw=function(a,b){z.Hj.call(this,null,a||z.Iw.U(),b);this.Rb(1,!1);this.Rb(2,!1);this.Rb(4,!1);this.Rb(32,!1);this.O=1};z.Kw=function(a){this.Rq=a||"menu"};z.Lw=function(a){z.Jw.call(this,z.Iw.U(),a)};z.Mw=function(a,b){z.Ru.call(this,z.zt,b||z.Kw.U(),a);this.Qe(!1)};z.Nw=function(a,b,c,d){z.Kq.call(this,a,b);this.No=c?5:0;this.bA=d||void 0};var Ow=function(a,b){a&48&&(b^=2);a&192&&(b^=1);return b};
var Pw=function(a,b,c,d){z.Nw.call(this,a,b,c||d);(c||d)&&this.Bm(65|(d?32:132))};z.Qw=function(){};var Rw=function(a,b){if(a)for(var c=b?a.firstChild:a.lastChild,d;c&&c.parentNode==a;){d=b?c.nextSibling:c.previousSibling;if(3==c.nodeType){var f=c.nodeValue;if(""==(0,z.Ya)(f))a.removeChild(c);else{c.nodeValue=b?z.Av(f):z.Da(f);break}}else break;c=d}};z.Sw=function(){};z.Tw=function(a,b,c){return c.B("DIV","goog-inline-block "+(b+"-caption"),a)};
z.Uw=function(a,b,c,d,f){z.Oj.call(this,a,c||z.Sw.U(),d);this.Rb(64,!0);this.Zl=new Pw(null,5);b&&this.rh(b);this.eH=null;this.na=new z.Xc(500);!z.xs&&!z.Ai||z.F("533.17.9")||(this.Vs=!0);this.OQ=f||z.Kw.U()};z.Vw=function(a){a.eH=new z.Pg(7,0,7,0)};z.Ww=function(a){a.Zl.Bm&&a.Zl.Bm(33)};
var Xw=function(a){if(a.ka.ua){var b=a.Zl;a.Zl.element=a.RS||a.m();var c=a.ka.m();a.ka.T()||(c.style.visibility="hidden",z.P(c,!0));!a.Jt&&a.Zl.Zn&&a.Zl.Zn()&32&&(a.Jt=z.oh(c));b.ca(c,b.If^1,a.eH,a.Jt);a.ka.T()||(z.P(c,!1),c.style.visibility="visible")}};var Yw=function(a,b,c){var d=a.v();c=c?d.g:d.pa;c.call(d,b,"action",a.lo);c.call(d,b,"close",a.Ux);c.call(d,b,"highlight",a.ay);c.call(d,b,"unhighlight",a.hy)};var Zw=function(a,b){var c=a.v();(b?c.g:c.pa).call(c,a.m(),"keydown",a.qO)};
var $w=function(a,b){var c=a.m(),d=z.Ag(b,"activedescendant"),d=z.ue(b).getElementById(d)||b;if(!d.id){var f=z.Nh.U();d.id=z.Oh(f)}z.Bg(c,d);z.yg(c,"owns",d.id)};z.ax=function(a,b,c){z.Q.call(this);this.type=a;this.id=b;this.Nv=c||bx[a]||"other_report"};z.cx=function(a,b){if(a.type&&a.id&&!(0,window.$)(b).hasClass("goog-menu-button")){var c=new z.Uw("report",new z.Mw);c.zi=!0;c.$b=z.fs;c.w(b);z.dc(c,a);a.dH=c;a.v().va(c.m(),["mouseover","focus"],z.ui(a.yP))}};
var dx=function(a,b){window.$.get("/report/reported",{type:"question",id:a.id},window.$.proxy(function(a){if(a.r)z.T(a.msg);else if(a.reported)z.T(a.msg,null,"\u91cd\u590d\u4e3e\u62a5");else{a=new ex(this.type,this.id);var d=(0,z.Lp)(a.SE,{each:z.y.forEach,options:b,headnote:'\x3ca href\x3d"/question/19806261" class\x3d"zg-link-gray"\x3e\u77e5\u4e4e\u63d0\u95ee\u89c4\u8303\x3c/a\x3e'});a.Uk("\u9700\u8981\u8fdb\u4e00\u6b65\u4fee\u6539",d);a.$q(b)}},a))};
var ex=function(a,b){z.H.call(this);this.type=a;this.id=b};var fx=function(a){z.Q.call(this);z.A.extend(this.J={},this.defaults,a||{});this.$m=new z.md;this.se=null};var gx=function(a,b){var c=a.J,d=new z.$q(c.trigger,!1,null,b);d.Lp=c.sU;d.oo=c.iP;d.qh(a.jn);z.G(d,"trigger",function(a){d.setPosition(new z.Kq(a.anchor,1))});z.G(d,"beforeshow",function(a){this.se=a.target.anchor;this.fa()},!1,a);d.className=c.NK;a.nP=d};
var hx=function(a,b){var c=a.J.mQ,d=z.Te(a.jn),f=z.y.find(d,function(a){return a.getAttribute("data-action")===b});if(!f||z.S.has(f,c))return!1;z.y.forEach(d,function(a){z.S.remove(a,c)});z.S.add(f,c);return!0};var ix=function(a,b,c,d){a.$m.set(b,{name:b,V:c,Ph:d||z.m})};z.jx=function(a){z.Q.call(this);z.A.extend(this.J={},this.defaults,a||{})};var kx=function(a){var b=a.J,c=a.h;lx(c);b=mx(c,b.NF);b.length&&(a.dispatchEvent("willScrape"),window.$.when.apply(window.$,b).always(function(){a.dispatchEvent("didScrape")}))};
var nx=function(a,b,c){for(;a&&a!==b;){if(c(a))return a;a=a.parentNode}};var ox=function(a,b){return nx(a,b,function(a){return px(a)||"CODE"===a.nodeName||"PRE"===a.nodeName})};var px=function(a){return"A"===a.nodeName};var lx=function(a){var b=z.jf(a,function(b){return 3===b.nodeType&&!ox(b,a)}),c,d=z.So(),f=d&&z.$n(d);z.y.forEach(b,function(a){var b=a.nodeValue,d=qx(b);d!==b&&(b=z.Je(d),f===a&&(c=b.lastChild),z.Re(b,a))});c&&z.xu(c)};
var mx=function(a,b){var c=z.y.filter(a.getElementsByTagName("A"),function(a){var b=a.getAttribute("href");if(b=!(!b||"#"===b)&&!a.getAttribute("data-editable")&&z.y.contains(rx,a.protocol))b=z.pf(a),z.ua(a.href,b)?a=void 0:(a.setAttribute("data-editable",!0),a.setAttribute("data-title",b),a=!0),b=!a;return b});return z.y.map(c,function(c){return sx(c.href).done(function(f){tx(a,c,f,b)})})};
var tx=function(a,b,c,d){if(c&&a.contains(b)){d=d||{};var f=function(a,b,c){var d=z.So();if(d){var f=d.Z(),t=d.ta(),C=d.ia(),I=d.La();z.bf(b,f)&&(f=a,t=0);z.bf(b,C)&&(C=a,I=0);c(function(){f===a&&C===a?z.xu(a):z.Do(f,t,C,I).select()})}else c(z.m)};a={link:function(a,b){a.setAttribute("data-editable",!0);b.title===a.href?a.setAttribute("data-title",ux(a.hostname)):(a.setAttribute("data-title",b.title),f(a,a,function(c){z.hf(a,b.title);c()}))},image:function(a,b){var c=window.document.createElement("img");
c.src=b.src;c.setAttribute("data-rawwidth",b.width);c.setAttribute("data-rawheight",b.height);f(c,a,function(b){z.Re(c,a);b()})}};(d=d[c.type]||a[c.type])&&d(b,c)}};var ux=function(a){return a.split(".").slice(/(.com|.edu|.gov|.net|.org)$/.test(a)?-2:-3).join(".").replace(/^www\./,"")+" \u7684\u9875\u9762"};var qx=function(a){return a.replace(vx,function(a){z.ua(a,"http")||(a="http://"+a);return a.link(a)})};
var wx=function(a){var b=new fx({});ix(b,"link","\u94fe\u63a5",function(a){z.hf(a,a.href)});ix(b,"text","\u6587\u672c",function(a){z.hf(a,a.getAttribute("data-title"))});b.w(a);var c=b.Hx();z.Nu(c,new z.Pg(2,0,0,0));z.Mu(c,new z.Pg(2,0,0,0));var d=b.v();d.g(c,"beforeshow",function(a){a=a.target.anchor;var c=z.pf(a);c===a.href?hx(b,"link"):(c!==a.getAttribute("data-title")&&a.setAttribute("data-title",c),hx(b,"text"))}).g(c,"beforehide",function(b){if((b=b.target)&&a.contains(b)&&px(b))return!1});
var f;d.g(c,"show",function(a){f=a.target.anchor;z.S.add(f,"hover")}).g(c,"hide",function(){f&&(z.S.remove(f,"hover"),f=null)});return b};
z.xx=function(a,b,c){z.Q.call(this);this.id=a;this.type=b;this.Aa=null;this.Ig=this.Mt=!1;this.pc="\u5199\u4e0b\u4f60\u7684\u8bc4\u8bba\u2026";this.placeholder='\x3cp style\x3d"color:#999"\x3e'+this.pc+"\x3c/p\x3e";this.Qj="";this.Ja=-1;this.SG=window.$.Deferred().resolve();this.mA=this.mt=null;this.AD="zm-comment-box";this.Ah=null;a=yx[b];if(!a)throw Error("API not found");this.xg=window.$.extend({},yx._default_,a);this.An="";z.A.extend(this.J={},this.defaults,c||{})};
var zx=function(a,b){return z.vm(a,function(){return{Ga:{question:"question_comment_"+b,answer:"question_answer_comment_"+b}[this.type]||!0,kd:!0}},function(){return this.An})};z.Ax=function(a,b,c){var d=z.M(a.AD,b);c&&(a.Ah=c);d?a.w(d):(a.Mt=!0,a.fa(b))};var Bx=function(a){z.A.forEach({PC:".load-more",yn:".zm-comment-list",GD:".zm-comment-form",Aa:".zm-comment-editable"},function(a,c){this[c]=(0,window.$)(a,this.h)[0]},a)};
var Cx=function(a){a.Aa&&a.Aa.setAttribute("aria-label",a.pc);if(z.Dp){var b=a.Aa;b.setAttribute("contentEditable",!0);var c=a.jl={m:function(){return b},vl:function(){return z.pn(b)?"":b.innerHTML},Pd:function(a,c){b.innerHTML=c},Uf:function(){z.gv(b)}};a.Ps(c);a.Qs(c)}else Dx(a);a.v().g(a.Aa,["change","keyup"],function(a){27!==a.keyCode&&(z.iv(this.Aa)?this.Qj="":this.Qj=this.hb())});Ex(a)};
var Dx=function(a){var b=z.N("textarea",{placeholder:a.pc,"class":"zm-comment-textarea"});z.Re(b,a.Aa);new z.un(b);a.Aa=b;a.jl={m:function(){return b},vl:function(){return b.value},Pd:function(){b.value="";b.style.height=z.bh(22,!0)},Uf:function(){b.focus()}}};
var Fx=function(a){var b=a.jl,c=b.m();if(b.vl()!==a.placeholder){b.Pd(!1,a.placeholder);var d=["click","focus","keydown"],f=function(){b.Pd(!1,this.Qj||"");this.Aa.lastChild?z.xu(this.Aa.lastChild):b.Uf();z.Qc(c,d,f,!1,this)};z.G(c,d,f,!1,a);var g;window.getSelection?(g=window.getSelection(),g.anchorNode&&z.bf(a.Aa,g.anchorNode)&&g.removeAllRanges()):window.document.selection&&a.Aa.blur()}};var Gx=function(a){a.focus();a=z.Vo(a);a.collapse();a.select()};
var Hx=function(a){var b;(b=z.M("zm-comment-reply-hack"))?(b=z.Je(z.Lu(b)),z.S.xv(b,"zm-comment-reply-hack","zm-comment-reply-hacked"),z.Pe(b,a)):(b="",z.V.Ga()&&(b='\x3cimg class\x3d"avatar" src\x3d"'+z.V.ul("is")+'"\x3e'),b=z.Je('\x3cdiv class\x3d"zm-comment-form expanded"\x3e\x3cdiv class\x3d"zm-comment-editable-wrap"\x3e'+b+'\x3cdiv class\x3d"zm-comment-editable" aria-label\x3d"\u5199\u4e0b\u4f60\u7684\u56de\u590d"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"zm-command zg-clear"\x3e\x3ca href\x3d"javascript:;" class\x3d"zm-comment-submit zg-right zg-btn-blue"\x3e\u8bc4\u8bba\x3c/a\x3e\x3ca href\x3d"javascript:;" class\x3d"zm-comment-close zm-command-cancel"\x3e\u53d6\u6d88\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e'),
a.appendChild(b));return b};var Ix=function(a){var b=window.location.hash.slice(1).split("-");if(b="comment"===b[0]&&b[1])a=Jx(a,b),z.cn(a),z.ev(a),a.focus()};var Jx=function(a,b){return z.y.find(Kx(a),function(a){return a.getAttribute("data-id")===b})};var Kx=function(a){return(0,window.$)(a.yn).children(".zm-item-comment").get()};
var Lx=function(a){a.v().g(a.h,"click",a.Oa).g(a.Aa,"keydown",a.HR).g(z.vj,"anon_change",a.uj).g(a.jl.m(),["click","focus"],z.oa(a.su,!0)).g(a.jl.m(),"focus",z.oa(a.Ki,"add_comment_start"));a.Ja=Number(a.h.getAttribute("data-count"));(0,window.$)(a.h).on("focusin focusout","."+a.J.pf,function(a){(0,window.$)(this).toggleClass("focusin","focusin"===a.type)});!z.zi&&a.PC&&(a.mA=rv().then(window.$.proxy(a.RG,a)))};var Mx=function(a){0<a.Qa()?(a.Qj=a.hb(),a.su(!1),Fx(a)):a.Ah?a.collapse():a.su();a.Lf()};
var Nx=function(a){if(a.Ah){var b=(0,window.$)(a.Ah);a.$(a.YC).show().css("left",b.position().left+b.width()/2)}};var Ox=function(a){if("pending"!==a.SG.state()){a.Fb();a.h.innerHTML=a.Cn();a.expand();var b=a.xg.wl(a.id,a.J.PG).done((0,z.r)(a.tT,a));return a.SG=b}};
var Ex=function(a){z.V.Ga()?z.V.active||Px(a,'\x3cdiv class\x3d"activate-mask-tip-comment"\x3e'+(z.V.Pr?"\u4e3a\u4e86\u6b63\u5e38\u4f7f\u7528\u77e5\u4e4e\u7684\u63d0\u95ee\u3001\u56de\u7b54\u3001\u8bc4\u8bba\u548c\u7f16\u8f91\u529f\u80fd\uff0c\u8bf7\u9a8c\u8bc1\u4f60\u7684\u90ae\u7bb1\u3002":"\u4e3a\u4e86\u6b63\u5e38\u4f7f\u7528\u77e5\u4e4e\u7684\u63d0\u95ee\u3001\u56de\u7b54\u3001\u8bc4\u8bba\u548c\u7f16\u8f91\u529f\u80fd\uff0c\u8bf7\u7ed1\u5b9a\u4f60\u7684\u624b\u673a\u6216\u90ae\u7bb1\u3002")+
"\x3c/div\x3e",'\x3cdiv class\x3d"zm-command"\x3e\x3ca class\x3d"zg-r3px zg-btn-blue" href\x3d"javascript:;"\x3e\u6211\u8981\u6fc0\u6d3b\x3c/a\x3e\x3c/div\x3e'):Px(a,'\x3cdiv class\x3d"signin-mask-tip-comment"\x3e\x3c/div\x3e',null)};var Px=function(a,b,c){b=(0,window.$)(b);var d=(0,window.$)(c);c?((0,window.$)(".zm-command, .zm-comment-info",a.h).hide(),(0,window.$)(a.Aa).hide().after(d).after(b)):b.insertAfter(a.Aa);a=(0,z.r)(zx(z.m,"box"),a);b.on("click",a);d.on("click",a)};
var Qx=function(a){Bx(a);Cx(a);Fx(a);Lx(a);Rx(a);Nx(a)};var Rx=function(a){var b=a.J,c=!a.Qa();z.S.enable(a.h,b.Rw,c);c&&a.Aa&&b.autofocus&&a.Aa.focus();a.dispatchEvent("change")};var Sx=function(a,b,c){if(!a.mm||"pending"!==a.mm.state()){var d;z.ia(b)&&(d=b.AT,b=b.content);b=z.Ea(b);var f=new z.md;f.set(a.type+"_id",a.id);f.set("content",b);d&&f.set("reply",d);b=a.xg.add(f.Fu());b.done(window.$.proxy(a.JN,a)).done(c);a.mm=b;a.Qj=a.hb();a.Ki("add_comment_submit")}};
var Tx=function(a,b){var c=z.xf(b,a.J.pf);(new z.xw).open(b,{id:c.getAttribute("data-id"),type:"comment"},(0,z.r)(function(){z.O(c);--this.Ja;Rx(this)},a))};
var Ux=function(a,b){var c=z.xf(b,a.J.pf),d=c.getAttribute("data-id"),f="\u4f60\u786e\u5b9a\u8981\u5220\u9664\u8fd9\u6761\u8bc4\u8bba\u5417\uff1f",g=(0,window.$)(".zm-item-link-avatar",c).prop("href");g&&(f+='\x3cp class\x3d"js-block" style\x3d"margin-top:.2em;color:#999;visibility:hidden"\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox"\x3e\u540c\u65f6\u5c06\u6b64\u4eba\u5c4f\u853d\x3c/label\x3e\x3c/p\x3e',window.$.get(g+"/block",function(a){a.r||a.msg||(0,window.$)(".js-block",h.m()).css("visibility",
"visible")}));var h=z.Bi("\u5220\u9664\u8bc4\u8bba",f,function(a){a&&(a=(0,window.$)(":checkbox",h.m()).prop("checked"),Vx(this,d,Number(a),z.oa(z.O,c)))},a)};var Wx=function(a,b,c){a.xg.remove(b).done((0,z.r)(function(){z.ha(c)&&c();--this.Ja;Rx(this)},a))};var Vx=function(a,b,c,d){a.xg.vL(b,c).done((0,z.r)(function(){z.ha(d)&&d();--this.Ja;Rx(this)},a))};
var Xx=function(a){if(!a.rl&&!z.cs.nb){var b=z.xf(a.h,"zm-item-meta");if(b){var c=z.M("zm-meta-panel",b);c&&(a.rl=new z.ep(null,b),a.rl.tag="comment",a.rl.w(c))}}};z.Yx=function(a){var b={appkey:"3063806388"};a&&(b.title=a);window.open("http://service.weibo.com/share/share.php?"+window.$.param(b),"_blank","width\x3d615,height\x3d505")||(window.location.href="http://service.weibo.com/share/share.php?"+window.$.param(b))};z.Zx=function(a,b,c,d){(new $x(b,c,d)).w(a)};
var ay=function(a){z.sv("answer",a).done(function(a){z.Yx(a.msg.sina)})};var $x=function(a,b,c){z.Q.call(this);this.ie=a;this.RJ=b;this.lU=c};
var by=function(a){var b=a.cH=new z.Mw,c=[{label:z.Je('\x3cspan class\x3d"ico z-ico-weibo-share"\x3e\x3c/span\x3e\u65b0\u6d6a\u5fae\u535a'),value:0},{label:z.Je('\x3cspan class\x3d"ico z-ico-wechat-share"\x3e\x3c/span\x3e\u5fae\u4fe1\u626b\u4e00\u626b\x3cimg class\x3d"qrcode-image js-qrcode-image"\x3e'),value:1}];!z.V.bP||"answer"!==a.ie&&"post"!==a.ie||c.push({label:z.Je('\x3cspan class\x3d"ico z-ico-daily-share"\x3e\x3c/span\x3e\u77e5\u4e4e\u65e5\u62a5'),value:2});window.$.each(c,function(a,c){var g=
new z.Hw(c.label,c.value);b.Fa(g)});z.Vh(b,1).Ya(!1);c=new z.Uw("share",b);c.zi=!0;c.$b=z.fs;c.w(a.m());z.dc(c,a);a.v().g(b,"action",a.IN);(0,window.$)(b.m()).addClass("share-menu")};var cy=function(a,b){z.Q.call(this);window.$.extend(this.options={},dy,b||{});this.state={Tl:!1,Us:!1,Ws:!0,Eo:!1,hA:!1};var c=new z.$i(this.update,17,this);z.dc(this,c);this.xJ=(0,z.r)(c.fire,c)};
var ey=function(a){var b=(0,window.$)(a.h),c=(0,window.$)("\x3cdiv\x3e");window.$.each("display position top right bottom left float margin".split(" "),function(a,f){c.css(f,b.css(f))});c.css({visibility:"hidden",width:b.outerWidth(),height:b.outerHeight()}).insertBefore(b);a.pc=c.get(0);b.addClass(a.options.wg);a.ca();a.options.PH.call(a)};
var fy=function(a){if(!window.Modernizr.csstransitions)return ey(a);var b=(0,window.$)(a.h);a.state.Eo=!0;ey(a);b.css({transition:"none",transform:"translateY("+gy(a)+"px)"});(0,window.setTimeout)(function(){b.css({transition:"",transform:""}).onTransitionEnd(function(){a.onAnimationEnd()},200)})};
var hy=function(a){if(!window.Modernizr.csstransitions)return a.restore();var b=(0,window.$)(a.h);a.state.Eo=!0;b.css("transform","translateY("+gy(a)+"px)").onTransitionEnd(function(){b.css({transition:"none",transform:""});a.restore();a.onAnimationEnd()},200)};var gy=function(a){var b=(0,window.$)(a.h).outerHeight();return null===a.options.bottom?-(b+a.options.top):b+a.options.bottom};z.iy=function(a){z.Q.call(this);this.entryType=a};
var jy=function(a){a=(0,window.$)(a);var b={};(0,window.$)("meta[itemprop]",a).each(function(){var a=(0,window.$)(this);b[a.attr("itemprop")]=a.attr("content")});return b};
var ky=function(a){if(a.$s)return a.$s;z.A.some({feed:/^\/$/,collection_feed:/^\/collection\/\d+$/,roundtable_feed:/^\/roundtable\/[\w\.-]+$/,search_result_question_answer_tab:/^\/search$/,people_profile_activities:/^\/people\/[\w\.-]+$/,people_profile_answers:/^\/people\/[\w\.-]+\/answers$/,daily_trending:{path:/^\/explore$/,hash:/^(?!monthly-hot$)/},monthly_trending:{path:/^\/explore$/,hash:/^monthly-hot$/},editor_recommendations:/^\/explore\/recommendations$/,answer_more:/^\/question\/\d+\/answer\/\d+$/},
function(a,c){if(a instanceof RegExp){if(a.test(window.location.pathname))return this.$s=c,!0}else if(a.path.test(window.location.pathname)&&a.hash.test(window.location.hash.slice(1)))return this.$s=c,!0;return!1},a);return a.$s};var ly=function(a){if(a.Jw)return a.Jw;var b=(0,window.$)('meta[itemprop\x3d"ZReactor"]',a.h).data("meta");a.Jw=b&&b.source_type?b.source_type:a.entryType;return a.Jw};
var my=function(a){return{promotion_answer:"promote",member_answer_question:"someone_add",member_voteup_answer:"someone_vote_up",topic_acknowledged_answer:"from_topic",roundtable_add_answer:"from_roundtable",member_voteup_article:"someone_vote_up",column_new_article:"someone_add"}[ly(a)]};
var ny=function(a){var b=(0,window.$)('.js-report, a[name\x3d"report"]',a.m()),c=a.entryType,d=a.Lb;b.each(function(a,b){var h=(0,window.$)(b),l=new z.ax(c,d);h.hasClass("goog-menuitem")?h.click(function(){l.eJ()}):(z.cx(l,b),z.dc(l,this))})};z.oy=function(a,b){this.Ro=this.Wd=1;this.fh=b||4;this.items=a||[];this.vD=[];py(this)};z.qy=function(a,b,c){b=(b-1)*a.fh;return a.items.slice(b,b+c)};
var ry=function(a,b){var c=z.qy(a,a.Wd+1,1)[0];if(a.no()&&c){var d=a.remove(b);a.remove(c);a.items.splice(d,0,c);return c}};var py=function(a){a.Ro=Math.ceil(a.items.length/a.fh)};var sy=function(a){z.iy.call(this,a)};
var ty=function(a){a=(0,window.$)(a.m());var b=(0,window.$)(".js-list",a);(0,window.$)(".js-hidden-list",a);var c=(0,window.$)(".pager",a),d=window.$.makeArray((0,window.$)("\x3cdiv\x3e").html((0,window.$)(".js-hidden-list").html()).children().add(b.children())),f=new z.oy(d,4);f.Lc(function(a){c.find(".next").toggleClass("disabled",!a.no);c.find(".prev").toggleClass("disabled",!a.xs)});(0,window.$)(".pager",a).on("click",".next:not(.disabled)",function(){f.next();b.html(z.qy(f,f.Wd,f.fh))}).on("click",
".prev:not(.disabled)",function(){f.prev();b.html(z.qy(f,f.Wd,f.fh))});a.on("click","[data-follow]",function(a){var b=(0,window.$)(a.target).closest(".item"),c=ry(f,b[0]);c&&b.fadeOut(function(){b.replaceWith(c)})})};var uy=function(a,b){this.Vh=a instanceof z.oe?a:new z.oe(a,b)};var vy=function(a,b){uy.call(this,a,b)};z.wy=function(a,b){z.Mw.call(this,a,b);this.cn=!0;this.Qe(!0);this.G(!1,!0);this.zf=new z.md};
z.xy=function(a,b,c,d,f){var g=a.T();a.Sy()&&a.YU?a.hide():(a.Kf=f||null,a.dispatchEvent("beforeshow")&&(c="undefined"!=typeof c?c:4,g||(a.m().style.visibility="hidden"),z.P(a.m(),!0),b.ca(a.m(),c,d),g||(a.m().style.visibility="visible"),a.Ab(-1),a.G(!0)))};var yy=function(a,b){for(var c=a.zf.fb(),d=0;d<c.length;d++){var f=a.zf.get(c[d]);if(f.h==b.currentTarget){a.fJ(f,b.clientX,b.clientY);b.preventDefault();b.stopPropagation();break}}};
var zy=function(a){z.zp.call(this,!0,"/topic/bio/update","bio");this.IB=a[0];this.params=["tid\x3d"+this.IB[3]];this.content=a[1];this.Sb='\x3ca href\x3d"javascript:;" name\x3d"edit"\x3e\u63cf\u8ff0\u4f60\u5173\u4e8e '+this.IB[0]+" \u7684\u7ecf\u9a8c\x3c/a\x3e";this.Ou=!0};var Ay=function(a,b){z.H.call(this);this.EP=b;this.fl=a;this.items=[];this.hz=!1};var By=function(){Cy||(Cy=new Ay(z.Gs,!1));return Cy};
var Dy=function(a){a.locked=!0;var b=new z.U(!0);a.v().g(b,"success",function(a){this.QQ=!0;this.locked=!1;a=z.ae(a.target);a.r||(this.fl=a.msg,Ey(this))});b.ajax("/question/"+a.wI+"/bios",null,"GET")};
var Ey=function(a){if(!a.locked)if(!a.QQ&&a.hz)Dy(a);else{if(!a.xa){a.xa=new z.vi;a.xa.kb("\u4fee\u6539\u8bdd\u9898\u7ecf\u9a8c");z.pi(a.xa,null);z.ki(a.xa,!1);var b=a.xa.Y();b.innerHTML='\x3cdiv class\x3d"zg-section-title"\x3e\u4fee\u6539\u6bcf\u4e2a\u8bdd\u9898\u65c1\u8fb9\u9760\u8fd1\u4f60\u540d\u5b57\u7684\u7b80\u4ecb\uff1a\x3c/div\x3e';a.fa(b)}a.xa.G(!0)}};z.Fy=function(){z.H.call(this);this.xa=null;this.oa=0;this.jz=[];this.jt=[];this.EB="\u6700\u591a\u8f93\u5165 20 \u5b57";this.Iw="\u6700\u591a\u8f93\u5165 256 \u5b57"};
var Gy=function(a,b,c){a.xa||(a.xa=new z.vi(null,!1),z.pi(a.xa,null),a.xa.kb(b||""),c&&(a.xa.Y().innerHTML=c),a.v().g(a.xa,"afterhide",a.Lf))};
var Hy=function(a,b,c){var d=z.L("zh-fav-list-item-place-holder");d&&z.P(d,!1);a.oA=b[5]?"":z.N("span","zm-fav-list-item-lock",[z.N("i","icon icon-lock")]);d=z.N("span","zm-favo-list-item-title");z.hf(d,b[1]);d=z.N("a",{"class":"zg-r5px zm-favo-list-item-link",href:"javascript:;"},[a.oA,d,z.N("span",{className:"meta zg-gray",innerHTML:'\x3cspan class\x3d"num"\x3e'+b[3]+'\x3c/span\x3e \u6761\u7b54\u6848 \x3cspan class\x3d"zg-bull"\x3e\u2022\x3c/span\x3e '+b[4]+" \u4eba\u5173\u6ce8"})]);a.oA&&a.oA.setAttribute("data-tip",
"s$t$\u79c1\u5bc6\u6536\u85cf\u5939");d.setAttribute("data-lid",b[0]);z.y.contains(a.jt,b[0])&&z.S.add(d,"zm-favo-list-item-link-active");b=z.M("zm-favo-list-item-link",a.Zg);c&&b?z.Oe(d,b):a.Zg.appendChild(d)};z.Iy=function(a,b){if(a.oa!==b&&a.Zg){var c=z.ye("zm-favo-list-item-link",a.Zg);z.y.forEach(c,function(a){z.S.remove(a,"zm-favo-list-item-link-active")},a)}a.oa=b};
var Jy=function(a){var b=z.ye("zm-favo-list-item-link",a.Zg);z.y.forEach(b,function(a){var b=a.getAttribute("data-lid");z.S.remove(a,"zm-favo-list-item-link-active");z.y.contains(this.jt,+b)&&z.S.add(a,"zm-favo-list-item-link-active")},a)};z.Ky=function(a){a.UM?Jy(a):a.B()};
z.Ly=function(a,b){var c=!!b;a.xa.kb(0===b?"\u6dfb\u52a0\u5230\u6536\u85cf\u5939":"\u521b\u5efa\u65b0\u6536\u85cf\u5939");z.P(a.yQ,!c);z.P(a.wx,c);(0,window.$)(a.Zw).text("").hide();new z.Ql(a.Sj,a.EB);new z.Ql(a.Wl,a.Iw);if(1===b)(0,window.$)(a.wx).on("change.FavoDiag","input, textarea, select",function(){a.df()});else(0,window.$)(a.wx).off("change.FavoDiag"),a.Lf()};
z.My=function(a){var b=new z.ln,c=z.Ym(a.Sj.value),d=z.Fa(a.Wl.value===a.Iw?"":a.Wl.value);d||(d=-1);b.add("title",c);b.add("description",d);b.add("is_public",a.eQ.checked?1:0);return b};var Ny=function(a){a.xa.G(!1);a.dispatchEvent(Oy);z.X.ya({type:"ga_click_collect_answer",data:{count:(0,window.$)(".zm-favo-list-item-link-active",a.Zg).length}})};
var Py=function(a,b,c,d){(0,window.$)(c).addClass("btn-pending").text(d?"\u4fdd\u5b58\u4e2d":"\u521b\u5efa\u4e2d");a.v().va(b,"complete",function(){(0,window.$)(c).removeClass("btn-pending").text(d?"\u4fdd\u5b58":"\u786e\u8ba4\u521b\u5efa")})};var Qy=function(a,b,c){c=c||(b?"\u4fdd\u5b58\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5":"\u521b\u5efa\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5");(0,window.$)(a).text(c).show()};
z.Ry=function(a,b,c){z.Q.call(this);this.Lb=a;this.entryType=b||"answer";this.Zh=null;this.J=window.$.extend({},this.defaults,c||{})};var Sy=function(a,b,c){var d=+a.gC.text(),f=0;(0,window.isNaN)(d)||(c===Ty.qe?f=1:b===Ty.qe&&(f=-1),a.gC.text(d+f))};
var Uy=function(a){var b=a.O,c=a.J,d=b===Ty.qe,b=b===Ty.sg,f=d?"\u53d6\u6d88\u8d5e\u540c":"\u8d5e\u540c",g=b?"\u53d6\u6d88\u53cd\u5bf9":"\u53cd\u5bf9\uff0c\u4e0d\u4f1a\u663e\u793a\u4f60\u7684\u59d3\u540d";a.lv.toggleClass(c.Rt,d).find(".label").text(f).end().attr("aria-pressed",d).attr("title",f);a.dv.toggleClass(c.Rt,b).find(".label").text(g).end().attr("aria-pressed",b).attr("title",g)};var Vy=function(a){z.H.call(this);this.view=this.name=null;z.A.extend(this.options={},this.defaults,a||{})};
var Wy=function(a,b){function c(b){Vy.call(this,b);this.name=a}z.w(c,Vy);z.pa(c.prototype,b);Xy[a]=c};var Yy=function(a,b){var c=Xy[a];if(!c)throw Error("Cannot find constructor");return new c(b)};z.Zy=function(a){z.Q.call(this);z.A.extend(this.J={},this.defaults,a||{});this.source=this.J.source;this.promise=window.$.Deferred().resolve();this.Nd={}};z.$y=function(a,b,c){a.ua&&z.y.forEach(a.eb(),b,c);a.v().g(a,"itemcreated",function(a){b.call(c,a.item)})};
var az=function(a){a.Ud&&(z.O(a.Ud),a.Ud=null);a.dispatchEvent("complete")};z.bz=function(a,b){var c=Array.prototype.slice.call(arguments),d=c.shift();if("undefined"==typeof d)throw Error("[goog.string.format] Template required");return d.replace(/%([0\-\ \+]*)(\d+)?(\.(\d+))?([%sfdiu])/g,function(a,b,d,l,n,p,t,C){if("%"==p)return"%";var I=c.shift();if("undefined"==typeof I)throw Error("[goog.string.format] Not enough arguments");arguments[0]=I;return cz[p].apply(null,arguments)})};
z.dz=function(a){z.Zy.call(this,a)};z.ez=function(a,b){z.Q.call(this);this.Lb=a;this.entryType=b;this.mm=null;this.xg="post"===b?fz:gz};z.hz=function(a){a.mm&&"pending"===a.mm.state()||(a.mm=a.xg.jF(a.Lb).done((0,z.r)(a.tp,a)))};var iz=function(a,b,c){z.Cp.call(this,a,b,c)};var jz=function(a,b){z.Q.call(this);this.wb=a;this.Zr=Pu(this.wb);this.isContentEditable=this.wb.isContentEditable();this.VU=30;this.dd=new z.Xc(1E3*this.VU);this.la=z.Es?z.Es.la:0;this.mG=b||!1};
var kz=function(a){lz(a,"\u4fdd\u5b58\u4e2d\u2026");a.Uw();a.IP()};z.mz=function(a){a.dd.stop()};var nz=function(a){a.CB&&((0,window.clearInterval)(a.CB),a.CB=null)};var oz=function(a,b){var c=z.lv(b||(0,z.x)());/^\d/.test(c)&&(c=" "+c);lz(a,"\u5df2\u5b58\u4e8e"+c)};var lz=function(a,b,c){var d=(0,window.$)(a.bG);c?d.addClass("warning"):d.removeClass("warning");z.P(a.Js,!0);z.hf(a.bG,b)};
z.pz=function(a){qz(a);var b={qid:a.la,timestamp:(0,z.x)()};(0,window.setTimeout)(function(){window.$.post("/draft/delete",b)},500)};var qz=function(a){a.GG&&(a.GG.abort(),a.Hr());nz(a);z.P(a.Js,!1);a.dispatchEvent(rz)};var sz=function(a){return(0,window.$)('\x3cdiv class\x3d"copyright-notification"\x3e\x3cdiv class\x3d"user-image-container"\x3e\x3cimg class\x3d"user-image" src\x3d"'+(a||"")+'"\x3e\x3c/div\x3e\x3cdiv class\x3d"tooltip right noty-tooltip"\x3e\x3cdiv class\x3d"tooltip-arrow arrow"\x3e \x3c/div\x3e\x3cdiv class\x3d"tooltip-inner inner"\x3e \u5982\u9700\u8f6c\u8f7d\uff0c\u8bf7\u901a\u8fc7\u79c1\u4fe1\u6216\u8bc4\u8bba\u8054\u7cfb\u6211 \x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')};
z.tz=function(a,b){var c=-1,d=-1,f=uz();a.on("mousedown",function(a){3===a.which&&(c=a.pageX,d=a.pageY)});a.on("copy",function(g){var h=z.So(),l=Math.floor(22*Math.random()+44);if(h&&h.cc()&&(0,z.Ya)(h.cc()).length>l){g.preventDefault();(0,window.$)(".user-image",f).attr("src",b);g=h.ao();var h=h.Yn(),l=z.gh(window).y,n=z.Be(window).height,p=z.wv(l+45+15,Math.min(g.y,h.y)+l,l+n-15),t=z.wv(l+45+15,Math.max(g.y,h.y)+l,l+n-15);z.cs.nb?(n=(z.Be(window).width-265)/2,g=z.ls?h.y>g.y?h.y+l+10:g.y+l-10:-1!==
d?d+3:p+(t-p)/2-15):(n=-1!==c?c+3:a.offset().left+a.width()/2-15,g=-1!==d?d+3:p+(t-p)/2-15);f.css({position:"absolute",left:n,top:g}).finish().fadeIn(300).delay(2E3).fadeOut(300)}d=c=-1})};
z.vz=function(a,b,c){function d(a,b){return["\u8457\u4f5c\u6743\u5f52\u4f5c\u8005\u6240\u6709\u3002","\u5546\u4e1a\u8f6c\u8f7d\u8bf7\u8054\u7cfb\u4f5c\u8005\u83b7\u5f97\u6388\u6743\uff0c\u975e\u5546\u4e1a\u8f6c\u8f7d\u8bf7\u6ce8\u660e\u51fa\u5904\u3002","\u4f5c\u8005\uff1a"+b,"\u94fe\u63a5\uff1a"+a,"\u6765\u6e90\uff1a\u77e5\u4e4e","",""]}function f(a,b,c){return"\x3cdiv\x3e"+d(b,c).join("\x3cbr /\x3e")+a+"\x3c/div\x3e"}function g(a,b,c){return d(b,c).join("\n")+a}function h(a){var d=z.So(),h=d&&(0,z.Ya)(d.cc());
if(h&&!(42>h.length)){if("object"===typeof a.originalEvent.clipboardData&&(a.originalEvent.clipboardData.setData("text/html",f(d.qd(),b,c)),a.originalEvent.clipboardData.setData("text/plain",g(h,b,c)),0<a.originalEvent.clipboardData.getData("text/plain").length)){a.preventDefault();return}if(window.getSelection){a=d.qd();var t=(0,window.$)(f(a,b,c)).css({position:"fixed",left:"-9999px"}).appendTo("body");window.getSelection().selectAllChildren(t.get(0));(0,window.setTimeout)(function(){d.select();
t.remove()},200)}}}a&&b&&c&&(z.ua(b,"http")||(b=window.location.protocol+"//"+window.location.host+b),a.on("copy",h))};var wz=function(a,b){z.Q.call(this);this.XT=(0,window.$)(a).children();this.contents=[];this.Cg=0;this.Lr=[];this.className=b||"";this.cD=!1;this.delay=0;this.Uq=null;z.y.forEach(this.XT,function(a){a=(0,window.$)(a).addClass("carousel-inner-content");this.contents.push(a);this.Lr.push((0,window.$)("\x3cdiv\x3e\x3c/div\x3e").addClass("carousel-dot"))},this)};
var xz=function(a,b){if(0>b||b>=a.contents.length)return!1;a.Uq&&((0,window.clearTimeout)(a.Uq),a.Uq=null);a.Lr[a.Cg].removeClass("carousel-dot-selected");a.contents[a.Cg].hide();a.Lr[b].addClass("carousel-dot-selected");a.contents[b].show();a.Cg=b;yz(a);return!0};var yz=function(a){var b=a.Cg;a.cD&&(a.Uq=(0,window.setTimeout)(function(){b===a.Cg&&(b===a.contents.length-1?xz(a,0):a.next())},a.delay))};
var zz=function(){function a(){function a(){return new z.Ib(function(a){l.onAnimationEnd(function(){a()},400)})}function b(a){return z.y.reduce(a,function(a,b){return a.then(b)},xv())}if(!d){d=!0;var c=(0,window.$)("#copyright-demo-region1"),f=(0,window.$)("#copyright-demo-region2"),g=(0,window.$)("#copyright-demo-region3"),h=(0,window.$)("#copyright-demo-region4"),l=(0,window.$)("#copyright-demo-indicator");(0,window.$)(".frame2-region").removeClass("copyright-demo-region-selected");b([function(){l.show().addClass("indicator-move1");
c.addClass("copyright-demo-region1-select-animation");return a()},function(){c.removeClass("copyright-demo-region1-select-animation").addClass("copyright-demo-region-selected");l.removeClass("indicator-move1").addClass("indicator-move2");return a()},function(){f.addClass("copyright-demo-region-selected");l.removeClass("indicator-move2").addClass("indicator-move3");return a()},function(){g.addClass("copyright-demo-region-selected");l.removeClass("indicator-move3").addClass("indicator-move4");return a()}]).then(function(){h.addClass("copyright-demo-region-selected");
l.removeClass("indicator-move4");d=!1})}}function b(){var a=(0,window.$)(".copyright-demo-pointer"),b=(0,window.$)(".copyright-demo-noty");a.css("opacity","0");b.css("opacity","0");a.addClass("copyright-demo-pointer-show-animation");b.addClass("copyright-demo-noty-show-animation");(0,window.setTimeout)(function(){a.removeClass("copyright-demo-pointer-show-animation");b.removeClass("copyright-demo-noty-show-animation");a.css("opacity","1");b.css("opacity","1")},1100)}var c=sz(z.V[2]).addClass("copyright-demo-noty"),
d=!1,f=(0,window.$)((0,window.$)("#copyright-demo-template").html());(0,window.$)("#copyright-demo-frame3",f).append(c);var g=new wz(f,"copyright-demo");g.g("rightShow",function(c){1===c.offset?a():2===c.offset&&b()});var c=(0,window.$)('\x3cdiv id\x3d"copyright-demo-helper" style\x3d"display: none; position: absolute;"\x3e\x3cp class\x3d"copyright-demo-helper-intro"\x3e \u52fe\u9009\u540e\uff0c\u6211\u4eec\u5c06\u9650\u5236\u5176\u4ed6\u7528\u6237\u7684\u590d\u5236\u64cd\u4f5c\uff0c\u5e76\u7ed9\u4e88\u63d0\u9192 \x3c/p\x3e\x3cp class\x3d"copyright-demo-helper-btn"\x3e \u67e5\u770b\u6f14\u793a \x3c/p\x3e\x3c/div\x3e'),
h=new z.$q({I:"data-copyright-demo"});h.Lp=250;h.oo=750;h.qh(c[0]);h.g("trigger",function(a){h.setPosition(new z.Kq(a.anchor,4))});var l=new z.vi;g.fa(l.Y());l.kb("\u7981\u6b62\u8f6c\u8f7d\u6f14\u793a");z.yi(l,462);(0,window.$)(".copyright-demo-helper-btn").click(function(){h.G(!1);xz(g,0);g.cD=!0;g.delay=3E3;yz(g);l.G(!0)})};
z.Az=function(a,b,c){z.Cp.call(this,!1);this.tb=!!a;this.tr=!0;this.XJ=b;this.Sb="\x26nbsp;";this.mn=c;this.Nu=this.Sw=this.RE=this.enabled=!0;if(z.V.active||!z.V.Ga())this.nz='\x3cspan style\x3d"font-style: normal;color: #999;"\x3e\u5199\u56de\u7b54\u2026\x3c/span\x3e'};var Bz=function(a,b){a.mn=b?b:z.V[4];if(a.Rs&&window.$.trim(b)){var c=b;20<c.length&&(c=c.substring(0,17)+"...");a.FL.innerHTML="\uff0c"+z.Fa(c)+'\x3ca name\x3d"edit_bio" class\x3d"zu-edit-button" href\x3d"javascript:;"\x3e\x3ci class\x3d"zu-edit-button-icon"\x3e\x3c/i\x3e\u4fee\u6539\u8bdd\u9898\u7ecf\u9a8c\x3c/a\x3e'}};
var Cz=function(a,b,c){b=(0,window.$)(b);(0,window.$)(a.wc).hide();c=(0,window.$)(c);(0,window.$)(a.dj).append(b).after(c);(z.zi||a.Hd)&&b.addClass("activate-mask-tip-answer-simple");a=z.vm(z.m,{Ga:"question_answer_add_start",kd:!0},"#draft");b.on("click",a);c.on("click",a)};
var Dz=function(a){a.Dk?a.Dk.show():(a.Dk=(0,window.$)('\x3cdiv class\x3d"question-tip-box-bottom"\x3e\u786e\u5b9a\u60f3\u8981\u56de\u7b54\u4f60\u81ea\u5df1\u63d0\u51fa\u7684\u95ee\u9898\u5417\uff1f\x3cbr\x3e\u5982\u679c\u9700\u8981\u5bf9\u95ee\u9898\u505a\u51fa\u66f4\u591a\u7684\u89e3\u91ca\u548c\u8bf4\u660e\uff0c\u8bf7\u7f16\u8f91\u95ee\u9898\u63cf\u8ff0\u3002 \u5982\u679c\u9700\u8981\u5bf9\u5176\u4ed6\u56de\u7b54\u505a\u51fa\u56de\u5e94\uff0c\u8bf7\u5728\u76f8\u5e94\u56de\u7b54\u4e0b\u901a\u8fc7\u8bc4\u8bba\u53d1\u5e03\u3002\x3cbr\x3e\x3cdiv class\x3d"zg-clear"\x3e\x3ca href\x3d"javascript:;" class\x3d"zg-right zg-btn zg-btn-blue" name\x3d"confirm"\x3e\u786e\u5b9a\x3c/a\x3e\x3ca href\x3d"javascript:;" class\x3d"zg-right zg-link-gray " name\x3d"cancel"\x3e\u53d6\u6d88\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e'),a.Dk.on("click",
'[name\x3d"cancel"]',function(){a.Dk.hide()}).on("click",'[name\x3d"confirm"]',function(){a.Dk.hide();(0,window.$)(a.Yb).hide();a.Ya(!0);a.yf()}),(0,window.$)(a.Yb).after(a.Dk))};var Ez=function(a){var b=(0,window.$)("input[name\x3danno-checkbox]",a.wc)[0],c=(0,window.$)("label",a.wc)[0];a.Mq=b;z.Es.tb&&(a.Mq.checked=!0);z.vh(c,!0)};var Fz=function(a){this.K=(0,window.$)(a);this.Gb()};var Gz=function(){this.gw=[]};
var Hz=function(a,b,c){var d=b.M().B("SPAN");d.className="goog-submenu-arrow";Iz(b,d);a.Y(c).appendChild(d)};var Iz=function(a,b){a.Jd()?(z.Gg(b,"goog-submenu-arrow-rtl"),z.hf(b,a.Kq?"\u25c4":"\u25ba")):(z.Ig(b,"goog-submenu-arrow-rtl"),z.hf(b,a.Kq?"\u25ba":"\u25c4"))};z.Jz=function(a,b,c,d){z.Hw.call(this,a,b,c,d||Gz.U())};var Kz=function(a){a.Xd&&z.$c(a.Xd);a.eB&&z.$c(a.eB)};var Lz=function(a){z.Wh(a.getParent(),function(a){a!=this&&"function"==typeof a.Dg&&(a.Dg(),Kz(a))},a)};
var Mz=function(a,b){!b&&a.Va()&&a.Va().Ab(-1);a.dispatchEvent(z.Qh(64,b));var c=a.Va();b!=a.uz&&z.Kg(a.m(),"goog-submenu-open",b);if(b!=c.T()&&(b&&(c.ua||c.fa(),c.Ab(-1)),c.G(b),b)){var c=new z.Nw(a.m(),a.Kq?6:4,a.cQ),d=a.Va(),f=d.m();d.T()||(f.style.visibility="hidden",z.P(f,!0));c.ca(f,a.Kq?4:6);d.T()||(z.P(f,!1),f.style.visibility="visible")}a.uz=b};var Nz=function(a,b,c){var d=a.v();(c?d.g:d.pa).call(d,b,"enter",a.qR)};var Oz=function(a,b,c,d){z.Jz.call(this,a,b,c,d)};
z.Pz=function(a){z.Q.call(this);z.A.extend(this.options={},Qz,a||{});this.content="";this.gd=this.Te=this.Ik=null};var Rz=function(a){a.getParent()?a.dispatchEvent("expandRequest"):a.expand()};z.Sz=function(a){z.Q.call(this);this.oq="votebar-mobile";this.Lw="votebar-mobile-dialog";this.bC=a;this.bK=z.N("span","_votebar-holder")};var Tz=function(a){var b=a.bC;z.Re(a.bK,b.m());z.S.add(b.m(),a.oq);a.v().g(b,"action",function(){this.Eb&&(0,window.setTimeout)((0,z.r)(function(){this.Eb.G(!1)},this),150)})};
z.Uz=function(a){z.Q.call(this);z.A.extend(this.options={},Vz,a||{});this.la=this.options.la;this.oa=this.options.oa;this.yr=this.options.yr;this.ow=null;this.options.Nj||(this.Mb=!0)};var Wz=function(a,b){return z.vm(a,b,function(){return this.Wn()})};
var Xz=function(a){var b=z.M("zm-item-answer",a.h)||a.h;a.oa=b.getAttribute("data-aid");a.Me="1"===b.getAttribute("data-isowner");a.lb=b.getAttribute("data-atoken");a.oi="1"===b.getAttribute("data-deleted");a.vw=+b.getAttribute("data-created");a.hP=+b.getAttribute("data-helpful");a.$P="1"===b.getAttribute("data-good");a.tr="1"===b.getAttribute("data-copyable");a.Lj="1"===b.getAttribute("data-collapsed");a.tb=null};
var Yz=function(a){var b=new z.Pz;a.L(b);b.w(a.h);a.options.Nj||a.g("expandRequest",(0,z.r)(a.expand,a));a.g("expand",function(a){a.target===a.currentTarget&&b.expand()});a.g("collapse",function(a){a.target===a.currentTarget&&b.collapse()});a.options.Nj&&(b.tG&&a.va("expand",(0,z.r)(function(a){a.target===a.currentTarget&&this.rz()},a)),z.Tu(a.h,a.Wj,a))};var Zz=function(a,b){a.Qb=b};
var $z=function(a){var b=z.M("zm-item-vote-info",a.h);if(b){a.Bk=new z.ez(a.oa);a.L(a.Bk);a.Bk.w(b);b=(0,window.$)(".zm-item-vote-count",a.h);b[0]||(b=(0,window.$)(".zm-item-vote-count",a.Qb));var c=[b[0],(0,window.$)(".zm-votebar .count",a.h)[0]];if(c.length){var d=a.Bk;a.Bk.on("change",function(){z.y.forEach(c,function(a){z.Vm(a,d.Qa())})})}}};
var aA=function(a){var b=z.M("more-actions",a.Qb);if(b){var c={share:{label:"\u5206\u4eab",action:a.MO},fav:{label:"\u6536\u85cf",action:a.vj},report:{label:"\u4e3e\u62a5",action:a.JO},nohelp:{label:a.hP?"\u6ca1\u6709\u5e2e\u52a9":"\u64a4\u9500\u6ca1\u6709\u5e2e\u52a9",action:a.vF}},d=new z.Mw,f=function(a){z.Uh(d)&&d.Fa(new z.Lw);var b=new z.Hw(c[a].label);b.Da(a);d.Fa(b)};f("share");f("fav");a.Me||(f("nohelp"),z.V.Ga()&&f("report"));f=new z.Uw("operation",d);f.zi=!0;z.Ww(f);z.Vw(f);f.fm=function(){};
f.$b=z.fs;f.w(b);z.S.add(d.m(),"zh-answer-more-actions");a.v().g(d,"action",function(a){var b=a.target.W();(b=c[b])&&b.action&&b.action.call(this,a)})}};
var bA=function(a){if(!a.te&&a.Me&&z.Es&&a.oa){a.te=new iz(!1,"/answer/content","content");z.dc(a,a.te);a.te.Nu=!0;a.te.Sw=!0;a.te.dF=z.Az.prototype.dF;var b=z.M("zm-item-rich-text",a.h);z.Qu(a.te,["id\x3d"+a.la]);a.te.w(b);a.v().g(a.te,"shouldUpdateContent",function(a){if(z.ea(a.data))return!1});a.v().g(a.h,"click",function(a){"suggest_edit"===a.target.name&&(this.te.yf(),(0,window.$)(".zh-question-censor-tip",this.h).hide());return!0})}};
z.cA=function(a,b){if(!a.qa){a.qa=new z.xx(a.oa,"answer",b);a.L(a.qa);z.Ax(a.qa,a.Qb,(0,window.$)(".toggle-comment",a.Qb)[0]);Xx(a.qa);a.qa.mu(a.Wn());var c=window.location.hash.slice(1).split("-"),d=window.location.pathname.split("/"),d="answer"===d[3]&&d[4];"comment"===c[0]&&c[1]&&d===a.lb&&(a.qa.yd(!0),a.v().g(a.qa,"expand",function(){Ix(this.qa)}))}};var dA=function(a){if(a.Iq)a.Iq.G(!0);else{var b=eA(a);b&&(z.xy(b,new z.Nw(a.TK,1,!0),0,new z.Pg(5,0,5,0)),fA(a,b),gA(a,b),a.Iq=b)}};
var eA=function(a){var b=(0,window.$)("a[name\x3dadmin]",a.ti)[0];if(b){a.TK=b;hA=0;var c=new z.wy;a.L(c);c.attach(b,5);var d=a.Lj?new z.Hw("\u53d6\u6d88\u6298\u53e0"):new Oz("\u6298\u53e0");d.Da("collapse");var f=function(a,b){var c=new z.Hw(b+1+" "+a.label);c.Da(a.value);d.Fa(c)};a.Lj||iA("answer","collapse").then(function(a){z.y.forEach(a,f);z.S.add(d.Va().m(),"manage-menu")});b=new z.Hw("\u5220\u9664");b.Da("delete");c.Fa(d);c.Fa(b);c.fa(a.h);z.S.add(c.m(),"manage-menu");return c}};
var fA=function(a,b){a.v().g(b,"action",function(a){var b=a.target;a=b.W();var b=b.m(),f=new z.bl;"collapse"===a?(f.add("answer_id",this.oa).add("action","collapse2").add("collapse",this.Lj?"cancel":"done"),b.setAttribute("data-op",this.Lj?"uncollapse-answer":"collapse-answer"),b.setAttribute("data-action","/manage?"+f.toString()),jA(this,b)):"delete"===a?(f.add("answer_id",this.oa).add("action","remove_answer2"),b.setAttribute("data-op","remove-answer"),b.setAttribute("data-action","/manage?"+f.toString()),
jA(this,b)):z.ga(a)&&(b=new z.bl,b.add("answer_id",this.oa).add("action","collapse2").add("collapse",this.Lj?"cancel":"done").add("reason",a),yw("/manage",b.toString(),(0,z.r)(this.OH,this)))})};var jA=function(a,b){(new z.xw).open(b,{id:a.oa,type:"answer"},(0,z.r)(a.OH,a))};
var kA=function(a){function b(){c();var b=a.Iq.fi(0);b.Va&&b.Va()&&(b.tu(),b.Va().Ab(0))}function c(){dA(a);a.Iq.Ab(0)}var d=new Fz(a.h),d=z.vt.hK(d.getItem()||a.h);z.Um(z.Um(z.Um(z.Um(z.Um(z.Um(d.register("v",function(){this.rb&&this.rb.Hu()},a),{group:"\u64cd\u4f5c",name:"\u8d5e\u540c"}).register("d",function(){this.rb&&this.rb.Gu()},a),{group:"\u64cd\u4f5c",name:"\u53cd\u5bf9"}).register("s c",a.vj,a),{group:"\u64cd\u4f5c",name:"\u6536\u85cf"}).register("t",a.us,a),{group:"\u64cd\u4f5c",name:"\u611f\u8c22"}).register("c",
a.Vx,a),{group:"\u64cd\u4f5c",name:"\u6253\u5f00\u8bc4\u8bba"}).register("shift+c",a.hs,a),{group:"\u64cd\u4f5c",name:"\u5b9a\u4f4d\u5230\u8bc4\u8bba\u6846"});var f=z.xc?"\u2318":"ctrl";z.cs.kG&&(0,window.$)("a[name\x3dadmin]",a.ti)[0]&&z.Um(z.Um(d.register("meta+.",c),{group:"\u7ba1\u7406",name:"\u5c55\u5f00\u83dc\u5355",key:f+"+."}).register("meta+k",b),{group:"\u7ba1\u7406",name:"\u5c55\u5f00\u6298\u53e0\u5b50\u83dc\u5355 (Kill)",key:f+"+k"})};
var gA=function(a,b){a.v().g(b,"show",function(){z.S.add(this.Qb,"zm-item-meta-has-menu")}).g(b,"hide",function(a){a.currentTarget===a.target&&z.S.remove(this.Qb,"zm-item-meta-has-menu")})};
var lA=function(a){var b=(0,window.$)('[name\x3d"comment_opt"]',a.Qb);if(b.length){var c=b.data(),d=new z.Mw,f=new z.mA("\u7981\u6b62\u8f6c\u8f7d");f.vf(!c.copyable);d.Fa(f);d.Fa(new z.Lw);nA(a,d);d.Fa(new z.Lw);d.Fa(new z.Hw("\u5220\u9664"));a.v().g(d,"action",a.SN);gA(a,d);z.S.add(d.m(),"zg-gray-normal");(0,window.$)(d.m()).addClass("setting-menu");a=new z.Uw("comment",d);a.zi=!0;z.Ww(a);z.Vw(a);a.$b=z.fs;a.w(b[0])}};
var oA=function(a){if(!a.DD||!a.DD.Ub()){var b=new z.U(!0);a.v().va(b,"success",function(a){if((a=z.ae(a.target))&&!a.r){var b=a.msg;z.y.forEach(this.pw,function(a){a.W()===b&&a.vf(!0)});this.ow=b}else z.T(a.msg)});b.ajax("/answer/comment_permission?answer_id\x3d"+a.oa,null,"GET");a.DD=b}};var nA=function(a,b){a.pw=[];z.A.forEach(pA,function(a,d){var f=new z.mA(a);f.Da(d);f.vf(d===this.ow);this.pw.push(f);b.Fa(f)},a)};
z.qA=function(a){var b=new z.U(!0);a.v().va(b,"success",function(){z.P(this.h,!this.oi);this.oi?this.pv="set_delete":(bA(this),this.pv="cancel_delete");this.dispatchEvent("change");(0,window.$)(this.h).parent(".zm-item").hide()});b.ajax("/answer/"+(a.oi?"remove":"unremove"),"aid\x3d"+a.oa)};var rA=function(a){z.iy.call(this,a)};var sA=function(){z.iy.call(this,"question")};var tA=function(a){z.Tu(a.h,function(){(0,z.uA)("question",this.Hg,"touch")},a)};z.vA=function(){z.iy.call(this,"answer")};
var wA=function(a){return z.M("zm-item-answer",a)||z.M("entry-body",a)};var xA=function(a,b){(0,window.$)(".feed-question-detail-item",a.h).toggleClass("question-detail-expanded",b)};var yA=function(){z.iy.call(this,"column")};var zA=function(){z.iy.call(this,"post")};
var AA=function(a){var b=new z.Pz;a.L(b);b.w(a.h);a.g("expandRequest",(0,z.r)(a.expand,a));a.g("expand",function(a){a.target===a.currentTarget&&b.expand()});a.g("collapse",function(a){a.target===a.currentTarget&&b.collapse()});b.tG&&a.va("expand",(0,z.r)(function(a){a.target===a.currentTarget&&this.rz()},a));z.Tu(a.h,a.Wj,a)};
var BA=function(a){var b=z.M("zm-item-vote-info",a.h);if(b){var c=new z.ez(a.Lb,a.entryType);z.dc(a,c);c.w(b);a.rb&&a.v().g(a.rb,"change",function(){z.hz(c)}).g(c,"change",function(){var a=z.M("zm-item-vote-count",this.h),b=(0,window.$)(".zm-votebar .count",this.h)[0];a&&z.Vm(a,c.Qa());b&&z.Vm(b,c.Qa())})}};var CA=function(){z.iy.call(this,"roundtable")};z.DA=function(a){var b=a.getAttribute("data-type");return(b={ac:sy,p:zA,a:z.vA,q:sA,r:CA,c:yA}[b])?new b:wA(a)?new z.vA:new z.Q};
var EA=function(a){z.$l.call(this,"register");this.Xt=a};var FA=function(){z.Q.call(this)};var GA=function(a){a.preventDefault();var b=z.nj["index-alternative"],c="/"===window.location.pathname;b&&c&&window.$.extend(a,{attributes:{plan:b}});z.dj(a)};var HA=function(){IA();JA();(0,window.$)(".qrcode-app-download .app-link").on({mouseenter:function(){GA({category:"app",action:"hover_download_app",label:"home_download_app"})},click:function(){GA({Cc:!0,category:"app",action:"visit_app",label:"home_download_app"})}})};
var IA=function(){var a=(0,window.$)(".sign-flow");if(a.length){var b=new KA(FA.prototype.iQ);b.w(a[0]);b.g("trackRequested",function(a){a.label="home_default";GA(a)})}};
var LA=function(){var a=(0,window.$)(".main-sidebar"),b=(0,window.$)(".main-sidebar-inner"),c=(0,window.$)(window),d=yv(function(){return b.offset().top-20});c.on("scroll",function(){b.is(":visible")&&b.toggleClass("sticky",c.scrollTop()>d())});(0,window.$)(".index-show-sidebar-button").click(function(){(0,window.$)(this).parent().remove();a.removeClass("hidden-phone")})};
var JA=function(){function a(){var a=window.particlesJS;a&&((0,window.$)("\x3cdiv\x3e",{id:"particles"}).appendTo("body"),a("particles",c))}var b=!!window.HTMLCanvasElement,c={particles:{number:{value:20,density:{enable:!0,value_area:1E3}},color:{value:"#e1e1e1"},shape:{type:"circle",stroke:{width:0,color:"#000000"},polygon:{nb_sides:5},image:{src:"img/github.svg",width:100,height:100}},opacity:{value:.5,random:!1,anim:{enable:!1,speed:1,opacity_min:.1,sync:!1}},size:{value:15,random:!0,anim:{enable:!1,
speed:180,size_min:.1,sync:!1}},line_linked:{enable:!0,distance:650,color:"#cfcfcf",opacity:.26,width:1},move:{enable:!0,speed:2,direction:"none",random:!0,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:600,rotateY:1200}}},interactivity:{detect_on:"canvas",events:{onhover:{enable:!1,mode:"repulse"},onclick:{enable:!1,mode:"push"},resize:!0},modes:{grab:{distance:400,line_linked:{opacity:1}},bubble:{distance:400,size:40,duration:2,opacity:8,speed:3},repulse:{distance:200,duration:.4},
push:{particles_nb:4},remove:{particles_nb:2}}},retina_detect:!0};(0,window.$)(function(){b&&window.$.getScript("/static/components/particles.js/particles.min.js",a)})};
var MA=function(){function a(){(0,window.$)(this).trigger("requestStory")}function b(){var a=f.filter(".current");a.length&&d.css("top",a.position().top+a.height()/2-10)}var c={member:tv(function(a){return window.$.get("/node/HomeHeroStoryV2",{params:{member_hash:a}})}),topic:tv(function(a){return window.$.get("/node/HomeTopicStoryV2",{params:{url_token:a}})})},d=(0,window.$)("div.single-story \x3e .icon-sign").addClass("visible"),f=(0,window.$)("a.rep"),g=null;f.mouseenter(function(){g=(0,window.setTimeout)((0,z.r)(a,
this),500)}).mouseleave(function(){(0,window.clearTimeout)(g)}).click(a).on("requestStory",function(){var a=(0,window.$)(this),f=a.data(),g=f.type,f=f.token;a.addClass("current").siblings().removeClass("current");b();c[g](f).done(function(b){(0,window.$)(".single-story-inner").fadeOut(150,function(){(0,window.$)(this).remove();(0,window.$)(b).insertAfter(d).hide().fadeIn(150)});a.trigger("afterRequestStory")})});b()};
var NA=function(){function a(){(0,window.clearInterval)(f);f=null}function b(){f||(f=(0,window.setInterval)(function(){var a=d.filter(":not(.current)").get();z.y.xU(a);(0,window.$)(a[0]).trigger("requestStory")},5E3))}var c=(0,window.$)("div.single-story"),d=(0,window.$)("div.rep"),f=null;c.hover(a,b);d.on("requestStory",a).on("afterRequestStory",b);return{start:b,stop:a}};var KA=function(a){z.Q.call(this);this.TJ=a||!1};
var OA=function(){return"signin"===window.location.pathname.slice(1)?"signin":"signup"};
var PA=function(a){function b(){c.hide();d.show()}var c=(0,window.$)("div.mobi-front"),d=(0,window.$)("div.desk-front");c.on("click",".js-signin, .js-signup",function(a){d.find(".js-title-label").text("\u8fd4\u56de");d.find(".return").off().click(function(){window.location.hash=""});b();(0,window.$)(a.target).hasClass("js-signin")?window.location.hash="signin":window.location.hash="signup"});var f=(0,z.r)(function(){var a=window.location.hash.slice(1);c.is(":visible")||a||(a=OA());"signin"===a?(b(),
QA(this)):"signup"===a?(b(),RA(this)):(d.css("display",""),c.css("display",""))},a);a.v().g(window,"hashchange",f);a.v().g(z.X,["accountcallback","sina_callback","qqconn_callback"],b);(0,window.setTimeout)(f)};
var SA=function(a){function b(a,b){(0,window.$)(":submit",a).click(function(){b(a.Od())});(0,window.$)("keydown",a).click(function(c){13===c.keyCode&&b(a.Od())})}TA(a);UA(a);VA(a);a.to();WA();a.hj();PA(a);var c=a.m();(0,window.$)(".view-signin .js-signup",c).click(function(){RA(a)});(0,window.$)(".view-signup .js-signin",c).click(function(){QA(a)});b((0,window.$)(".view-signin form",c),function(b){b=b.account;var c=a.Zc(b);a.Sa({category:"sign_in",action:b?"click_sign_up_submit_"+(c?"email":"phone"):
"click_sign_up_submit_no_channel"})});b((0,window.$)(".view-signup form",c),function(b){b=b.account;var c=a.Zc(b);a.Sa({category:"sign_up",action:b?"click_sign_up_submit_"+(c?"email":"phone"):"click_sign_up_submit_no_channel"})});(0,window.$)(".js-bindweibo",c).click(function(){a.Sa({category:"sign_in_or_sign_up",action:"click_sign_with_weibo_start"});z.tk("sina",a)});(0,window.$)(".js-bindqq",c).click(function(){a.Sa({category:"sign_in_or_sign_up",action:"click_sign_with_qq_start"});z.tk("qq",a)});
(0,window.$)(".js-bindwechat",c).click(function(){a.Sa({category:"sign_in_or_sign_up",action:"click_sign_with_wechat_start"});z.tk("wechat",a)})};var TA=function(a){var b=(0,window.$)(".index-sign-tabnavs a",a.m()),c=(0,z.r)(function(){var a=window.location.hash||"#"+OA();b.filter(function(){return(0,window.$)(this).attr("href")===a}).addClass("active").siblings().removeClass("active")},a);a.v().g(window,"hashchange",c);c()};
var UA=function(a){a.Ym=(0,window.$)(".view-signin",a.m());var b=(0,window.$)("form",a.Ym),c=(0,window.$)("button.submit",b);b.validate(window.$.extend({},a.TJ?z.st:a.JG,{submitHandler:z.fk(c,window.$.proxy(a.Nz,a))}));c=(0,window.$)(".captcha-module",b).get(0);a.ot=new z.wk;a.ot.w(c);var d=(0,window.$)('input[name\x3d"account"]',b);(0,window.$)(".unable-login",a.Ym).click(function(){var b=new z.km(d.val());b.G(!0);a.v().g(b,z.dm,function(){z.xk(a.ot)})})};
var VA=function(a){a.tc=(0,window.$)(".view-signup",a.m());var b=(0,window.$)("form",a.tc),c=(0,window.$)("button.submit",b);b.validate(window.$.extend({},a.TJ?z.st:a.JG,{submitHandler:z.fk(c,window.$.proxy(a.hk,a))}));var d=(0,window.$)('input[name\x3d"account"]',b);a.tc.on("click",".switch-to-login",function(){QA(a);var b=d.val();b&&(0,window.$)('input[name\x3d"account"]',a.OV).val(b)});c=(0,window.$)(".captcha-module",b).get(0);a.pp=new z.wk;a.pp.w(c);z.xk(a.pp);a.Qm=new z.sk(b);a.Qm.start();a.Cy()};
var QA=function(a){a.Ym.is(":visible")||(a.tc.hide(),a.Ym.show(),a.hj(),z.xk(a.ot))};var RA=function(a){a.tc.is(":visible")||(a.Ym.hide(),a.tc.show(),a.hj(),z.xk(a.pp))};var WA=function(){var a=z.ek.get("accountcallback");z.ek.remove("accountcallback");if(a){a=(0,window.decodeURIComponent)(a);try{var b=JSON.parse(a);z.X.dispatchEvent(new z.qk("accountcallback",b))}catch(c){}}};z.e=zu.prototype;z.e.Vi="";z.e.set=function(a){this.Vi=""+a};
z.e.append=function(a,b,c){this.Vi+=a;if(null!=b)for(var d=1;d<arguments.length;d++)this.Vi+=arguments[d];return this};z.e.clear=function(){this.Vi=""};z.e.toString=function(){return this.Vi};z.w(z.Ju,z.oc);
z.jo.prototype.qd=z.Y(52,function(){var a=z.se(this.P.startContainer).B("DIV");a.appendChild(this.P.cloneContents());a=a.innerHTML;if(z.ua(a,"\x3c")||!this.isCollapsed()&&!z.Qa(a,"\x3c"))return a;var b=this.yc(),b=1==b.nodeType?b:b.parentNode;return z.Lu(b.cloneNode(!1)).replace("\x3e","\x3e"+a)});z.oo.prototype.qd=z.Y(51,function(){return this.P.htmlText});z.Bo.prototype.qd=z.Y(50,function(){return z.Fo(this).qd()});z.Ho.prototype.qd=z.Y(49,function(){return this.Lg()});
z.No.prototype.qd=z.Y(48,function(){return z.y.map(z.Zn(this),function(a){return a.qd()}).join("")});z.jo.prototype.cc=z.Y(47,function(){return this.P.toString()});z.oo.prototype.cc=z.Y(46,function(){return this.P.text});z.Bo.prototype.cc=z.Y(45,function(){return z.Fo(this).cc()});z.Ho.prototype.cc=z.Y(44,function(){return""});z.No.prototype.cc=z.Y(43,function(){return z.y.map(z.Zn(this),function(a){return a.cc()}).join("")});z.Nq.prototype.cc=z.Y(42,function(){return z.pf(this.m())});
z.ho.prototype.Lg=z.Y(41,function(){var a=new zu;z.J.forEach(this,function(b,c,d){3==b.nodeType?a.append(z.Fa(b.nodeValue.substring(d.sj(),d.pj()))):1==b.nodeType&&(-1==d.Xb?z.Le(b)&&a.append("\x3c/"+b.tagName+"\x3e"):(c=b.cloneNode(!1),c=z.Lu(c),z.D&&"LI"==b.tagName?a.append(c):(b=c.lastIndexOf("\x3c"),a.append(b?c.substr(0,b):c))))},this);return a.toString()});z.Bo.prototype.Lg=z.Y(40,function(){return z.Fo(this).Lg()});z.Ho.prototype.Lg=z.Y(39,function(){return z.y.map(z.Ko(this),z.Lu).join("")});
z.No.prototype.Lg=z.Y(38,function(){return this.qd()});z.ho.prototype.Yn=z.Y(37,function(){return yu(this,!1)});z.Bo.prototype.Yn=z.Y(36,function(){return z.Fo(this).Yn()});z.ho.prototype.ao=z.Y(35,function(){return yu(this,!0)});z.Bo.prototype.ao=z.Y(34,function(){return z.Fo(this).ao()});z.go.prototype.pj=z.Y(33,function(){return 3!=this.node.nodeType?-1:this.node==this.ra?this.Ca:this.node.nodeValue.length});z.Mo.prototype.pj=z.Y(32,function(){return 0});z.Ro.prototype.pj=z.Y(31,function(){return this.Yf[this.cl].pj()});
z.go.prototype.sj=z.Y(30,function(){return 3!=this.node.nodeType?-1:this.node==this.wa?this.Ea:0});z.Mo.prototype.sj=z.Y(29,function(){return 0});z.Ro.prototype.sj=z.Y(28,function(){return this.Yf[this.cl].sj()});z.Xn.prototype.Nb=z.Y(20,function(){var a=this.yc();return 1==a.nodeType?a:a.parentNode});z.xn.prototype.Cx=z.Y(17,function(){return z.zt});z.Hj.prototype.zm=z.Y(16,function(a){this.ha(a)});z.Yh.prototype.Sy=z.Y(11,function(){return this.Oj||150>(0,z.x)()-this.bz});
z.Yh.prototype.sk=z.Y(10,function(a){z.Zh(this);this.Pk=a});z.vi.prototype.sk=z.Y(9,function(a){this.Pk=a;this.ua&&z.xi(this)});
z.Wf.prototype.Gq=z.Y(5,function(a,b,c){var d=(0,z.x)(),f=c?c:d,g=Ku(this.Tr);g.Vr=2;g.Ur=f;g.type=b;g.FD=a;a=(a=this.nX)&&a.isTracing()?a.totalVarAlloc:-1;g.BJ=a;this.nw++;if(c){c=this.Qf.length;for(a=0;a<c;a++)if(this.Qf[a].Ur>f){z.y.Bo(this.Qf,g,a);break}a==c&&this.Qf.push(g)}else this.Qf.push(g);if(f=g.type)g=this.vk.get(f),g||(g=Ku(this.oB),g.type=f,this.vk.set(f,g)),g.count++;this.Ju+=(0,z.x)()-d});z.sc.prototype.YE=z.Y(0,function(){return this.lc});z.w(z.Ru,z.Q);z.e=z.Ru.prototype;z.e.Yy=null;
z.e.vb=null;z.e.N=null;z.e.Hb=null;z.e.qb=!0;z.e.jc=!0;z.e.sx=!0;z.e.Ta=-1;z.e.oc=null;z.e.rf=!1;z.e.eL=!1;z.e.vS=!0;z.e.yg=null;z.e.bc=function(){return this.Yy||this.N.bc(this)};z.e.ds=function(){return this.vb||(this.vb=new z.wj(this.bc()))};z.e.B=function(){this.h=this.N.B(this)};z.e.Y=function(){return this.N.Y(this.m())};z.e.$b=function(a){return this.N.$b(a)};z.e.ga=function(a){this.h=this.N.w(this,a);"none"==a.style.display&&(this.qb=!1)};
z.e.D=function(){z.Ru.o.D.call(this);z.Wh(this,function(a){a.ua&&Fu(this,a)},this);var a=this.m();this.N.He(this);this.G(this.qb,!0);this.v().g(this,"enter",this.Xx).g(this,"highlight",this.ay).g(this,"unhighlight",this.hy).g(this,"open",this.EO).g(this,"close",this.Ux).g(a,"mousedown",this.fe).g(z.ue(a),"mouseup",this.XN).g(a,["mousedown","mouseup","mouseover","mouseout","contextmenu"],this.QN);this.Vg()&&Gu(this,!0)};z.e.Fb=function(){this.Ab(-1);this.oc&&this.oc.Bb(!1);this.rf=!1;z.Ru.o.Fb.call(this)};
z.e.C=function(){z.Ru.o.C.call(this);this.vb&&(this.vb.H(),this.vb=null);this.N=this.oc=this.yg=this.Yy=null};z.e.Xx=function(){return!0};z.e.ay=function(a){var b=z.uu(this,a.target);if(-1<b&&b!=this.Ta){var c=z.Eu(this);c&&c.Ac(!1);this.Ta=b;c=z.Eu(this);this.rf&&c.setActive(!0);this.vS&&this.oc&&c!=this.oc&&(z.Bj(c,64)?c.Bb(!0):this.oc.Bb(!1))}b=this.m();null!=a.target.m()&&z.yg(b,"activedescendant",a.target.m().id)};z.e.hy=function(a){a.target==z.Eu(this)&&(this.Ta=-1);this.m().removeAttribute("aria-activedescendant")};
z.e.EO=function(a){(a=a.target)&&a!=this.oc&&a.getParent()==this&&(this.oc&&this.oc.Bb(!1),this.oc=a)};z.e.Ux=function(a){a.target==this.oc&&(this.oc=null);var b=this.m(),c=a.target.m();b&&a.target.O&2&&c&&z.Bg(b,c)};z.e.fe=function(a){this.jc&&(this.rf=!0);var b=this.bc();b&&z.lf(b)?b.focus():a.preventDefault()};z.e.XN=function(){this.rf=!1};
z.e.QN=function(a){var b;a:{b=a.target;if(this.yg)for(var c=this.m();b&&b!==c;){var d=b.id;if(d in this.yg){b=this.yg[d];break a}b=b.parentNode}b=null}if(b)switch(a.type){case "mousedown":b.fe(a);break;case "mouseup":b.mf(a);break;case "mouseover":b.rd(a);break;case "mouseout":b.Gl(a);break;case "contextmenu":b.jo(a)}};z.e.Id=function(){};z.e.Yc=function(){this.Ab(-1);this.rf=!1;this.oc&&this.oc.Bb(!1)};
z.e.dc=function(a){return this.isEnabled()&&this.T()&&(0!=z.Uh(this)||this.Yy)&&this.lf(a)?(a.preventDefault(),a.stopPropagation(),!0):!1};
z.e.lf=function(a){var b=z.Eu(this);if(b&&"function"==typeof b.dc&&b.dc(a)||this.oc&&this.oc!=b&&"function"==typeof this.oc.dc&&this.oc.dc(a))return!0;if(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)return!1;switch(a.keyCode){case 27:if(this.Vg())this.bc().blur();else return!1;break;case 36:z.Du(this);break;case 35:Cu(this);break;case 38:if(this.Hb==z.zt)Au(this);else return!1;break;case 37:if(this.Hb==z.yt)this.Jd()?Bu(this):Au(this);else return!1;break;case 40:if(this.Hb==z.zt)Bu(this);else return!1;
break;case 39:if(this.Hb==z.yt)this.Jd()?Au(this):Bu(this);else return!1;break;default:return!1}return!0};z.e.L=function(a,b){z.Ru.o.L.call(this,a,b)};z.e.Kk=function(a,b,c){a.vh|=2;a.vh|=64;!this.Vg()&&this.eL||a.Rb(32,!1);a.Fp(!1);var d=a.getParent()==this?z.uu(this,a):-1;z.Ru.o.Kk.call(this,a,b,c);a.ua&&this.ua&&Fu(this,a);a=d;-1==a&&(a=z.Uh(this));a==this.Ta?this.Ta=Math.min(z.Uh(this)-1,b):a>this.Ta&&b<=this.Ta?this.Ta++:a<this.Ta&&b>this.Ta&&this.Ta--};
z.e.removeChild=function(a,b){if(a=z.q(a)?z.Th(this,a):a){var c=z.uu(this,a);-1!=c&&(c==this.Ta?(a.Ac(!1),this.Ta=-1):c<this.Ta&&this.Ta--);(c=a.m())&&c.id&&this.yg&&z.A.remove(this.yg,c.id)}a=z.Ru.o.removeChild.call(this,a,b);a.Fp(!0);return a};z.e.setOrientation=function(a){if(this.m())throw Error("Component already rendered");this.Hb=a};z.e.T=function(){return this.qb};
z.e.G=function(a,b){if(b||this.qb!=a&&this.dispatchEvent(a?"show":"hide")){this.qb=a;var c=this.m();c&&(z.P(c,a),this.Vg()&&Hu(this.bc(),this.jc&&this.qb),b||this.dispatchEvent(this.qb?"aftershow":"afterhide"));return!0}return!1};z.e.isEnabled=function(){return this.jc};
z.e.Ya=function(a){this.jc!=a&&this.dispatchEvent(a?"enable":"disable")&&(a?(this.jc=!0,z.Wh(this,function(a){a.dK?delete a.dK:a.Ya(!0)})):(z.Wh(this,function(a){a.isEnabled()?a.Ya(!1):a.dK=!0}),this.rf=this.jc=!1),this.Vg()&&Hu(this.bc(),a&&this.qb))};z.e.Vg=function(){return this.sx};z.e.Qe=function(a){a!=this.sx&&this.ua&&Gu(this,a);this.sx=a;this.jc&&this.qb&&Hu(this.bc(),a)};z.e.Ab=function(a){(a=z.Vh(this,a))?a.Ac(!0):-1<this.Ta&&z.Eu(this).Ac(!1)};z.e.Ac=function(a){this.Ab(z.uu(this,a))};
z.e.qD=function(a){return a.T()&&a.isEnabled()&&z.Bj(a,2)};z.e.TA=function(a){this.Ab(a)};z.w(z.Xu,z.kd);z.Xu.prototype.next=function(){var a=this.sH;if(!a)throw z.J.ab;this.sH=this.IT?a.previousSibling:a.nextSibling;return a};z.w($u,z.Xu);z.av.defaults={paddingTop:0};
gz={jF:function(a,b){return window.$.get(b?"/node/AnswerFullVoteInfoV2":"/node/AnswerVoteInfoV2",{params:{answer_id:a}})},aC:function(a,b){return window.$.post("/node/AnswerVoteBarV2",{method:b,params:{answer_id:a}},function(a){a&&a.r&&z.Fi("\u63d0\u793a\u4fe1\u606f","\x3cp\x3e"+a.msg+'\x3c/p\x3e\x3cp\x3e\x3ca href\x3d"/question/24752645" target\x3d"_blank"\x3e\u4e3a\u4ec0\u4e48\u56de\u7b54\u4f1a\u88ab\u5efa\u8bae\u4fee\u6539\uff1f\x3c/a\x3e\x3c/p\x3e')})},RA:function(a,b){return window.$.post("/node/AnswerMetaV2",
{method:"set_copyright",params:{answer_id:a,is_copyable:Number(b)}})}};z.uA=function(a,b){var c=[],d=[].slice,f=z.tn(a,function(){c.length&&(b(c),c=[])});return function(){c.push(d.call(arguments));f()}}(550,function(a){z.V.Ga()&&(a={items:JSON.stringify(a)},window.$.post("/lastread/touch",a))});var XA=/a(:(link|visited|active|hover))?/;Ev.prototype.clone=function(){var a=new Ev;a.ph=this.ph.concat();a.Mn=this.Mn;return a};var YA=/(^|;|{)\s*color:([^;]+);/g,Iv={},Lv={},ZA={},$A="color visibility quotes list-style-type list-style-image list-style-position list-style page-break-inside orphans widows font-family font-style font-variant font-weight text-indent text-align text-transform white-space caption-side border-collapse border-spacing empty-cells cursor".split(" "),aB="font-family font-size font-weight font-variant font-style color text-align text-decoration text-indent text-transform letter-spacing white-space word-spacing".split(" ");var bB;z.Qv=z.A.Rm({by:1,rO:2,qs:3,yj:4,rs:5,execCommand:6,queryCommandValue:7,gI:8,aM:10,$L:11});bB=z.A.Ze(8,10,11);var Rv,Uv;z.w(Pv,z.H);Pv.prototype.Aa=null;Pv.prototype.Mc=null;Rv="change";z.Sv="delayedchange";Uv={YV:"cvc",rW:"load",LW:"unload",QV:"beforechange",WV:Rv,$V:z.Sv,RV:"beforefocus",cW:"focus",UV:"blur",TV:"beforetab",jW:"ifrsz",SV:"beforeselectionchange",zW:"selectionchange"};z.Wv=0;z.cB=null;z.e=Pv.prototype;z.e.Rg=!1;z.e.WJ=!1;z.e.Ru=!1;z.e.m=function(){return this.Aa};
z.e.addListener=function(a,b,c,d){var f=this.m();z.Lt&&f&&this.sc()&&(f=f.ownerDocument);d?z.bd(this.kc,f,a,b,c,d):this.kc.g(f,a,b,c)};z.e.hi=function(a){return this.Nd[a]};var Vv=15,Tv=250;Pv.prototype.sc=z.fs;Pv.prototype.Ho=z.fs;Pv.prototype.dJ=z.es;var Yv={46:!0,8:!0};z.D||(Yv[9]=!0);var Zv={86:!0,88:!0};z.Im&&!z.B&&(Yv[229]=!0);
Pv.prototype.jw=function(){this.kc&&this.kc.removeAll();if((z.xs||z.Ai)&&this.sc()&&this.dJ()){try{var a=this.gb.Wa();a.removeEventListener("keydown",this.nn,!1);a.removeEventListener("touchend",this.nn,!1)}catch(b){}delete this.nn}if(z.Wg&&this.sc()){try{a=this.gb.Wa(),a.removeEventListener("focus",this.Wv,!1),a.removeEventListener("blur",this.Vv,!1)}catch(b){}delete this.Wv;delete this.Vv}this.we&&this.we.stop();this.Gr.stop()};
Pv.prototype.C=function(){1==this.Uj||this.Kc();this.Mc&&this.execCommand("clearlorem");this.Uj=z.Wv;for(var a in this.Nd){var b=this.Nd[a];b.Fq()||b.disable(this)}this.gb=this.Aa=null;this.jw();this.pl&&(z.Rc(this.pl),this.pl=null);this.hm=null;this.kc&&(this.kc.H(),this.kc=null);for(;a=this.KV.pop();)a.H();z.cB==this.id&&(z.cB=null);for(var c in this.Nd)a=this.Nd[c],a.wL&&a.H();delete this.Nd;Pv.o.C.call(this)};
var dB=["DOMNodeInserted","DOMNodeRemoved","DOMNodeRemovedFromDocument","DOMNodeInsertedIntoDocument","DOMCharacterDataModified"];Pv.prototype.YA=function(){if(z.It||!this.sc())this.kc.g(this.m(),"DOMSubtreeModified",this.cy);else{var a=this.gb.sa();this.kc.g(a,dB,this.cy,!0);this.kc.g(a,"DOMAttrModified",(0,z.r)(this.nF,this,this.cy),!0)}};var ew={8:1,9:1,13:1,33:1,34:1,35:1,36:1,37:1,38:1,39:1,40:1,46:1},fw={65:!0,86:!0,88:!0},hw={8:1,9:1,13:1,27:1,33:1,34:1,37:1,38:1,39:1,40:1};z.e=Pv.prototype;
z.e.Do=function(a,b){for(var c=this.Ej[a],d=z.y.slice(arguments,1),f=0;f<c.length;++f){var g=c[f];if((g.isEnabled(this)||bB[a])&&g[z.Qv[a]].apply(g,d))return!0}return!1};z.e.SP=function(a,b){for(var c=this.Ej[a],d=z.y.slice(arguments,1),f=0;f<c.length;++f){var g=c[f];(g.isEnabled(this)||bB[a])&&g[z.Qv[a]].apply(g,d)}};z.e.Ut=function(a,b,c){for(var d=this.Ej[a],f=z.y.slice(arguments,1),g=0;g<d.length;++g){var h=d[g];if(h.isEnabled(this)||bB[a])f[0]=h[z.Qv[a]].apply(h,f)}return f[0]};
z.e.kf=function(a){z.xc&&65==a.keyCode&&cw(this,a);(z.B||aw(this,a))&&!this.Do(1,a)&&z.St&&gw(this,a)};z.e.sO=function(a){if(z.B){if(!aw(this,a))return}else this.Ox=!0,this.$h();this.Do(2,a)||z.St||gw(this,a)};z.e.tO=function(a){z.B||!this.Ox&&!Xv(a)||this.ho();this.Do(3,a);cw(this,a)};z.e.execCommand=function(a,b){for(var c=arguments,d,f=this.Ej[6],g=0;g<f.length;++g){var h=f[g];if(h.isEnabled(this)&&h.Je(a)){d=h.execCommand.apply(h,c);break}}return d};
z.e.queryCommandValue=function(a){var b=this.Kc()&&this.of;if(z.q(a))return this.St(a,b);for(var c={},d=0;d<a.length;d++)c[a[d]]=this.St(a[d],b);return c};z.e.St=function(a,b){for(var c=this.Ej[7],d=0;d<c.length;++d){var f=c[d];if(f.isEnabled(this)&&f.Je(a)&&(b||f.Fq()))return f.queryCommandValue(a)}return b?null:!1};z.e.nF=function(a,b){if(!dw(this,Rv)){var c=b.lc;try{if(c.originalTarget.prefix||"scrollbar"==c.originalTarget.nodeName)return}catch(d){return}c.prevValue!=c.newValue&&a.call(this,c)}};
z.e.cy=function(a){dw(this,Rv)||(a=a.YE?a.lc:a,a.target.firebugIgnore||this.we.start())};z.e.ns=function(){z.D&&this.execCommand("clearlorem",!0);z.B&&this.Nw();this.bf()};z.e.LO=function(){var a=this.UI;this.UI=null;z.kw(this,void 0,a)};z.e.$h=function(){dw(this,"beforechange")||this.dispatchEvent("beforechange")};z.e.bf=function(a){nw(this,!0,a)};z.e.ho=function(){dw(this,Rv)||(this.we&&this.we.stop(),dw(this,z.Sv)||this.Gr.start())};z.e.pE=function(){dw(this,z.Sv)||(this.Gr.stop(),this.dispatchEvent(z.Sv))};
z.e.Nw=function(){this.oE();this.qE()};z.e.oE=function(){dw(this,"beforefocus")||(this.execCommand("clearlorem",!0),this.dispatchEvent("beforefocus"))};z.e.qE=function(){if(!dw(this,"focus")){z.cB=this.id;this.of=!0;this.dispatchEvent("focus");if(z.B){var a=this.m(),b=z.jw(this);if(b){var c=z.bo(b);0!=z.co(b)||c&&c!=a&&"BODY"!=c.tagName||z.gv(a)}}!z.Jt&&this.sc()&&this.gb.Wa().parent.getSelection().removeAllRanges()}};z.e.Jr=function(){dw(this,"blur")||(z.cB==this.id&&(z.cB=null),this.of=!1,this.dispatchEvent("blur"))};
z.e.El=function(a){z.cB=this.id;if(z.D){var b=a.target;b&&"A"==b.tagName&&a.ctrlKey&&this.hm.Wa().open(b.href)}this.Ru=!0};z.e.Wx=function(){this.Ru=!1};z.e.ts=function(a){if(!this.WJ||this.Ru)this.Ru=!1,this.dispatchEvent("beforeselectionchange"),z.kw(this,a),z.D&&(this.UI=a.target,this.VI.start())};
z.e.vl=function(){if(this.queryCommandValue("usinglorem"))return"\u00a0";if(!this.Kc())return this.Mc.innerHTML;var a=this.m(),b=a.cloneNode(!1),a=a.innerHTML;z.D&&a.match(/^\s*<script/i)&&(a="\u00a0"+a);b.innerHTML=a;this.SP(11,b);return this.Ut(10,b.innerHTML)};
z.e.Pd=function(a,b,c,d){if(1!=this.Uj){d&&this.execCommand("clearlorem");b&&a&&(b="\x3cp\x3e"+b+"\x3c/p\x3e");c&&z.lw(this,!1,!0);a=b;if(b=this.m()){if(this.sc()&&z.E)for(var f=b.ownerDocument.getElementsByTagName("HEAD"),g=f.length-1;1<=g;--g)f[g].parentNode.removeChild(f[g])}else b=this.Mc;b&&bw(this,a,b);d&&this.execCommand("updatelorem");this.Kc()&&(c?(z.B&&Su(this.we),nw(this)):this.bf())}};z.e.NB=function(){var a=this.gb.sa();a.designMode="on";z.Ot&&a.execCommand("styleWithCSS",!1,!1)};
z.e.hG=function(){this.al&&qw(this)&&z.th(this.al,this.m())};z.e.Kc=function(){return 2==this.Uj};z.e.focus=function(){if(!z.Ht&&this.sc())this.gb.Wa().focus();else{if(z.Wg)var a=this.Mk.pageXOffset,b=this.Mk.pageYOffset;this.m().focus();z.Wg&&this.Mk.scrollTo(a,b)}};z.e.Uf=function(){!z.Ft&&z.B||z.pw(this);this.focus()};z.e.Le=function(a){this.Uj=1;var b=this.Mc;this.nodeName=b.nodeName;this.cssText=b.style.cssText;z.Gg(b,"editable");this.oz(a)};
z.e.oz=function(a){var b=this.Mc;if(b){var b=b.innerHTML,c={},b=this.Ut(8,b,c),d=this.hm.B("IFRAME",this.eF());if(qw(this)){var f=(0,z.r)(this.VF,this,d,b,c);this.pl=z.G(d,"load",f,!0);a&&(d.src=a)}this.$C(d);qw(this)||this.VF(d,b,c)}};
z.e.os=function(){z.D&&z.jv(this.gb.Wa());z.cB!=this.id&&this.execCommand("updatelorem");if((z.xs||z.Ai)&&this.sc()&&this.dJ()){var a=this.gb.Wa();this.nn=(0,z.r)(a.focus,a);a.addEventListener("keydown",this.nn,!1);a.addEventListener("touchend",this.nn,!1)}z.Wg&&this.sc()?(this.Wv=(0,z.r)(this.Nw,this),this.Vv=(0,z.r)(this.Jr,this),a=this.gb.Wa(),a.addEventListener("focus",this.Wv,!1),a.addEventListener("blur",this.Vv,!1)):(z.Rt?(this.addListener("focus",this.qE),this.addListener(z.os,this.oE)):this.addListener("focus",
this.Nw),this.addListener("blur",this.Jr,z.B));z.B?this.YA():(this.addListener(["beforecut","beforepaste","drop","dragend"],this.$h),this.addListener(["cut","paste"],zv(this.bf)),this.addListener("drop",this.ns));this.addListener(z.E?"dragend":"dragdrop",this.ns);this.addListener("keydown",this.kf);this.addListener("keypress",this.sO);this.addListener("keyup",this.tO);this.VI=new z.ll(this.LO,250,this);this.sN&&this.addListener("click",ow);this.addListener("mousedown",this.El);this.WJ?(this.kc.g(this.gb.sa(),
"mouseup",this.ts),this.addListener("dragstart",this.Wx)):this.addListener("mouseup",this.ts);this.hG();nw(this);this.dispatchEvent("load");for(var b in this.Nd)this.Nd[b].enable(this)};z.e.$C=function(a){var b=this.Mc;a.className=b.className;a.id=b.id;z.Re(a,b)};z.e.Fx=function(a){var b=z.zf(z.se(this.Mc));return new Mv(this.id,b,!1,!1,a)};
z.e.jK=function(a,b,c){c=this.Fx(c);qw(this)?(a=(a.contentDocument||a.contentWindow.document).body,z.Ht&&(a.contentEditable=!0),a.className="editable",a.setAttribute("g_editable",!0),a.hideFocus=!0,a.id=c.IE,z.Tg(a,c.ix),a.innerHTML=b):Ov(c,b,new Nv(this.m(),this.al),a)};z.e.VF=function(a,b,c){this.pl&&(z.Rc(this.pl),this.pl=null);a.allowTransparency="true";this.jK(a,b,c);$v(this,(a.contentDocument||a.contentWindow.document).body);!z.Ht&&this.sc()&&this.NB();this.os()};
z.e.eF=function(){var a="padding:0;"+this.Mc.style.cssText;z.va(a,";")||(a+=";");a+="background-color:white;";z.D&&(a+="overflow:visible;");return{frameBorder:0,style:a}};var eB;z.w(z.rw,Pv);z.e=z.rw.prototype;z.e.nG=!1;z.e.ZP=!1;z.e.Ho=function(){return this.nG};z.e.xF=function(){dw(this,Rv)||sw(this)};
z.e.iB=function(){if(this.Mp?0:this.Mp=!0){var a=!1,b=iw(this);if(b){var c,d=iw(this),f=d.contentDocument.body;c=f.parentNode;0===(0,window.parseInt)(z.vv(d,"height"),10)&&z.Tg(d,"height","1px");z.zf(z.se(f))?d=c.offsetHeight:(d=c.scrollHeight,c.clientHeight!=c.offsetHeight&&(d+=eB||(eB=z.Dh())));c=d;this.RQ&&(c=Math.max(c,this.RQ));(0,window.parseInt)(z.vv(b,"height"),10)!=c&&(b.style.height=c+"px",a=!0)}this.Mp=!1;a&&this.dispatchEvent("ifrsz")}};z.e.ny="";var fB=!1;z.e=z.rw.prototype;z.e.sc=function(){return!z.Ht};
z.e.YA=function(){z.rw.o.YA.call(this);if(this.sc()){var a=iw(this).ownerDocument;this.kc.g(a,dB,this.xF,!0);this.zQ=z.Pc(this.gb.Wa(),"load",this.iB,!0,this);this.kc.g(a,"DOMAttrModified",(0,z.r)(this.nF,this,this.xF),!0)}};z.e.ho=function(){dw(this,Rv)||(z.rw.o.ho.call(this),this.sc()&&this.iB())};
z.e.Jr=function(){if(!dw(this,"blur")&&(z.rw.o.Jr.call(this),!z.Ht&&!z.Jt)){var a=this.gb.Wa(),b=!1;z.Rc(this.LG);this.LG=z.Pc(a.document.body,"dragover",function(){b=!0});z.u.setTimeout((0,z.r)(function(){if(!b&&this.gb){var a=z.jw(this),d=this.gb.Wa();z.jv(d);a&&(a.collapse(!0),a.select())}},this),0)}};z.e.NB=function(){z.rw.o.NB.call(this);var a=this.gb.sa();a.execCommand("enableInlineTableEditing",!1,"false");a.execCommand("enableObjectResizing",!1,"false")};
z.e.hG=function(){this.sc()||fB||(this.al&&z.th(this.al,this.m()),fB=!0)};z.e.oz=function(a){if(this.sc())z.rw.o.oz.call(this,a);else if(a=this.Mc)$v(this,a),a.contentEditable=!0,bw(this,a.innerHTML,a),this.os()};z.e.os=function(){if(this.sc()){var a=this;z.u.setTimeout(function(){tw(a)},0)}z.rw.o.os.call(this)};z.e.eF=function(){return{frameBorder:0,style:"padding:0;"}};
z.e.$C=function(a){if(!this.ZP){var b=this.Mc;b&&(this.nG="auto"==z.Zg(b,"overflowY"))}var b=this.Mc,c=z.se(b),d=b.style.width,f=b.style.height;z.Tg(b,"visibility","hidden");var c=c.B("DIV",{style:"height:0;clear:both",innerHTML:"\x26nbsp;"}),g=c.cloneNode(!0);b.insertBefore(c,b.firstChild);b.appendChild(g);g=z.ue(b);if((c=z.D&&b.currentStyle)&&z.zf(z.se(g))&&"auto"!=c.width&&"auto"!=c.height&&!c.boxSizing)g=z.yh(b,c.width,"width","pixelWidth"),c=z.yh(b,c.height,"height","pixelHeight"),g=new z.qe(g,
c);else var c=z.xh(b),g=z.Ah(b),h=z.ih(b),g=new z.qe(c.width-h.left-g.left-g.right-h.right,c.height-h.top-g.top-g.bottom-h.bottom);c=g.width;g=g.height;h="";this.Ho()&&(h="\x26nbsp;",z.Tg(b,"position","relative"),z.Tg(b,"overflow","visible"),z.Tg(a,"position","absolute"),z.Tg(a,"top","0"),z.Tg(a,"left","0"));z.mh(b,c,g);z.zf(z.se(b))&&z.Tg(b,"lineHeight","0");z.hv(b,h);z.mh(a,c,g);z.mh(b,d,f);z.Tg(b,"visibility","");b.appendChild(a);qw(this)||(b=a.contentWindow.document,z.zf(z.se(a.ownerDocument))&&
(b.open(),a=z.jd("\x3c!DOCTYPE HTML\x3e\x3chtml\x3e\x3c/html\x3e",null),b.write(z.id(a)),b.close()))};z.e.Fx=function(a){var b=this.Mc;if(b)return new Mv(this.id,z.zf(z.se(b)),!0,this.Ho(),a);throw Error("no field");};
z.e.jK=function(a,b,c){z.Tg(a,"visibility","hidden");c=this.Fx(c);var d=this.Mc,f=this.al;if(!this.ny){var g=this.Mc;if(g){var h=g.ownerDocument,l=z.ja(h);if(!ZA[l]){for(var n=z.ja(h),p=[],h=Dv(h.styleSheets),t=0,C;C=h[t];t++)if((C=Cv(C))&&C.length)for(var I=0,K=C.length;I<K;I++){var R=new Ev,Z;Z=R;var Ka=C[I],Ua=Ka.style;if(Ua){var Ja=void 0,Ba="";Ua&&(Ja=Ka.selectorText)&&(Ba=Ua.cssText)?z.D&&(Ba+="/* */"):Ka.cssText&&(Ba=/([^\{]+)\{/,Ja=Ba.exec(Ka.cssText)[1],Ba=Ka.cssText.replace(Ba,"").replace(/\}[^\}]*$/g,
""));if(Ja){Ka=Z;Ka.ph=[];Ja=Ja.split(/,\s*/gm);for(Ua=0;Ua<Ja.length;Ua++){var We=Ja[Ua];0<We.length&&Ka.ph.push(new Gv(We))}Z.Mn=Ba;Z=!0}else Z=!1}else Z=!1;Z&&p.push(R)}ZA[n]=p}n=ZA[l];l=[];for(p=0;p<n.length;p++)l.push(n[p].clone());h=new Kv(g);t=new Hv("body");for(n=0;n<l.length;n++)for(C=l[n].ph,p=C.length,I=0;I<p;I++){K=C[I];R=K;Z=h.uid;if(R.Fv[Z])Z=R.Fv[Z];else{for(var Ba=0,Ua=Ja=Ka=null,We=h.tH,Pm=We.length,Xe=0;Xe<=R.yi.length;Xe++){for(Ja=R.yi[Xe];Ba<Pm;){var le=We[Ba];if(Ja&&Jv(Ja,le)){Ka=
{yE:Ba,WI:Xe};Ba++;break}else Ua&&Jv(Ua,le)&&(Ka={yE:Ba,WI:Xe-1});Ba++}Ua=Ja}Z=R.Fv[Z]=Ka}Z&&(R=Z.WI,K=K.yi,Ba=K.length-1,Z.yE==h.tH.length-1||R<Ba?(K=K.concat(),K.splice(0,R+1,t),R=new Gv,R.yi=K,C.push(R)):0<R&&R==Ba&&(R=new Gv,R.yi=[t,K[Ba]],C.push(R)))}h=new Ev;g=g.currentStyle||z.ue(g).defaultView.getComputedStyle(g,"")||{};n=new Gv;n.yi=[new Hv("html")];h.ph=[n];t={};for(n=0;p=$A[n];n++)t[p]=g[z.bb(p)];Fv(h,t);l.push(h);h=new Ev;t=new Gv;t.yi=[new Hv("body")];C={position:"relative",top:"0",left:"0",
right:"auto",display:"block",visibility:"visible"};for(n=0;p=aB[n];n++)C[p]=g[z.bb(p)];Fv(h,C,!0);h.ph=[t];l.push(h);g=[];p=l.length;for(n=0;n<p;n++){C=l[n];h=g;I=C.ph.length;t=!1;for(K=0;K<I;K++){R=C.ph[K].yi;Z=R.length;for(Ba=0;Ba<Z;Ba++)h.push(R[Ba].fG," ");K<I-1&&h.push(",");z.B&&!z.F("1.9a")&&(t=t||XA.test(R[Z-1].fG))}C=C.Mn;t&&(C=C.replace(YA,"$1 color: $2 ! important; "));h.push("{",C,"}\n")}this.ny=g.join("")}}d=new Nv(d,f+this.ny);c.ar&&(f=z.Ah(d.JV),(f.top||f.left||f.right||f.bottom)&&z.Tg(a,
"margin",-f.top+"px "+-f.right+"px "+-f.bottom+"px "+-f.left+"px"));Ov(c,b,d,a);tw(this);z.Tg(a,"visibility","visible")};z.e.jw=function(){z.Rc(this.LG);z.Rc(this.zQ);z.rw.o.jw.call(this)};var yx={};yx._default_={Jx:function(a){return window.$.get("/node/CommentV2",{params:{comment_id:a}})},wl:Bv,xl:Bv,add:function(a){return window.$.post("/node/AnswerCommentAddV2",{method:"add_comment",params:a})},remove:function(a){return window.$.post("/node/CommentV2",{method:"remove_comment",params:{comment_id:a}})},iz:function(a,b){return window.$.post("/node/CommentV2",{method:b?"like_comment":"undo_like_comment",params:{comment_id:a}})}};
yx.answer={wl:function(a,b){return window.$.get("/node/AnswerCommentBoxV2",{params:{answer_id:a,load_all:b}})},xl:function(a){return window.$.get("/node/AnswerCommentListV2",{params:{answer_id:a}})},add:function(a){return window.$.post("/node/AnswerCommentAddV2",{method:"add_comment",params:a})},vL:function(a,b){return window.$.post("/node/AnswerCommentV2",{method:"author_remove_comment",params:{comment_id:a,is_block:b}})}};
yx.question={wl:function(a){return window.$.get("/node/QuestionCommentBoxV2",{params:{question_id:a}})},xl:function(a){return window.$.get("/node/QuestionCommentListV2",{params:{question_id:a}})},add:function(a){return window.$.post("/node/QuestionCommentAddV2",{method:"add_comment",params:a})}};
yx.favlist={wl:function(a){return window.$.get("/node/FavlistCommentBoxV2",{params:{favlist_id:a}})},xl:function(a){return window.$.get("/node/FavlistCommentListV2",{params:{favlist_id:a}})},add:function(a){return window.$.post("/node/FavlistCommentAddV2",{method:"add_comment",params:a})}};
yx.post={Jx:function(a){return window.$.get("/node/PostCommentV2",{params:{comment_id:a}})},wl:function(a,b){return window.$.get("/node/PostCommentBoxV2",{params:{post_id:a,load_all:b}})},xl:function(a){return window.$.get("/node/PostCommentListV2",{params:{post_id:a}})},add:function(a){return window.$.post("/node/PostCommentV2",{method:"add_comment",params:a})},iz:function(a,b){return window.$.post("/node/PostCommentV2",{method:b?"like_comment":"undo_like_comment",params:{comment_id:a}})},remove:function(a){return window.$.post("/node/PostCommentV2",
{method:"remove_comment",params:{comment_id:a}})}};
yx.roundtable={Jx:function(a){return window.$.get("/roundtable/comments/"+a)},wl:function(a,b){return window.$.get("/node/RoundtableCommentBoxV2",{params:{roundtable_id:a,load_all:b}})},xl:function(a){return window.$.get("/roundtable/comments",{roundtable_id:a})},add:function(a){return window.$.post("/node/RoundtableCommentV2",{method:"add_comment",params:a})},iz:function(a,b){return window.$.post("/node/RoundtableCommentV2",{method:b?"like_comment":"undo_like_comment",params:{comment_id:a}})},remove:function(a){return window.$.post("/node/RoundtableCommentV2",
{method:"remove_comment",params:{comment_id:a}})}};z.w(z.uw,z.oc);vw.prototype.fill=function(a,b){this[a]=this[a].replace("?",b);return this};z.w(ww,z.H);ww.prototype.EC={question:"\u95ee\u9898",comment:"\u8bc4\u8bba",answer:"\u56de\u7b54",favlist:"\u6536\u85cf",member:"\u7528\u6237",message:"\u79c1\u4fe1",image:"\u56fe\u7247",video:"\u89c6\u9891",post:"\u6587\u7ae0"};ww.prototype.xw="report-dialog";ww.prototype.UG="loading";ww.prototype.SE='\x3cform\x3e\x3cdiv class\x3d"header"\x3e\x3c% if (headnote) { %\x3e\x3cspan class\x3d"headnote"\x3e\x3c%\x3dheadnote%\x3e\x3c/span\x3e\x3c% } %\x3e\x3cspan class\x3d"error-container"\x3e\x3c/span\x3e\x3c/div\x3e\x3cul class\x3d"options clearfix"\x3e\x3c% each(options, function(option) { %\x3e\x3cli\x3e\x3clabel\x3e\x3cinput value\x3d"\x3c%\x3doption.value%\x3e" name\x3d"reason" type\x3d"radio"\x3e\x3c%\x3doption.label%\x3e\x3c/label\x3e\x3c% if (option.description) { %\x3e\x3cdiv class\x3d"description visible-if-checked"\x3e\x3c%\x3doption.description%\x3e\x3c/div\x3e\x3c% } %\x3e\x3c% if (option.options) { %\x3e\x3cul class\x3d"group-options clearfix visible-if-checked"\x3e\x3c% each(option.options, function(opt) { %\x3e\x3cli\x3e\x3clabel\x3e\x3cinput required data-description\x3d"\x3c%\x3dopt.description%\x3e" value\x3d"\x3c%\x3dopt.value%\x3e" name\x3d"reason-\x3c%\x3doption.value%\x3e" type\x3d"radio"\x3e\x3c%\x3dopt.label%\x3e\x3c/label\x3e\x3c/li\x3e\x3c% }) %\x3e\x3c/ul\x3e\x3cdiv class\x3d"group-description visible-if-checked"\x3e\x3c/div\x3e\x3c% } %\x3e\x3c% if (option.value \x3d\x3d 0) { %\x3e\x3cp class\x3d"input-container visible-if-checked"\x3e\x3cinput placeholder\x3d"\u8bf7\u586b\u5199\u539f\u56e0" type\x3d"text" name\x3d"detail" class\x3d"reason-text zg-form-text-input"\x3e\x3c/p\x3e\x3cp class\x3d"error-container visible-if-checked"\x3e\x3c/p\x3e\x3c% } %\x3e\x3c/li\x3e\x3c% }) %\x3e\x3c/ul\x3e\x3cp class\x3d"footnote"\x3e\x3c/p\x3e\x3c/form\x3e';
ww.prototype.submit=Bv;z.e=ww.prototype;z.e.Dx=function(){return this.Nn};z.e.Uk=function(a,b){var c=new z.vi;z.ki(c,!0);c.Eg=!0;z.pi(c,z.fi());c.addEventListener(z.ri,this.VN,!1,this);z.dc(c,this);a&&c.kb(a);b&&c.ha(b);c.G(!0);c.ca();z.S.add(c.m(),this.xw);return this.Nn=c};z.e.VN=function(a){if("ok"===a.key)return(a=(0,window.$)("form",this.Nn.m()).valid())&&this.submit(),a};
z.e.open=function(a,b,c){var d=this.Uk(this.$E(a),this.$v());z.S.add(d.m(),this.UG);this.gF(a).then((0,z.r)(function(f){d.ha((0,z.Lp)(this.SE,{each:z.y.forEach,options:f,headnote:c}));z.S.remove(d.m(),this.UG);d.ca();z.yi(d,450);this.fN={type:a,id:b};this.$q(f)},this))};z.e.wF=function(){};
z.e.$q=function(a){var b=this,c=(0,window.$)(this.Nn.m()),d=(0,window.$)("form",c),f=(0,window.$)(".reason-text",c);c.on("change",":radio",function(g){g=(0,window.$)(g.target);c.find("li").removeClass("checked");g.parentsUntil(d,"li").addClass("checked");var h=this.value,l=z.y.find(a,function(a){return h===String(a.value)});b.wF(l);l="0"===h;f.toggle(l);l&&f.placeholder();g.closest("li").find("ul, :text").length||d.valid()});c.find("ul ul").on("change",":radio",function(a){(0,window.$)(a.delegateTarget).parent().find(".group-description").text((0,window.$)(this).data("description"))});
d.validate({rules:{reason:"required",detail:{rangelength:[2,100],required:function(){return!!(0,window.$)("input[name\x3dreason]:checked",c).length}}},messages:{reason:"\u8bf7\u9009\u62e9\u7406\u7531",detail:"\u7406\u7531\u4e3a 2-100 \u5b57"},errorLabelContainer:(0,window.$)(".error-container",d)})};z.e.$v=function(){return'\x3cdiv class\x3d"loading"\x3e\u7406\u7531\u52a0\u8f7d\u4e2d\x3ci class\x3d"spinner-gray"\x3e\x3c/i\x3e\x3c/div\x3e'};z.w(z.xw,ww);var iA=function(a){return function(b,c){return a(z.wa("/manage/%s/options?action\x3d%s",b,c))}}(tv(window.$.getJSON));z.e=z.xw.prototype;z.e.yC={remove:"\u5220\u9664",lock:"\u9501\u5b9a",unlock:"\u89e3\u9664\u9501\u5b9a",collapse:"\u6298\u53e0",uncollapse:"\u89e3\u9664\u6298\u53e0",mute:"\u9694\u79bb",unmute:"\u89e3\u9664\u9694\u79bb"};z.e.gF=function(a){return iA(a,this.tl())};z.e.Uk=function(a,b){var c=z.xw.o.Uk.call(this,a,b);c.vc.set("ok",this.yC[this.tl()]);return c};z.e.tl=function(){return(0,window.$)(this.Zv).data("op").split("-")[0]};
z.e.$E=function(a){return z.wa("\u786e\u5b9a\u8981%s\u8be5%s\uff1f",this.yC[this.tl()],this.EC[a]||"\u6761\u76ee")};z.e.YI=function(a){(0,window.$)(".footnote",this.Dx().m()).text(a)};z.e.wF=function(a){a&&(a.trackable?zw(this,a).then((0,z.r)(this.YI,this)):this.YI(""))};z.xw.prototype.submit=function(){var a=(0,window.$)(this.Zv).data(),b=a.action,a=a.content,c=(0,window.$)((0,window.$)("form",this.Nn.m())[0]).serialize();a&&(c+="\x26"+a);yw(b,c,this.Wk)};
z.xw.prototype.C=function(){this.Wk=this.Zv=null;z.xw.o.C.call(this)};z.xw.prototype.open=function(a,b,c){this.Zv=a;this.Wk=c||z.Rd.EX;z.xw.o.open.call(this,b.type,b.id,"")};z.w(Aw,z.yj);z.ca(Aw);Aw.prototype.R=function(){return"goog-menuheader"};z.w(Bw,z.Hj);z.Fj("goog-menuheader",function(){return new Bw(null)});z.w(Cw,z.yj);z.ca(Cw);z.e=Cw.prototype;z.e.Be=function(){return"menuitem"};z.e.B=function(a){var b=a.M().B("DIV",this.Ce(a).join(" "),Ew(this,a.hb(),a.M()));Gw(this,a,b,z.Bj(a,8)||z.Bj(a,16));return b};z.e.Y=function(a){return a&&a.firstChild};z.e.w=function(a,b){var c=z.Ve(b),d=Dw(this,2);c&&z.Fg(c,d)||b.appendChild(Ew(this,b.childNodes,a.M()));z.Fg(b,"goog-option")&&(a.Dp(!0),this.Dp(a,b,!0));return Cw.o.w.call(this,a,b)};
z.e.ha=function(a,b){var c=this.Y(a),d=Fw(this,a)?c.firstChild:null;Cw.o.ha.call(this,a,b);d&&!Fw(this,a)&&c.insertBefore(d,c.firstChild||null)};z.e.Hi=function(a,b,c){a&&b&&Gw(this,a,b,c)};z.e.Dp=function(a,b,c){a&&b&&Gw(this,a,b,c)};z.e.Vn=function(a){switch(a){case 2:return Dw(this,0);case 16:case 8:return"goog-option-selected";default:return Cw.o.Vn.call(this,a)}};
z.e.fs=function(a){var b=Dw(this,0);switch(a){case "goog-option-selected":return 16;case b:return 2;default:return Cw.o.fs.call(this,a)}};z.e.R=function(){return"goog-menuitem"};z.w(z.Hw,z.Hj);z.e=z.Hw.prototype;z.e.W=function(){var a=this.yz;return null!=a?a:this.Kg()};z.e.Da=function(a){this.yz=a};z.e.Rb=function(a,b){z.Hw.o.Rb.call(this,a,b);switch(a){case 8:this.Ug()&&!b&&this.vf(!1);var c=this.m();c&&this.N.Hi(this,c,b);break;case 16:(c=this.m())&&this.N.Dp(this,c,b)}};z.e.Hi=function(a){this.Rb(8,a)};z.e.Dp=function(a){this.Rb(16,a)};
z.e.Kg=function(){var a=this.hb();return z.ea(a)?(a=z.y.map(a,function(a){return z.$e(a)&&(z.Fg(a,"goog-menuitem-accel")||z.Fg(a,"goog-menuitem-mnemonic-separator"))?"":z.sf(a)}).join(""),z.Ca(a)):z.Hw.o.Kg.call(this)};z.e.mf=function(a){var b=this.getParent();if(b){var c=b.UH;b.UH=null;if(b=c&&z.ga(a.clientX))b=new z.oe(a.clientX,a.clientY),b=c==b?!0:c&&b?c.x==b.x&&c.y==b.y:!1;if(b)return}z.Hw.o.mf.call(this,a)};z.e.lf=function(a){return a.keyCode==this.xz&&this.Md(a)?!0:z.Hw.o.lf.call(this,a)};
z.e.AN=function(){return this.xz};z.Fj("goog-menuitem",function(){return new z.Hw(null)});z.Hw.prototype.ii=function(){return z.Bj(this,16)?"menuitemcheckbox":z.Bj(this,8)?"menuitemradio":z.Hw.o.ii.call(this)};z.Hw.prototype.getParent=function(){return z.Hj.prototype.getParent.call(this)};z.Hw.prototype.gi=function(){return z.Hj.prototype.gi.call(this)};z.w(z.Iw,z.yj);z.ca(z.Iw);z.Iw.prototype.B=function(a){return a.M().B("DIV",this.R())};z.Iw.prototype.w=function(a,b){b.id&&z.Rh(a,b.id);if("HR"==b.tagName){var c=b;b=this.B(a);z.Oe(b,c);z.O(c)}else z.Gg(b,this.R());return b};z.Iw.prototype.ha=function(){};z.Iw.prototype.R=function(){return"goog-menuseparator"};z.w(z.Jw,z.Hj);z.Jw.prototype.D=function(){z.Jw.o.D.call(this);z.xg(this.m(),"separator")};z.Fj("goog-menuseparator",function(){return new z.Jw});z.w(z.Kw,z.xn);z.ca(z.Kw);z.e=z.Kw.prototype;z.e.$b=function(a){return"UL"==a.tagName||z.Kw.o.$b.call(this,a)};z.e.Xn=function(a){return"HR"==a.tagName?new z.Jw:z.Kw.o.Xn.call(this,a)};z.e.Gf=function(a,b){return z.bf(a.m(),b)};z.e.R=function(){return"goog-menu"};z.e.He=function(a){z.Kw.o.He.call(this,a);z.yg(a.m(),"haspopup","true")};z.w(z.Lw,z.Jw);z.Fj("goog-menuseparator",function(){return new z.Jw});z.w(z.Mw,z.Ru);z.e=z.Mw.prototype;z.e.cn=!0;z.e.fL=!1;z.e.R=function(){return this.N.R()};z.e.Gf=function(a){if(this.N.Gf(this,a))return!0;for(var b=0,c=z.Uh(this);b<c;b++){var d=z.Vh(this,b);if("function"==typeof d.Gf&&d.Gf(a))return!0}return!1};z.e.Fa=function(a){this.L(a,!0)};z.e.Cf=z.k(62);z.e.removeItem=function(a){(a=this.removeChild(a,!0))&&a.H()};z.e.fi=function(a){return z.Vh(this,a)};z.e.Mg=z.k(65);z.e.eb=function(){var a=[];z.Wh(this,function(b){a.push(b)});return a};
z.e.setPosition=function(a,b){var c=this.T();c||z.P(this.m(),!0);z.bv(this.m(),a,b);c||z.P(this.m(),!1)};z.e.G=function(a,b,c){(b=z.Mw.o.G.call(this,a,b))&&a&&this.ua&&this.cn&&this.bc().focus();this.UH=a&&c&&z.ga(c.clientX)?new z.oe(c.clientX,c.clientY):null;return b};z.e.Xx=function(a){this.cn&&this.bc().focus();return z.Mw.o.Xx.call(this,a)};z.e.qD=function(a){return(this.fL||a.isEnabled())&&a.T()&&z.Bj(a,2)};
z.e.ga=function(a){var b=this.N,c;c=this.M();c=z.xe(c.Ka,"DIV",b.R()+"-content",a);for(var d=c.length,f=0;f<d;f++)z.yn(b,this,c[f]);z.Mw.o.ga.call(this,a)};z.e.lf=function(a){var b=z.Mw.o.lf.call(this,a);b||z.Wh(this,function(c){!b&&c.AN&&c.xz==a.keyCode&&(this.isEnabled()&&this.Ac(c),b=c.dc(a))},this);return b};z.e.Ab=function(a){z.Mw.o.Ab.call(this,a);(a=z.Vh(this,a))&&z.hh(a.m(),this.m())};z.w(z.Nw,z.Kq);z.Nw.prototype.Zn=function(){return this.No};z.Nw.prototype.Bm=function(a){this.No=a};z.Nw.prototype.ca=function(a,b,c,d){var f=z.Bl(this.element,this.If,a,b,null,c,10,d,this.bA);if(f&496){var g=Ow(f,this.If);b=Ow(f,b);f=z.Bl(this.element,g,a,b,null,c,10,d,this.bA);f&496&&(g=Ow(f,g),b=Ow(f,b),z.Bl(this.element,g,a,b,null,c,this.Zn(),d,this.bA))}};z.w(Pw,z.Nw);z.w(z.Qw,z.Ej);z.ca(z.Qw);z.e=z.Qw.prototype;z.e.B=function(a){var b={"class":"goog-inline-block "+this.Ce(a).join(" ")},b=a.M().B("DIV",b,this.Yi(a.hb(),a.M()));this.qc(b,a.Vf());return b};z.e.Be=function(){return"button"};z.e.Y=function(a){return a&&a.firstChild&&a.firstChild.firstChild};z.e.Yi=function(a,b){return b.B("DIV","goog-inline-block "+(this.R()+"-outer-box"),b.B("DIV","goog-inline-block "+(this.R()+"-inner-box"),a))};z.e.$b=function(a){return"DIV"==a.tagName};
z.e.w=function(a,b){Rw(b,!0);Rw(b,!1);var c;a:{c=a.M().cF(b);var d=this.R()+"-outer-box";if(c&&z.Fg(c,d)&&(c=a.M().cF(c),d=this.R()+"-inner-box",c&&z.Fg(c,d))){c=!0;break a}c=!1}c||b.appendChild(this.Yi(b.childNodes,a.M()));z.Hg(b,["goog-inline-block",this.R()]);return z.Qw.o.w.call(this,a,b)};z.e.R=function(){return"goog-custom-button"};z.w(z.Sw,z.Qw);z.ca(z.Sw);z.e=z.Sw.prototype;z.e.Y=function(a){return z.Sw.o.Y.call(this,a&&a.firstChild)};z.e.w=function(a,b){var c=z.we("*","goog-menu",b)[0];if(c){z.P(c,!1);z.ue(c).body.appendChild(c);var d=new z.Mw;d.w(c);a.rh(d)}return z.Sw.o.w.call(this,a,b)};z.e.Yi=function(a,b){return z.Sw.o.Yi.call(this,[this.createCaption(a,b),b.B("DIV","goog-inline-block "+(this.R()+"-dropdown"),"\u00a0")],b)};z.e.createCaption=function(a,b){return z.Tw(a,this.R(),b)};z.e.R=function(){return"goog-menu-button"};z.w(z.Uw,z.Oj);z.e=z.Uw.prototype;z.e.Vs=!1;z.e.zi=!1;z.e.ZT=!1;z.e.D=function(){z.Uw.o.D.call(this);Zw(this,!0);this.ka&&Yw(this,this.ka,!0);z.yg(this.h,"haspopup",!!this.ka)};z.e.Fb=function(){z.Uw.o.Fb.call(this);Zw(this,!1);if(this.ka){this.Bb(!1);this.ka.Fb();Yw(this,this.ka,!1);var a=this.ka.m();a&&z.O(a)}};z.e.C=function(){z.Uw.o.C.call(this);this.ka&&(this.ka.H(),delete this.ka);delete this.RS;this.na.H()};
z.e.fe=function(a){z.Uw.o.fe.call(this,a);this.Ub()&&(this.Bb(!this.ub(),a),this.ka&&(a=this.ub(),this.ka.rf=a))};z.e.mf=function(a){z.Uw.o.mf.call(this,a);this.ka&&!this.Ub()&&(this.ka.rf=!1)};z.e.Md=function(){this.setActive(!1);return!0};z.e.WN=function(a){this.ka&&this.ka.T()&&!this.Gf(a.target)&&this.Bb(!1)};z.e.Gf=function(a){return a&&z.bf(this.m(),a)||this.ka&&this.ka.Gf(a)||!1};
z.e.lf=function(a){if(32==a.keyCode){if(a.preventDefault(),"keyup"!=a.type)return!0}else if("key"!=a.type)return!1;if(this.ka&&this.ka.T()){var b=13==a.keyCode||32==a.keyCode,c=this.ka.dc(a);return 27==a.keyCode||b?(this.Bb(!1),!0):c}return 40==a.keyCode||38==a.keyCode||32==a.keyCode||13==a.keyCode?(this.Bb(!0,a),!0):!1};z.e.lo=function(){this.Bb(!1)};z.e.yO=function(){this.Ub()||this.Bb(!1)};z.e.Yc=function(a){this.Vs||this.Bb(!1);z.Uw.o.Yc.call(this,a)};
z.e.Va=function(){this.ka||this.rh(new z.Mw(this.M(),this.OQ));return this.ka||null};z.e.rh=function(a){var b=this.ka;if(a!=b&&(b&&(this.Bb(!1),this.ua&&Yw(this,b,!1),delete this.ka),this.ua&&z.yg(this.h,"haspopup",!!a),a)){this.ka=a;z.Sh(a,this);a.G(!1);var c=this.Vs;(a.cn=c)&&a.Qe(!0);this.ua&&Yw(this,a,!0)}return b};z.e.Fa=function(a){this.Va().L(a,!0)};z.e.Cf=z.k(61);z.e.removeItem=function(a){(a=this.Va().removeChild(a,!0))&&a.H()};z.e.fi=function(a){return this.ka?z.Vh(this.ka,a):null};
z.e.Mg=z.k(64);z.e.G=function(a,b){var c=z.Uw.o.G.call(this,a,b);c&&!this.T()&&this.Bb(!1);return c};z.e.Ya=function(a){z.Uw.o.Ya.call(this,a);this.isEnabled()||this.Bb(!1)};z.e.fJ=function(){this.Bb(!0)};
z.e.Bb=function(a,b){z.Uw.o.Bb.call(this,a);if(this.ka&&!!(this.O&64)==a){if(a){if(!this.ka.ua)if(this.zi){var c=z.cv(this.m());c?this.ka.tp(c.parentNode,c):this.ka.fa(this.m().parentNode)}else this.ka.fa();this.aK=z.fh(this.m());this.oD=z.qh(this.m());Xw(this);c=!!b&&(13==b.keyCode||32==b.keyCode);b&&(40==b.keyCode||38==b.keyCode)||c&&this.ZT?z.Du(this.ka):this.ka.Ab(-1)}else{this.setActive(!1);this.ka.rf=!1;if(c=this.m())z.yg(c,"activedescendant",""),z.yg(c,"owns","");null!=this.Jt&&(this.Jt=void 0,
(c=this.ka.m())&&z.mh(c,"",""))}this.ka.G(a,!1,b);if(!this.Yd){var c=this.v(),d=a?c.g:c.pa;d.call(c,this.M().sa(),"mousedown",this.WN,!0);this.Vs&&d.call(c,this.ka,"blur",this.yO);d.call(c,this.na,"tick",this.fm);a?this.na.start():this.na.stop()}}this.ka&&this.ka.m()&&this.ka.h.removeAttribute("aria-hidden")};
z.e.fm=function(){var a=z.qh(this.m()),b=z.fh(this.m()),c=this.oD;(c=!(c==a||c&&a&&c.left==a.left&&c.width==a.width&&c.top==a.top&&c.height==a.height))||(c=this.aK,c=!(c==b||c&&b&&c.top==b.top&&c.right==b.right&&c.bottom==b.bottom&&c.left==b.left));c&&(this.oD=a,this.aK=b,Xw(this))};z.e.ay=function(a){(a=a.target.m())&&$w(this,a)};z.e.qO=function(a){z.Bj(this,32)&&this.bc()&&this.ka&&this.ka.T()&&a.stopPropagation()};
z.e.hy=function(){if(!z.Eu(this.ka)){var a=this.m();z.yg(a,"activedescendant","");z.yg(a,"owns","")}};z.e.Ux=function(a){if(this.ub()&&a.target instanceof z.Hw){a=a.target;var b=a.m();a.T()&&a.O&2&&null!=b&&$w(this,b)}};z.Fj("goog-menu-button",function(){return new z.Uw(null)});z.w(z.ax,z.Q);var bx={question:"question_report",answer:"question_answer_report",post:"article_report",member:"member_report",comment:"comment_report",favlist:"favlist_report",message:"message_report"},gB=(0,z.r)(tv(function(a){return window.$.getJSON(z.wa("/report/%s/options",a))}),z.u);
z.ax.submit=function(a,b,c){b=window.$.extend({type:a,id:b},c);z.X.ya({type:"ga_click_report",data:{type:a}});window.$.post("/report",b).done(function(a){if(a.r)"duplicate_report"===a.errtype?z.T(a.msg,3E3,"\u91cd\u590d\u4e3e\u62a5"):z.T(a.msg);else if(a.noti){var b=z.Bi({title:"\u4e3e\u62a5\u6210\u529f\uff01",Yj:!0,content:'\x3cp\x3e\u60a8\u7684\u4e3e\u62a5\u6b63\u5728\u7b49\u5f85\u4eba\u5de5\u5ba1\u6838\uff0c\u6211\u4eec\u4f1a\u5728 24 \u5c0f\u65f6\u5185\u5ba1\u6838\u5b8c\u6210\x3c/p\x3e\x3cp\x3e\u5904\u7406\u5b8c\u6210\u540e\u4f1a\u300c\u79c1\u4fe1\u300d\u901a\u77e5\u60a8\x3c/p\x3e\x3cp\x3e\u60a8\u4e5f\u53ef\u4ee5\u8fdb\u5165 \x3ca href\x3d"/community/report"\x3e\u793e\u533a\u670d\u52a1\u4e2d\u5fc3\x3c/a\x3e \u67e5\u770b\u5b9e\u65f6\u5904\u7406\u8fdb\u5ea6\x3c/p\x3e\x3clabel class\x3d"modal-dialog-cancelNoti"\x3e\x3cinput type\x3d"checkbox" name\x3d"cancelNoti" /\x3e\u4e0d\u518d\u63d0\u9192\x3c/label\x3e',
className:"report-success-dialog",ca:!0,buttons:["\u77e5\u9053\u5566"]});b.v().g(b,z.dm,function(){(0,window.$)(z.ii(b)).find("input[name\x3dcancelNoti]")[0].checked&&window.$.post("/community/report/noti",{cancel:!0});return!0})}else z.T("\u60a8\u7684\u4e3e\u62a5\u6b63\u5728\u7b49\u5f85\u4eba\u5de5\u5ba1\u6838\uff0c\u6211\u4eec\u4f1a\u5728 24 \u5c0f\u65f6\u5185\u5ba1\u6838\u5b8c\u6210",2E3,"\u4e3e\u62a5\u6210\u529f\uff01")})};
z.ax.prototype.submit=z.vm(function(a){z.ax.submit(this.type,this.id,a)},function(){return{Ga:this.Nv,kd:!0}});z.ax.prototype.eJ=z.vm(function(){(new ex(this.type,this.id)).open(this.type,this.id);z.X.ya({type:"ga_click_report_box",data:{type:this.type}})},function(){return{Ga:this.Nv,kd:!0}});
z.ax.prototype.yP=function(){var a=this.dH,b=this.dH.Va();gB(this.type).then(function(c){window.$.each(c,function(a,c){var g=new z.Hw(c.label,{value:c.value,options:c.options});b.Fa(g)});Xw(a);(0,window.$)(b.m()).addClass("report-menu")});this.v().g(b,"show",z.vm(function(){z.X.ya({type:"ga_click_report_box",data:{type:this.type}})},{Ga:this.Nv,kd:!0})).g(b,"action",this.Px)};
z.ax.prototype.Px=function(a){var b=a.target.W().value;a=a.target.W().options;var c=this.type;0===b?(b=new ex(this.type,this.id),b.Uk("\u8bf7\u586b\u5199\u4f60\u7684\u4e3e\u62a5\u7406\u7531",'\x3cform\x3e\x3cp class\x3d"input-container"\x3e\x3ctextarea class\x3d"textarea" name\x3d"detail"\x3e\x3c/textarea\x3e\x3c/p\x3e\x3cp class\x3d"error-container"\x3e\x3c/p\x3e\x3cinput value\x3d"0" name\x3d"reason" type\x3d"hidden"\x3e\x3c/form\x3e'),b=(0,window.$)(b.Dx().m()),b=(0,window.$)("form",b),b.validate({rules:{detail:{rangelength:[2,
100],required:!0}},messages:{detail:"\u7406\u7531\u4e3a 2-100 \u5b57"},errorLabelContainer:(0,window.$)(".error-container",b)})):"member"===c&&10018!==b?(b='\x3cform\x3e\x3cp class\x3d"input-container"\x3e\x3cinput placeholder\x3d"\u586b\u5199\u8fdd\u89c4\u5185\u5bb9\u94fe\u63a5\u4f1a\u66f4\u5feb\u88ab\u7ba1\u7406\u5458\u5904\u7406" type\x3d"text" name\x3d"link" class\x3d"reason-text zg-form-text-input"\x3e\x3c/p\x3e\x3cp class\x3d"error-container"\x3e\x3c/p\x3e\x3cinput value\x3d"'+b+'" name\x3d"reason" type\x3d"hidden"\x3e\x3c/form\x3e',
(new ex(this.type,this.id)).Uk("\u8bf7\u586b\u5199\u4f60\u7684\u4e3e\u62a5\u7406\u7531",b)):"question"===c&&a?dx(this,a):z.ax.submit(c,this.id,{reason:b})};z.w(ex,ww);ex.prototype.gF=gB;ex.prototype.submit=function(){var a=(0,window.$)((0,window.$)("form",this.Nn.m())[0]).serializeArray(),a=z.y.reduce(a,function(a,c){c.value&&(a[c.name]=c.value);return a},{});z.ax.submit(this.type,this.id,a)};
ex.prototype.$E=function(a){return z.wa("\u4e3a\u4ec0\u4e48\u4e3e\u62a5\u8fd9\u4e2a%s\uff1f",this.EC[a]||"\u6761\u76ee")};z.w(fx,z.Q);z.e=fx.prototype;z.e.defaults={trigger:{A:"data-editable"},NK:"hc-actionbar",mQ:"checked",sU:100,iP:100};z.e.D=function(){fx.o.D.call(this);this.jn=z.N("div");window.document.body.appendChild(this.jn);gx(this,this.h)};z.e.Hx=function(){return this.nP};
z.e.NL=function(a,b,c){b=z.N("div",{title:a.V,"data-action":a.name,className:"button "+a.name+(0===b?" first":b===c.length-1?" last":"")},[z.N("i","icon icon-actionbar-"+a.name)]);z.vh(b,!0);this.v().g(b,"click",function(){hx(this,a.name)&&a.Ph(this.se)});return b};z.e.fa=function(){this.jn.innerHTML="";z.Me(this.jn,z.y.map(z.A.Ma(this.$m.Fu()),this.NL,this))};z.w(z.jx,z.Q);z.jx.prototype.defaults={NF:{},sL:!0};z.jx.prototype.D=function(){z.jx.o.D.call(this);var a=this,b=this.h;this.J.sL&&(this.Dq=wx(b));this.v().g(b,"paste",function(){(0,window.setTimeout)(function(){kx(a)})}).g(b,"keydown",this.aP)};
z.jx.prototype.aP=function(a){var b=z.Mg(a.keyCode),c=8===a.keyCode;if(!(a.ctrlKey||a.altKey||a.metaKey||!b&&!c)){var b=z.So(),d=b.Z(),f=b.ia(),g=this.h,h,l=nx(d,g,px)||f!==d&&(h||(h=nx(f,g,px)));if(l){var n=z.pf(l),p=b.ta(),t=b.La();if(l.getAttribute("data-editable")&&n===l.href||"video-link"===l.className){var C=!1;h=h||nx(f,g,px)||l;var g=l.contains(d),I=h.contains(f);if(c)g&&(d=l,p=0,C=!0),I&&(f=h,t=z.tu(h),C=!0),C&&z.Do(d,p,f,t).select();else if(g&&I&&h===l){if(!b.isCollapsed()||0!==p&&n.length!==
p)a.preventDefault(),z.xu(l)}else g&&(d=l.nextSibling,p=0,C=!0),I&&(f=h.previousSibling,t=z.tu(f),C=!0),C&&z.Do(d,p,f,t).select()}}}};var vx=/\b(?:(?:https?):\/\/|www\.)(?:\([\-A-Z0-9+&@#\/%=~_|$?!:,.]*\)|[\-A-Z0-9+&@#\/%=~_|$?!:,.])*(?:\([\-A-Z0-9+&@#\/%=~_|$?!:,.]*\)|[A-Z0-9+&@#\/%=~_|$])/ig,rx=["http:","https:"],sx=tv(function(a){return window.$.post("/scraper",{url:a})});z.w(z.xx,z.Q);z.e=z.xx.prototype;z.e.defaults={PG:!1,autofocus:!0,Rw:"empty",pf:"zm-item-comment"};z.e.ga=function(a){z.xx.o.ga.call(this,a);Qx(this);Ix(this);this.Ig=!0;z.y.forEach(Kx(this),this.Dt,this)};z.e.Mh="zm-comment-bubble";z.e.YC="."+z.xx.prototype.Mh;z.e.$=function(a){return(0,window.$)(a,this.h)};z.e.B=function(){this.h=z.N("div",{"class":this.AD,style:"display:none"});this.df()};z.e.Cn=function(){return'\x3ci class\x3d"icon icon-spike zm-comment-bubble"\x3e\x3c/i\x3e\x3cdiv class\x3d"zm-comment-spinner"\x3e\u6b63\u5728\u52a0\u8f7d\uff0c\u8bf7\u7a0d\u7b49 \x3ci class\x3d"spinner-lightgray"\x3e\x3c/i\x3e\x3c/div\x3e'};
z.e.C=function(){z.xx.o.C.call(this);this.Aa=this.GD=this.yn=this.PC=this.Ah=this.mA=this.QG=null};z.e.Qs=function(a){(a=a.m&&a.m())&&(new z.jx({NF:{image:z.m}})).w(a)};z.e.Ps=function(a,b){if(a.m){var c=(new z.bl).add("type",this.type+"_comment").add("resource_id",this.id),d=a.m(),c=new z.op(d,{Zm:{source:"/people/autocomplete?"+c.toString()},kk:z.M("zu-main")||window.document.body});new z.hp(d,{AA:z.yp});z.ha(b)&&b(c)}};
z.e.wU=zx(function(a){var b=z.M("zm-comment-content-wrap",a),c=z.M("zm-comment-form",a),d=a.getAttribute("data-id"),f=this,g;if(c){g=z.M("zm-comment-editable",c);if(z.sh(c)){if(z.av(c)){z.P(c,!1);return}}else z.P(c,!0);Gx(g)}else{c=Hx(b);g=z.M("zm-comment-editable",c);var h=new z.rw(g);h.Pd(!1,"");h.Le();this.Ps(h,function(){Gx(g)});this.Qs(h);a=z.M("zm-comment-close",c);b=z.M("zm-comment-submit",c);b.name="";var l=function(){var a=(0,z.Ya)(h.vl()),b=(0,z.Ya)(z.pf(g));a&&b?Sx(f,{content:a,AT:d},function(a){a.r||
(z.P(c,!1),h.Pd(!1,""),(a=z.y.vd(Kx(f)))&&z.ev(a,{offsetTop:100,Hv:!0}))}):(z.T("\u8bf7\u586b\u5199\u5185\u5bb9"),g.focus())};z.G(a,"click",function(){z.P(c,!1)});z.G(b,"click",l);z.G(g,"keydown",function(a){13===a.keyCode&&(a.ctrlKey||a.metaKey)&&(l(),a.preventDefault())})}z.ev(c,100)},"reply");z.e.su=function(a){z.S.enable(this.GD,"expanded",a)};z.e.Ki=function(a,b){this.dispatchEvent(new z.uw("click!comment",{category:"?",action:this.type+"_comments",label:"?_"+a,value:z.ga(b)?b:this.Qa()}))};
z.e.uj=function(){this.Ig?Ox(this):this.Mt=!0};z.e.HR=function(a){13===a.keyCode&&(a.ctrlKey||a.metaKey)&&(this.Gq(),(0,window.$)(this.Aa).blur(),a.preventDefault());27===a.keyCode&&Mx(this)};
z.e.Oa=function(a){var b=z.kn(this.h,a.target,"BUTTON")||z.kn(this.h,a.target);if(b&&b.name){var c=z.xf(b,this.J.pf);a.preventDefault();switch(b.name){case "reply_comment":this.wU(c);break;case "cancelanon":a=(0,window.$)(this.h).parents(".feed-item-hook").data("qid");z.Vu(0,null,a);break;case "delcomment":this.ls(b);break;case "like_comment":this.vO(b);break;case "author_delcomment":Ux(this,b);break;case "admin_delcomment":Tx(this,b);break;case "closeform":Mx(this);break;case "addnew":this.Gq();
break;case "load-more":this.Ki("comments_all"),this.QG(b)}}};
z.e.QG=function(a){this.mt&&"pending"===this.mt.state()||(a&&z.S.add(a,"loading"),this.mt=this.mA||this.RG(),this.mt.done((0,z.r)(function(b){b=(0,window.$)(b).filter(".zm-item-comment").get();if(b.length){var c=Kx(this);c.length&&(b=z.y.filter(b,function(a){return!z.y.find(c,function(b){return b.getAttribute("data-id")===a.getAttribute("data-id")})}),b=z.y.concat(c,b).sort(function(a,b){return a.getAttribute("data-id")-b.getAttribute("data-id")}),z.y.forEach(b,this.Dt,this),a&&z.O(a));z.Me(this.yn,
b)}},this)))};z.e.vO=zx(function(a){var b=(0,window.$)(a),c=z.xf(a,this.J.pf);a=(0,window.$)(".like-num",c);var d=c.getAttribute("data-id");(c=!b.hasClass("liked"))&&this.Ki("like_comment");this.xg.iz(d,c);var d=(0,window.$)("em",a),f=+d.text()+(c?1:-1);a.toggleClass("liked",c).toggleClass("nil",0>=f).attr("data-tip","s$r$"+f+" \u4eba\u89c9\u5f97\u8fd9\u4e2a\u5f88\u8d5e");d.text(f);b.toggleClass("liked",c);z.Vm(b[0],c?"\u53d6\u6d88\u8d5e":"\u8d5e")},"like");z.e.expand=function(){this.yd(!0)};
z.e.collapse=function(){this.yd(!1)};z.e.$c=function(){return this.Ig};
z.e.yd=function(a){if(a!==this.Ig){a&&(this.$(this.YC).hide(),this.df());this.Ig=a;this.dispatchEvent(a?"beforeexpand":"beforecollapse");z.P(this.h,this.Ig);var b=(0,z.r)(function(){a&&Nx(this);this.dispatchEvent(a?"expand":"collapse");this.rl&&!a&&(z.ap(this.rl),z.ev(this.rl.h))},this),c;a&&this.Mt?(c=Ox(this))&&c.done(b):(0,window.setTimeout)(b);this.Ah&&(a?(this.DS=z.pf(this.Ah),z.Vm(this.Ah,"\u6536\u8d77\u8bc4\u8bba")):z.Vm(this.Ah,0>this.Ja?this.DS:this.Ja?this.Ja+" \u6761\u8bc4\u8bba":"\u6dfb\u52a0\u8bc4\u8bba"))}};
z.e.kg=function(){this.yd(!this.Ig)};z.e.RG=function(){return this.xg.xl(this.id)};z.e.mu=function(a){this.An=a};z.e.tT=function(a){a=z.Je((0,z.Ya)(a));z.P(a,this.Ig);z.y.forEach((0,window.$)("."+this.J.pf,a).get(),this.Dt,this);this.Mt=!1;this.Fb();z.Re(a,this.h);this.h=a;Qx(this)};z.e.hb=function(){var a=(0,z.Ya)(this.jl.vl());return a===this.placeholder?"":a};
z.e.Gq=function(){var a=this.hb(),b=(0,z.Ya)(z.pf(this.Aa));a&&"TEXTAREA"===this.Aa.tagName&&b||a?Sx(this,a):(z.T("\u8bf7\u586b\u5199\u5185\u5bb9"),this.Aa.focus())};z.e.Qa=function(){return this.Ja};z.e.JN=function(a){if(a.r)return z.Fi("\u63d0\u793a\u4fe1\u606f",a.msg);this.xg.Jx(a.msg).done(window.$.proxy(this.uT,this));this.jl.Pd("");Fx(this);this.su(!1)};
z.e.Dt=function(a){if(z.Ms("auth_f_manage")&&"favlist"!==this.type&&!(0,window.$)(".del, .op.remove",a).length){var b=a.getAttribute("data-id");(0,window.$)("\x3ca\x3e",{href:"#",name:"admin_delcomment","class":"del zm-comment-op-link op needsfocus",html:'\x3ci class\x3d"zg-icon zg-icon-comment-del"\x3e\x3c/i\x3e\u5220\u9664',"data-op":"remove-comment","data-action":"/manage?"+window.$.param({comment_id:b,action:"remove_comment2"})}).appendTo((0,window.$)(".zm-comment-ft, .actions",a))}this.Gj(a)};
z.e.Gj=function(a){var b=(0,window.$)("a[name\x3dreport], button.report",a);b.length&&(a=a.getAttribute("data-id"),a=new z.ax("comment",a,{post:"article_comment_report",question:"question_comment_report",answer:"question_answer_comment_report"}[this.type]),z.cx(a,b[0]),z.dc(a,this))};z.e.uT=function(a){this.Qj="";a=z.Je(a);this.yn.appendChild(a);this.Dt(a);this.Ja+=1;Rx(this)};
z.e.ls=function(a){var b=z.xf(a,this.J.pf),c=b.getAttribute("data-id");z.Bi("\u5220\u9664\u8bc4\u8bba","\u4f60\u786e\u5b9a\u8981\u5220\u9664\u8fd9\u6761\u8bc4\u8bba\u5417\uff1f",function(a){a&&Wx(this,c,z.oa(z.O,b))},this)};z.e.df=function(){(0,window.$)(window).on("beforeunload.CommentForm",(0,z.r)(function(){if(this.Qj)return"\u4f60\u7684\u8bc4\u8bba\u8fd8\u672a\u4fdd\u5b58\uff0c\u786e\u8ba4\u79bb\u5f00\u8be5\u9875\u9762\u5417\uff1f"},this))};z.e.Lf=function(){(0,window.$)(window).off("beforeunload.CommentForm")};var hB=z.cs.nb,iB=/MicroMessenger/.test(window.navigator.userAgent);z.w($x,z.Q);z.e=$x.prototype;z.e.ga=function(a){$x.o.ga.call(this,a);a=this.Fh=(0,window.$)(a);iB?a.click(window.$.proxy(z.eu.show,z.eu)):hB?a.click(window.$.proxy(this.cJ,this)):this.Gb()};z.e.Gb=function(){by(this);this.Fh.one("mouseover focus",window.$.proxy(z.ui(this.US),this))};z.e.cJ=function(){this.Em||(this.Em=z.sv(this.ie,this.RJ));this.Em.then(function(a){z.Yx(a.msg.sina)})};
z.e.US=function(){this.Em||(this.Em=z.sv(this.ie,this.RJ));if(this.cH){var a="/qrcode?"+window.$.param({url:this.lU+"#showWechatShareTip"});(0,window.$)(".js-qrcode-image",this.cH.m()).attr("src",a)}};z.e.IN=function(a){a=a.target.W();0===a?this.cJ():2===a&&this.VX()};z.w(cy,z.Q);var dy={wg:"is-sticky",top:null,bottom:null,xb:null,VC:!1,PH:z.m,Et:z.m};z.e=cy.prototype;z.e.C=function(){this.stop();cy.o.C.call(this)};z.e.start=function(){this.state.Tl||(this.state.Tl=!0,(0,window.$)(window).on("scroll resize",this.xJ).trigger("scroll"))};z.e.stop=function(){this.state.Tl&&(this.state.Tl=!1,(0,window.$)(window).off("scroll resize",this.xJ),this.restore(),this.state.Us=!1,this.state.Ws=!0,(0,window.setTimeout)(function(){(0,window.$)(window).trigger("scroll")}))};
z.e.update=function(){if(this.state.Eo)this.state.hA=!0;else{var a=this.options.top,b=this.options.bottom,c=this.state.Us,d=this.state.Ws,f,g,h=(this.pc||this.h).getBoundingClientRect(),l=this.options.xb.getBoundingClientRect(),n=(0,window.$)(window).height();h.height||(h.height=h.bottom-h.top);null!==a?(f=h.top>a,g=l.bottom>a+h.height):null!==b&&(f=h.bottom>n-b,g=l.top>n-h.height-b);this.state.Us=f;this.state.Ws=g;if((c&&!d)===(f&&!g))f&&!g&&this.ca();else{if(d&&!g)return fy(this);if(!d&&g)return hy(this);
this.options.VC?f?fy(this):hy(this):f?ey(this):this.restore()}}};z.e.ca=function(){var a=(this.pc||this.h).getBoundingClientRect().left,b=this.options.top,c=this.options.bottom;(0,window.$)(this.h).css({left:a+"px",top:b?b+"px":"auto",bottom:c?c+"px":"auto"})};z.e.restore=function(){this.pc&&((0,window.$)(this.h).removeClass(this.options.wg).css({left:"",top:"",bottom:""}),(0,window.$)(this.pc).remove(),this.pc=null,this.options.Et.call(this))};
z.e.onAnimationEnd=function(){this.state.Eo=!1;this.state.hA&&(this.state.hA=!1,this.update())};z.w(z.iy,z.Q);z.e=z.iy.prototype;z.e.nl="zm-item-expanded";z.e.st="zm-item-meta";z.e.Rj=null;z.e.Fr="z-icon-fold";z.e.wu="sprite-global-icon-fold-white";z.e.D=function(){z.iy.o.D.call(this);var a=jy(this.h);this.Lb=a[this.entryType+"-id"];this.Hg=a[this.entryType+"-url-token"];this.Rr=a;this.kn();this.re();ny(this)};z.e.Wn=function(){var a=this.entryType+"-"+this.Lb;return(0,window.$)('a[name\x3d"'+a+'"]',this.h).length&&"#"+a};
z.e.kn=function(a){var b={".js-expand":this.expand,".js-collapse":this.collapse,'a[name\x3d"ignore"]':this.ps,".js-close":this.BF,".js-collect":this.vj,".js-hiderelated":this.AF,".js-toggle-commentbox":this.GF,".js-unhide":this.KF,'a[name\x3d"dislike"]':this.mF};z.A.extend(b,a||{});z.A.forEach(b,function(a,b){if(z.ha(a))(0,window.$)(this.h).on("click",b,window.$.proxy(a,this))},this);var c=(0,window.$)(".zm-meta-panel",this.h);z.A.forEach({'a[name\x3d"toggle-comment"]':function(a){this.GF(a);c.toggleClass("focusin",
this.qa.$c())}},function(a,b){c.on("click",b,window.$.proxy(a,this))},this)};z.e.GF=function(a){this.aq();this.qa.$c()&&(a=(0,window.parseInt)(z.pf(a.currentTarget),10)||0,this.qa.Ki("view_comments",a))};z.e.rz=function(){(0,z.uA)(this.entryType,this.Hg,"read")};z.e.Wj=function(){(0,z.uA)(this.entryType,this.Hg,"touch")};
z.e.expand=function(a){this.Mb||(this.Mb=!0,z.S.add(this.h,this.nl),z.zi||(0,window.setTimeout)((0,z.r)(this.zy,this)),this.dispatchEvent("expand"),a=a&&z.$e(a.target)&&z.Fg(a.target,"js-vote-count"),this.KB(a))};z.e.collapse=function(){this.Mb&&(this.Mb=!1,this.JB(),kv(this.h,(0,z.r)(function(){z.S.remove(this.h,this.nl);this.dispatchEvent("collapse")},this)))};z.e.$c=function(){return this.Mb};z.e.kg=function(){this.Mb?this.collapse():this.expand()};
z.e.zy=function(){if(!this.QM){this.QM=!0;var a=this,b=(0,window.$)(".js-collapse",this.h)[0];if(!b){if("answer"!==this.entryType)return;b=(0,window.$)(".zm-meta-panel",this.h);if(!b.length)return;b=(0,window.$)('\x3cbutton class\x3d"item-collapse js-collapse"\x3e\x3ci class\x3d"sprite-global-icon-fold-white"\x3e\x3c/i\x3e\u6536\u8d77\x3c/button\x3e').appendTo(b).on("click",(0,z.r)(this.collapse,this)).get(0)}var c=this.pJ=new cy(0,{bottom:12,xb:(0,window.$)(".js-collapse-body",this.h)[0],PH:function(){(0,window.$)("i",
this.h).removeClass(a.Fr).addClass(a.wu)},Et:function(){(0,window.$)("i",this.h).removeClass(a.wu).addClass(a.Fr)}});z.dc(this,c);c.w(b);this.g("expand",function(a){a.target===a.currentTarget&&c.start()});this.g("collapse",function(a){a.target===a.currentTarget&&c.stop()});c.start()}};
z.e.KB=function(a){var b="view_answer",c=ky(this);a=a?"vote_up_count":"expand_answer";var d=(0,window.$)(this.h).index()+1;if("feed"!==c)return z.fj(b,"click_expand_answer",c+"_"+a,d);-1<ly(this).indexOf("article")?(c="feed_article",b="view_article",a="expand_article"):c="feed_answer";z.fj(b,"click_expand_answer",c+"_"+my(this)+"_"+a,d)};
z.e.JB=function(){var a="view_answer",b=ky(this),c="collapse_answer",d;if(d=this.pJ)d=this.pJ,d=d.state.Us&&!d.state.Ws;d=d?"blue":"grey";var f=(0,window.$)(this.h).index()+1;if("feed"!==b)return z.fj(a,"click_collapse_answer",b+"_"+c+"_"+d,f);-1<ly(this).indexOf("article")?(b="feed_article",a="view_article",c="collapse_article"):b="feed_answer";z.fj(a,"click_collapse_answer",b+"_"+my(this)+"_"+c+"_"+d,f)};z.e.uS=function(){window.open(z.M(this.Rj,this.h).href)};
z.e.BF=function(){(0,window.$)(this.h).fadeOut(150,function(){(0,window.$)(this).remove()})};z.e.vj=z.m;z.e.ps=z.m;z.e.KF=z.m;z.e.AF=z.m;
z.e.mF=function(){var a=(0,window.$)(this.h),b=(0,window.$)(".feed-item-inner",a),c=(0,window.$)(".undo-dislike-options",a),d=c.data();c.off().one("click",".revert",function(){b.slideDown();c.slideUp();window.$.post("/topstory/item/uninterest/revert",d)}).one("click",".close",function(){a.slideUp(function(){a.remove()})});window.$.post("/topstory/item/uninterest",d).done(function(){b.slideUp();c.slideDown()})};
z.e.aq=function(){if(!this.qa){var a=(0,window.$)(".toggle-comment",this.h)[0];this.qa=new z.xx(this.Lb,this.entryType);this.L(this.qa);z.Ax(this.qa,z.M(this.st,this.h),a);Xx(this.qa);this.qa.mu(this.Wn())}this.qa.kg()};z.e.$x=function(){this.qa?this.qa.Aa.focus():this.aq()};
z.e.re=function(){this.Qd=z.vt.hK(this.h);z.Um(this.Qd.register("shift+o",this.uS,this),{group:"\u64cd\u4f5c",name:"\u65b0\u7a97\u53e3\u6253\u5f00\u6761\u76ee"});var a=(0,window.$)('a[name\x3d"dislike"], a[name\x3d"ignore"]',this.h);a.length&&z.Um(this.Qd.register("i g",function(){a.click()}),{group:"\u64cd\u4f5c",name:"\u4e0d\u611f\u5174\u8da3"})};z.oy.prototype={Lc:function(a){if(a)this.vD.push(a);else{var b={current:this.Wd,no:this.no(),xs:this.xs()};z.y.forEach(this.vD,function(a){(0,window.setTimeout)(function(){a.call(null,b)})})}},remove:function(a){a=this.items.indexOf(a);-1!==a&&(this.items.splice(a,1),py(this),this.Lc());return a},no:function(){return this.Wd<this.Ro},xs:function(){return 1!==this.Wd},next:function(){this.no()&&(this.Wd+=1,this.Lc())},prev:function(){this.xs()&&(--this.Wd,this.Lc())},random:function(a){if(this.Ro>=
2*this.fh){for(var b=[],c=1;c<this.Ro+1;c++)b.push(c);0!==a&&z.y.remove(b,this.Wd);0!==this.items.length%this.fh&&z.y.remove(b,this.Ro);this.Wd=b[Math.floor(Math.random()*b.length)]}else a===this.fh&&this.items.reverse(),this.Wd=1;this.Lc();return this.items.length>this.fh}};z.w(sy,z.iy);sy.prototype.D=function(){sy.o.D.call(this);"popular"===(0,window.$)(this.m()).data("ac-type")&&ty(this)};sy.prototype.mF=function(){var a=this,b=(0,window.$)(this.h);window.$.post("/actioncard/uninterest",{type:"popular_topics"},function(){b.slideUp(function(){a.H();b.remove()})})};z.w(uy,z.Jq);uy.prototype.ca=function(a,b,c,d){var f=fv(z.ue(a)),g=this.Vh.x+f.x,f=this.Vh.y+f.y,h=z.Cl(a),g=g-h.x,f=f-h.y;z.El(new z.oe(g,f),a,b,c,null,null,d)};z.w(vy,uy);vy.prototype.No=0;vy.prototype.Bm=function(a){this.No=a};vy.prototype.ca=function(a,b,c,d){var f=z.ch(a),f=z.fh(f),g;g=z.se(a);g=z.De(g.Ka);g=new z.oe(this.Vh.x+g.scrollLeft,this.Vh.y+g.scrollTop);var h=b,l=z.El(g,a,h,c,f,10,d);if(0!=(l&496)){if(l&16||l&32)h^=2;if(l&64||l&128)h^=1;l=z.El(g,a,h,c,f,10,d);0!=(l&496)&&z.El(g,a,b,c,f,this.No,d)}};z.w(z.wy,z.Mw);z.e=z.wy.prototype;z.e.YU=!1;z.e.CG=0;z.e.Kf=null;z.e.ga=function(a){z.wy.o.ga.call(this,a);(a=a.getAttribute("for")||a.htmlFor)&&this.attach(this.M().m(a),1)};z.e.D=function(){z.wy.o.D.call(this);this.zf.forEach(this.ZC,this);var a=this.v();a.g(this,"action",this.cR);a.g(this.M().sa(),"mousedown",this.AH,!0);z.E&&a.g(this.M().sa(),"contextmenu",this.AH,!0)};
z.e.attach=function(a,b,c,d,f){a&&this.zf.Vd(z.ja(a))||(a?(b={h:a,rJ:b,NQ:c,bx:d?"contextmenu":"mousedown",qz:f},this.zf.set(z.ja(a),b)):b=null,this.ua&&this.ZC(b),a=z.oa(this.LR,a),this.m()&&this.v().g(this.m(),"keydown",a))};z.e.LR=function(a,b){if(27==b.keyCode)a.focus();else{var c=z.Vh(this,this.Ta);if(c){var c=c.m(),d=new z.sc(b.lc,c);d.target=c;if(32==b.keyCode||13==b.keyCode)z.yc(c)?z.Wc(c,"keydown",!1,d):z.Tc(c,"keydown",!1,d);32==b.keyCode&&this.hide()}}};
z.e.ZC=function(a){this.v().g(a.h,a.bx,this.RH);"contextmenu"!=a.bx&&this.v().g(a.h,"keydown",this.iS)};z.e.detach=function(a){if(!a||!this.zf.Vd(z.ja(a)))throw Error("Menu not attached to provided element, unable to detach.");a=z.ja(a);if(this.ua){var b=this.zf.get(a);this.v().pa(b.h,b.bx,this.RH)}this.zf.remove(a)};z.e.fJ=function(a,b,c){b=z.ba(a.rJ)?new z.Nw(a.h,a.rJ,!0):new vy(b,c);b.Bm&&b.Bm(5);z.xy(this,b,a.NQ,a.qz,a.h)};
z.e.hide=function(){this.T()&&(this.G(!1),this.T()||(this.CG=(0,z.x)(),this.Kf=null))};z.e.Sy=function(){return this.T()||150>(0,z.x)()-this.CG};z.e.cR=function(){this.hide()};z.e.RH=function(a){yy(this,a)};z.e.iS=function(a){32!=a.keyCode&&13!=a.keyCode&&40!=a.keyCode||yy(this,a);40==a.keyCode&&z.Du(this)};z.e.AH=function(a){this.T()&&!this.Gf(a.target)&&this.hide()};z.e.Yc=function(a){z.wy.o.Yc.call(this,a);this.hide()};z.e.C=function(){z.wy.o.C.call(this);this.zf&&(this.zf.clear(),delete this.zf)};z.w(zy,z.zp);zy.prototype.Wh=function(){zy.o.Wh.call(this);this.$k.innerHTML="\u66f4\u65b0"};zy.prototype.ga=function(a){zy.o.ga.call(this,a);a=this.M();var b=a.B("strong",null,pv(this.IB));a.Co(b,this.Yb)};z.w(Ay,z.nk);var Cy=null;Ay.prototype.fa=function(a){this.h=z.N("div","zu-bio-editor-wrap",[this.HP=z.N("div","zu-bio-editor-inner-wrap"),this.wc=z.N("div","zm-command",[this.$k=z.N("a",{name:"save",href:"javascript:;",className:"zg-r3px zg-btn-blue"},"\u5b8c\u6210")])]);z.y.forEach(this.fl,function(a){a=new zy(a);a.fa(this.HP);this.items.push(a)},this);this.EP&&z.P(this.wc,!1);a.appendChild(this.h);this.v().g(this.wc,"click",this.Oa)};
Ay.prototype.zx=function(){var a=this.items.length,b;if(!a&&this.fl.length)for(b=0;b<this.fl.length;b++)if(this.fl[b][1])return this.fl[b][1];var c=null;for(b=0;b<a;b++)if(c=this.items[b].hb())return c};Ay.prototype.Oa=function(a){(a=this.Jg(a.target))&&"save"===a.name&&(this.xa&&this.xa.G(!1),this.dispatchEvent("change"))};z.w(z.Fy,z.nk);z.ca(z.Fy);z.e=z.Fy.prototype;
z.e.B=function(){this.UM=!0;this.h=z.N("div",null,[this.yQ=z.N("div",null,[this.Zg=z.N("div","zm-favo-list-content"),this.LC=z.N("div","zh-favo-add-new-wrap zm-command",this.CU=z.N("a",{"class":"zm-favo-dialog-create zg-left",href:"javascript:;"},"+ \u521b\u5efa\u6536\u85cf\u5939"),this.kw=z.N("a",{href:"javascript:;","class":"zg-btn-blue"},"\u5173\u95ed")),this.wv=z.N("div","zh-favo-add-new-wrap zm-command",this.gM=z.N("a",{href:"javascript:;","class":""},"\u53d6\u6d88"),this.DU=z.N("a",{"class":"zm-favo-dialog-create zg-btn-blue",
href:"javascript:;"},"\u521b\u5efa\u6536\u85cf\u5939"))]),this.wx=z.N("div",{"class":"zh-favo-add-form",style:"display:none"},[z.N("div",null,["\u6807\u9898",this.DB=z.N("span",{"class":"zh-favo-add-title-error"},"\u8bf7\u586b\u5199\u6807\u9898")]),z.N("div","zg-section",this.Sj=z.N("input",{"class":"zg-form-text-input"})),z.N("div",null,"\u63cf\u8ff0\uff08\u53ef\u9009\uff09"),z.N("div",{"class":"zg-section zg-form-text-input"},this.Wl=z.N("textarea",{"class":"zg-editor-input",style:"height:66px"})),
this.dT=z.N("label",null,[this.eQ=z.N("input",{type:"radio",checked:"checked",value:"public",name:"mode"}),z.N("strong",null," \u516c\u5f00 "),z.N("span","zg-gray-normal","\u516c\u5f00\u540e\u4e0d\u80fd\u8bbe\u7f6e\u4e3a\u79c1\u5bc6")]),this.pQ=z.N("br"),this.$S=z.N("label",null,[this.dQ=z.N("input",{type:"radio",value:"private",name:"mode"}),z.N("strong",null," \u79c1\u5bc6 "),z.N("span","zg-gray-normal","\u53ea\u6709\u4f60\u53ef\u4ee5\u67e5\u770b\u8fd9\u4e2a\u6536\u85cf\u5939")]),z.N("div","zm-command",
[this.Zw=z.N("label",{href:"javascript:;","class":"zh-favo-error-message-label zg-left"},""),this.qB=z.N("a",{href:"javascript:;","class":"zg-mr10"},"\u53d6\u6d88"),this.lr=z.N("a",{href:"javascript:;","class":"zg-mr10"},"\u5b8c\u6210"),this.uv=z.N("a",{"class":"zg-btn-blue"},"\u786e\u8ba4\u521b\u5efa")])])]);z.P(this.DB,!1);z.P(this.wv,!1);(new z.Bn(this.EB)).w(this.Sj);(new z.Bn(this.Iw)).w(this.Wl);z.y.forEach(this.jz,function(a){Hy(this,a)},this);this.jz.length||(this.Zg.innerHTML='\x3cdiv id\x3d"zh-fav-list-item-place-holder" class\x3d"zg-r5px zm-fav-list-item-place-holder"\x3e\u4f60\u53ef\u4ee5\u521b\u5efa\u591a\u4e2a\u6536\u85cf\u5939\uff0c\u5c06\u7b54\u6848\u5206\u7c7b\u6536\u85cf\x3c/div\x3e ',
z.P(this.wv,!0),z.P(this.LC,!1));Gy(this);this.xa.Y().innerHTML="";this.xa.Y().appendChild(this.h);this.xa.ca()};
z.e.hc=function(){this.JL||(this.JL=!0,this.v().g(this.qB,"click",function(){this.oa?z.Ly(this,0):Ny(this)}).g(this.CU,"click",function(){z.X.ya({type:"ga_click_add_collection"});z.Ly(this,1)}).g(this.kw,"click",function(){Ny(this)}).g(this.DU,"click",function(){z.X.ya({type:"ga_click_add_collection"});z.Ly(this,1)}).g(this.gM,"click",function(){Ny(this)}).g(this.lr,"click",function(){Ny(this)}).g(this.uv,"click",this.dh).g(this.Zg,"click",this.bS).g(this.Sj,"change",function(){z.P(this.DB,!1)}))};
z.e.bS=function(a){var b=z.vf(a.target,"A");if(b&&!this.locked){a=b.getAttribute("data-lid");var c=!1;z.S.has(b,"zm-favo-list-item-link-active")?(c=!0,this.YD=a):this.VD=a;b=new z.ln;b.add("answer_id",this.oa);b.add("favlist_id",a);this.MA=new z.U(!0);this.locked=!0;this.v().va(this.MA,"complete",this.bL);this.MA.ajax(c?"/collection/remove":"/collection/add",b.od())}};
z.e.bL=function(){this.locked=!1;this.kw.innerHTML="\u5173\u95ed";var a=z.ae(this.MA);a&&!a.r?(a=z.ye("zm-favo-list-item-link",this.Zg),z.y.forEach(a,function(a){var c=a.getAttribute("data-lid"),d=z.M("num",a),f=(0,window.parseInt)(d.innerHTML,10);c===this.YD?(d.innerHTML=f-1+"",z.S.remove(a,"zm-favo-list-item-link-active")):c===this.VD&&(d.innerHTML=f+1+"",z.S.add(a,"zm-favo-list-item-link-active"))},this),this.VD=this.YD=null,z.nn("Favorite","add_favorite")):z.T("\u6dfb\u52a0\u5931\u8d25: "+a.msg)};
z.e.ik=function(){this.hc();this.kw.innerHTML="\u5173\u95ed";this.oa?(z.P(this.lr,!1),z.Ly(this,0)):(z.Ly(this,1),z.P(this.qB,!1),this.lr.innerHTML="\u53d6\u6d88")};z.e.show=function(a){a?(z.Ky(this),this.xa.G(!0),this.ik()):(Gy(this,"\u6dfb\u52a0\u5230\u6536\u85cf\u5939",'\x3cdiv style\x3d"text-align: center; color: #999;"\x3e\u6536\u85cf\u5939\u52a0\u8f7d\u4e2d\x3ci class\x3d"spinner-gray"\x3e\x3c/i\x3e\x3c/div\x3e'),this.xa.G(!0),this.es())};
z.e.es=function(){this.oa&&window.$.get("/collections/json",{answer_id:this.oa}).done((0,z.r)(this.NR,this))};z.e.NR=function(a){a&&!a.r&&(this.jz=a.msg[0],this.jt=a.msg[1],z.Ky(this),this.ik())};
z.e.dh=function(){if(!this.xhr||!this.xhr.Ub()){(0,window.$)(this.Zw).text("").hide();var a=z.Ym(this.Sj.value);if(a&&a!==this.EB){a=z.My(this);this.oa&&a.add("answer_id",this.oa);if(this.Sl){if(this.CP.od()===a.od()){Ny(this);return}a.add("favlist_id",this.XD[0])}this.xhr=new z.U(!0);Py(this,this.xhr,this.uv,this.Sl);this.v().va(this.xhr,"complete",this.UK);this.xhr.ajax(this.Sl?"/collection/update":"/collection/create",a.od())}else z.P(this.DB,!0)}};
z.e.UK=function(){var a=z.ae(this.xhr);a&&!a.r?this.Sl?(Ny(this),z.T("\u7f16\u8f91\u6210\u529f"),(0,window.setTimeout)(function(){window.location.reload()},1E3),this.Sl=!1):this.oa?(z.P(this.wv,!1),z.P(this.LC,!0),z.Ly(this,0),this.jt.push(a.msg[0]),Hy(this,a.msg,!0),this.Sj.value="",this.Wl.value=""):(Ny(this),z.T("\u521b\u5efa\u6210\u529f"),(0,window.setTimeout)(function(){window.location.href="/collections/mine"},1E3)):Qy(this.Zw,this.Sl,a.msg)};z.e.T=function(){return this.xa.T()};var Oy="close";
z.Fy.prototype.df=function(){(0,window.$)(window).on("beforeunload.FavoDiag",(0,z.r)(function(){return"\u4f60\u5bf9\u6536\u85cf\u5939\u7684\u4fee\u6539\u8fd8\u672a\u4fdd\u5b58\uff0c\u786e\u8ba4\u79bb\u5f00\u8be5\u9875\u9762\u5417\uff1f"},this))};z.Fy.prototype.Lf=function(){(0,window.$)(window).off("beforeunload.FavoDiag")};var fz={aC:function(a,b){return window.$.post("/node/ColumnPostVoteBarV2",{method:b,params:{post_id:a}})},jF:function(a){return window.$.get("/node/ColumnPostVoteInfoV2",{params:{post_id:a}})}};z.w(z.Ry,z.Q);var Ty={qe:1,sg:-1,AC:0};z.Ry.prototype.defaults={pV:"up",WM:"down",wM:"count",Rt:"pressed"};z.A.extend(z.Ry.prototype,Ty);z.e=z.Ry.prototype;z.e.O=Ty.AC;
z.e.w=function(a){z.Ry.o.w.call(this,a);var b=this.J;a=this.K=(0,window.$)(a);this.lv=(0,window.$)("."+b.pV,a);this.dv=(0,window.$)("."+b.WM,a);this.gC=(0,window.$)("."+b.wM,a);b=this.lv.hasClass(this.J.Rt);a=this.dv.hasClass(this.J.Rt);b?this.O=Ty.qe:a&&(this.O=Ty.sg);Uy(this);this.lv.click(window.$.proxy(this.Hu,this));this.dv.click(window.$.proxy(this.Gu,this));return this};z.e.ee=function(){return this.O};
z.e.fc=z.vm(function(a){a!==this.O&&z.A.Hf(Ty,a)&&(this.dispatchEvent({type:"action",data:{state:a}}),this.Zh&&"pending"===this.Zh.state()&&this.Zh.abort(),Sy(this,this.O,a),this.O=a,Uy(this),this.LU().done((0,z.r)(function(a){a.r||this.Lc()},this)))},function(a){var b={};b[Ty.qe]="question_answer_vote_up";b[Ty.sg]="question_answer_vote_down";return{Ga:b[a],kd:!0}});z.e.track=function(a){a===Ty.qe?z.nn("vote","voteup","side_vote"):a===Ty.sg&&z.nn("vote","votedown","side_vote")};
z.e.LU=function(){var a={};a[Ty.qe]="vote_up";a[Ty.sg]="vote_down";a[Ty.AC]="vote_neutral";return this.Zh=("post"===this.entryType?fz.aC:gz.aC)(this.Lb,a[this.O])};z.e.Hu=function(){this.fc(this.O===Ty.sg?Ty.qe:this.O^Ty.qe)};z.e.Gu=function(){this.fc(this.O===Ty.qe?Ty.sg:this.O^Ty.sg)};z.e.Lc=function(){this.dispatchEvent("change")};z.w(Vy,z.H);var Xy={};Vy.prototype.defaults={};Vy.prototype.v=function(){return this.Og||(this.Og=new z.ad(this))};Vy.prototype.init=function(){};Vy.prototype.C=function(){Vy.o.C.call(this);this.view&&(z.A.remove(this.view.Nd,this.name),this.view=null);this.Og&&(this.Og.H(),this.Og=null)};z.w(z.Zy,z.Q);z.e=z.Zy.prototype;z.e.defaults={source:null,use:["autoload","shortcut"],ig:!0,rn:"zg-btn-white zu-button-more"};z.e.use=function(a,b){var c=Yy(a,b);c.view=this;this.ua?c.init(this):this.v().g(this,"initialized",function(){c.init(this)});this.Nd[a]=c;return this};z.e.Yi=function(){!this.Ud&&this.J.ig&&(this.Ud=this.dr(),z.Pe(this.Ud,this.h),this.v().g(this.Ud,"click",this.Xl))};
z.e.D=function(){z.Zy.o.D.call(this);this.Yi();z.y.forEach(this.eb(),this.vr,this);z.y.forEach(this.J.use,this.use,this);this.dispatchEvent("initialized")};z.e.C=function(){z.A.forEach(this.Nd,function(a){a.H()});this.Nd=null;z.Zy.o.C.call(this)};z.e.eb=function(){return z.Te(this.h)};z.e.vr=function(a,b){this.gk(a,b);this.dispatchEvent({type:"itemcreated",item:a,index:b})};z.e.gk=z.m;
z.e.JR=function(a){if(a){var b=a.results,c=!b||!b.length;c||this.fa(b);this.dispatchEvent("next");(c||!1===a.next)&&az(this)}};z.e.fa=function(a,b){a=window.$.isArray(a)?a.join(""):a;var c=z.Je(a+" ");z.y.forEach(window.$.makeArray(z.Te(c)),this.vr,this);z.Qe(this.h,c,b)};z.e.Xl=function(){if(!1!==this.dispatchEvent("beforeloadnext")&&"pending"!==this.promise.state())return this.dB(!0),this.promise=this.source().done((0,z.r)(this.JR,this)).always((0,z.r)(z.oa(this.dB,!1),this))};z.e.gf=function(){return this.Ud};
z.e.dr=function(){return z.N("a",{"aria-role":"button","class":this.J.rn},"\u66f4\u591a")};z.e.dB=function(a){this.Ud&&(this.Ud.innerHTML=a?'\x3ci class\x3d"spinner-gray"\x3e\x3c/i\x3e \u52a0\u8f7d\u4e2d':"\u66f4\u591a",z.S.enable(this.Ud,"loading",a))};var cz={s:function(a,b,c){return(0,window.isNaN)(c)||""==c||a.length>=c?a:a=-1<b.indexOf("-",0)?a+(0,z.ds)(" ",c-a.length):(0,z.ds)(" ",c-a.length)+a},f:function(a,b,c,d,f){d=a.toString();(0,window.isNaN)(f)||""==f||(d=(0,window.parseFloat)(a).toFixed(f));var g;g=0>a?"-":0<=b.indexOf("+")?"+":0<=b.indexOf(" ")?" ":"";0<=a&&(d=g+d);if((0,window.isNaN)(c)||d.length>=c)return d;d=(0,window.isNaN)(f)?Math.abs(a).toString():Math.abs(a).toFixed(f);a=c-d.length-g.length;0<=b.indexOf("-",0)?d=g+d+(0,z.ds)(" ",
a):(b=0<=b.indexOf("0",0)?"0":" ",d=g+(0,z.ds)(b,a)+d);return d},d:function(a,b,c,d,f,g,h,l){return cz.f((0,window.parseInt)(a,10),b,c,d,0,g,h,l)}};cz.i=cz.d;cz.u=cz.d;Wy("activeSource",{defaults:{PL:"%d \u6761\u65b0\u52a8\u6001",rn:"zu-main-feed-fresh-button",XX:z.m},init:function(a){this.data=[];this.button=this.dr();z.Oe(this.button,a.m());this.v().g(this.button,"click",function(){a.fa(this.data,0);this.setData([])});var b=this,c=this.options.source(function(a){a&&a.length&&b.setData(a.concat(b.data))},function(){return b.data});if(!c||!z.ha(c.H))throw Error("Source must return a disposable object.");this.TM=c},setData:function(a){this.data=a;this.tR()},tR:function(){var a=
this.data.length;z.hf(this.button,z.bz(this.options.PL,a));z.P(this.button,!!a)},dr:function(){return z.N("a",{href:"javascript:;",style:"display:none","class":this.options.rn})},H:function(){Vy.prototype.H.call(this);z.fc(this.TM);this.options=null;this.button&&(z.O(this.button),this.button=null)}});Wy("autoload",{defaults:{Mv:!0,viewport:window,TX:function(){return!0}},init:function(a){if(a.gf()&&(!this.options.Mv||z.V.Ga())){var b=this.options.viewport,c=new z.kj(b);z.dc(this,c);Uu(c,this,function(c){return z.sh(a.gf())?400>=(z.af(b)?a.gf().getBoundingClientRect().top-c.height:b.scrollHeight-b.scrollTop-c.height):!1});this.v().g(a,"complete",this.H).g(a,"next",function(){this.enable()});this.enable()}},enable:function(){this.v().va(this,"nearbottom",function(){this.view.Xl()})}});Wy("childConstructor",{defaults:{bl:null,factory:null},init:function(a){z.ha(this.options.bl)&&z.$y(a,this.sM,this);z.ha(this.options.factory)&&z.$y(a,this.bT,this)},sM:function(a){var b=new this.options.bl;this.view.L(b);b.w(a)},bT:function(a){var b=this.options.factory(a);this.view.L(b);b.w(a)}});Wy("dataPagingSource",{defaults:{wD:!0},init:function(a){var b=(0,window.$)(a.m()).data("paging").next;b||az(a);a.source=function(){return window.$.get(b).then(function(a){b=a.paging.next;return{results:a.htmls,next:!!b}})}}});Wy("expandLimit",{defaults:{bY:3},init:function(a){z.V.Ga()||this.v().g(a,"beforeloadnext",function(){var a=new z.tm;a.Ec="expand";a.G(!0);return!1})}});Wy("locationSource",{defaults:{Vl:20,param:null,Kt:!1,offset:function(a){return a.length}},init:function(a){function b(a){return{start:c.Kt?z.y.vd(a).id.split("-")[1]:0,offset:c.offset(a)}}var c=this.options,d=c.url||window.location.href,f=a.eb().length;(!f||f<c.Vl)&&az(a);a.source=function(){return window.$.post(d,(c.param||b)(a.eb())).then(function(b){if(!b.r){b=b.msg;var d=b[0];z.ga(d)&&d<c.Vl&&az(a);return{results:b[1]}}})}}});Wy("nodeSource",{defaults:{wD:!0},init:function(a){var b=(0,window.$)(a.m()).data("init");if(b){var c="/node/"+b.nodename,d=b.params,f=d.offset||0,b=d.limit,g=d.pagesize;this.options.wD&&b&&a.eb().length<b&&az(a);a.source=function(){return window.$.post(c,{method:"next",params:window.$.extend(d,{offset:f+a.eb().length})}).then(function(a){var b=!0;g&&!a.r&&a.msg.length<g&&(b=!1);return!a.r&&{results:a.msg,next:b}})}}}});Wy("shortcut",{defaults:{items:"\x3ediv"},init:function(a){a.eb().length&&(this.Wo=new z.yq(this.options),this.Wo.w(a.m()),this.v().g(this.Wo,"action",function(b){b.data.index>=b.data.size&&a.gf()&&z.sh(a.gf())&&a.gf().click()}))},H:function(){Vy.prototype.H.call(this);this.Wo&&(this.Wo.H(),this.Wo=null)}});z.w(z.dz,z.Zy);z.w(z.ez,z.Q);z.e=z.ez.prototype;z.e.Qa=function(){return this.Xm.data("votecount")};z.e.Lc=function(){this.dispatchEvent("change")};z.e.tp=function(a){if(a=(0,z.Ya)(a))a=(0,window.$)(a),this.Xm.replaceWith(a),this.Xm=a,this.hc(),this.Lc()};
z.e.hc=function(){function a(a,d){var f=z.N("div","zm-voters");a.appendChild(f);var g=z.N("div","listview");f.appendChild(g);var h=("post"===b.entryType?"/post/":"/answer/")+b.Lb+"/voters_profile",l=new z.dz({use:[],source:function(){return window.$.get(h).then(function(a){var c=a.paging;c&&(c.total&&(b.Xm.data("votecount",c.total),b.Lc()),h=c.next);return{results:a.payload,next:!!h}})}});l.w(g);l.gf().setAttribute("hidden","true");z.dc(d,l);l.v().va(l,"next",function(){l.eb().length?(l.gf().removeAttribute("hidden"),
l.use("autoload",{Mv:!1,viewport:f})):(l.H(),f.innerHTML='\x3cdiv class\x3d"empty-results"\x3e\u8fd8\u6ca1\u6709\u4eba\u8d5e\u540c\x3c/div\x3e')});return l.Xl()}var b=this;(0,window.$)("a.more",this.Xm).click(function(){var c=z.uv({Yj:!0,title:b.Qa()+" \u4eba\u8d5e\u540c",className:"zm-voters-dialog",rw:window.$.Deferred(function(b){(0,window.setTimeout)(function(){a(c.Y(),c).then(function(){b.resolve(null)})})}).promise()});c.v().g(b,"change",function(){c.kb(b.Qa()+" \u4eba\u8d5e\u540c")})})};
z.e.D=function(){this.Xm=(0,window.$)(this.h);this.hc()};z.w(iz,z.Cp);z.e=iz.prototype;z.e.D=function(){iz.o.D.call(this);this.ready(function(){if(this.Na&&this.Na.on)this.Na.on("load",this.By,!1,this)})};
z.e.By=function(){var a=new jz(this,!0);z.dc(this,a);this.v().g(a,jB,function(){var a=!this.Hd&&this.Na.hi("FullScreenPlugin");a&&a.$I();(0,window.$)(this.hr).text("\u4fdd\u5b58\u8349\u7a3f\u5e76\u79bb\u5f00");(0,window.$)(this.h).find(".zu-edit-button span").text("\u4fee\u6539\uff08\u6709\u672a\u53d1\u5e03\u7684\u7f16\u8f91\u8349\u7a3f\uff09")}).g(a,rz,function(){(0,window.$)(this.hr).text("\u53d6\u6d88");(0,window.$)(this.h).find(".zu-edit-button span").text("\u4fee\u6539")});var b=Pu(this);this.v().g(b,
"focus",function(){a.dd.start()}).g(b,"blur",function(){z.mz(a);this.vM!==this.hf()&&a.fu()}).g(this,"saveSuccess",function(){delete z.Cs.Td;z.mz(a);z.pz(a)}).g(this,"save_unchanged",function(){delete z.Cs.Td;z.mz(a);z.pz(a)});a.w(this.wc);z.Cs.Td&&z.Cs.Td[0]&&(0,window.$)(this.hr).text("\u4fdd\u5b58\u8349\u7a3f\u5e76\u79bb\u5f00")};
z.e.Wh=function(){this.wc=z.N("div","zm-command",[(0,window.$)('\x3cdiv class\x3d"draft-controls zg-left"\x3e\x3cspan class\x3d"draft-saved-info"\x3e\x3ca class\x3d"draft-clear-button goog-inline-block" href\x3d"#" data-tip\x3d"s$b$\u53d6\u6d88\u7f16\u8f91\u5e76\u5220\u9664\u8349\u7a3f"\x3e\x3ci class\x3d"zg-icon zg-icon-bin"\x3e\x3c/i\x3e\x3cspan class\x3d"hide-text"\x3e\u6e05\u9664\u8349\u7a3f\x3c/span\x3e\x3c/a\x3e\x3cspan class\x3d"draft-saved-time"\x3e\x3c/span\x3e\x3c/span\x3e\x3c/div\x3e')[0],this.hr=
z.N("a",{"class":"zm-command-cancel",name:"cancel",href:"#"},"\u53d6\u6d88"),this.$k=z.N("a",{"class":"zg-r3px zg-btn-blue",name:"save",href:"#"},"\u53d1\u5e03")]);this.Kb.appendChild(this.wc)};z.e.lx=function(){var a=this;window.$.get("/draft/get",{qid:this.yp},function(b){b.r||(a.ou(b.msg),a.vM=b.msg)})};
z.e.bF=function(){var a=[];if(!this.disabled){var b="\u4fee\u6539";z.Cs.Td&&z.Cs.Td[0]&&(b="\u4fee\u6539\uff08\u6709\u672a\u53d1\u5e03\u7684\u7f16\u8f91\u8349\u7a3f\uff09");a.push('\x3ca href\x3d"javascript:;" class\x3d"zu-edit-button" name\x3d"edit"\x3e\x3ci class\x3d"zu-edit-button-icon"\x3e\x3c/i\x3e\x3cspan\x3e'+b+"\x3c/span\x3e\x3c/a\x3e")}return a.join("")};z.w(jz,z.Q);var jB="saveContent",rz="clearContent";z.e=jz.prototype;z.e.C=function(){nz(this);this.dd.H();jz.o.C.call(this)};
z.e.w=function(a){this.h=a;this.Js=z.M("draft-saved-info",a);z.P(this.Js,!1);this.bG=z.M("draft-saved-time",a);this.eM=z.M("draft-clear-button",a);a=this.v().g(this.dd,"tick",this.fu).g(this.eM,"click",this.fM).g(this.Zr,"keydown",this.oQ);"oninput"in this.Zr&&!z.D?a.g(this.Zr,"input",this.JP):a.g(this.Zr,"keydown",this.KP);var b=z.Cs.Td&&1E3*z.Cs.Td[1];b&&(oz(this,b),this.CB=(0,window.setInterval)((0,z.r)(function(){oz(this,b)},this),22E3))};
z.e.oQ=function(a){(a.metaKey||a.ctrlKey)&&"s"===z.Nm[a.keyCode]&&(this.EQ(),this.isContentEditable||a.preventDefault())};z.e.Uw=function(){(0,window.$)(window).on("beforeunload.DraftSaver",(0,z.r)(function(){return"\u4f60\u7684\u4fee\u6539\u8fd8\u672a\u6210\u529f\u4fdd\u5b58\uff0c\u786e\u8ba4\u79bb\u5f00\u8be5\u9875\u9762\u5417\uff1f"},this))};z.e.Hr=function(){(0,window.$)(window).off("beforeunload.DraftSaver")};z.e.JP=function(){z.mz(this);kz(this)};
z.e.KP=function(a){z.Mg(a.keyCode)&&(z.mz(this),kz(this))};z.e.ha=function(a){this.wb.ha(a);this.wb.Ep()};z.e.hb=function(){return this.wb.hf()};z.e.MI=function(){if(!this.Yd){var a=this.hb();if(a){lz(this,"\u4fdd\u5b58\u4e2d\u2026");var a=(new z.bl).add("qid",this.la).add("content",a).add("timestamp",(0,z.x)()),b=new z.U;b.ajax("/answer/draft/save",a.toString(),"POST");this.v().g(b,"success",(0,z.r)(this.dh,this));this.GG=b}}};z.e.EV=150;z.e.fu=z.tn(jz.prototype.EV,jz.prototype.MI);z.e.FQ=350;
z.e.EQ=z.tn(jz.prototype.FQ,jz.prototype.MI);z.e.MP=3E3;z.e.IP=z.tn(jz.prototype.MP,function(){this.Yd||(this.hb()?this.fu():z.pz(this))});z.e.dh=function(a){a=z.ae(a.target);var b="",c=!1;0===a.r?b="\u5df2\u4fdd\u5b58":(b=a.msg||"\u4fdd\u5b58\u5931\u8d25\uff01\u8bf7\u7a0d\u540e\u518d\u8bd5\u3002",c=!0);nz(this);z.P(this.Js,!0);lz(this,b,c);this.Hr();"\u4fdd\u5b58\u6210\u529f"===a.msg&&this.dispatchEvent(jB);this.dd.start()};
z.e.fM=function(a){a.preventDefault();z.Bi("\u6e05\u9664\u8349\u7a3f",this.mG?"\u4f60\u786e\u5b9a\u8981\u6e05\u9664\u4fdd\u5b58\u7684\u8349\u7a3f\u5e76\u53d6\u6d88\u7f16\u8f91\u5417\uff1f":"\u4f60\u786e\u5b9a\u8981\u6e05\u9664\u4fdd\u5b58\u7684\u8349\u7a3f\u5417\uff1f",function(a){a&&(this.mG?(z.pz(this),this.wb.dispatchEvent("cancel_edit"),this.wb.Ii()):(this.ha(""),z.pz(this),Ou(this.wb)))},this)};var uz=z.ui(function(){var a=sz();(0,window.$)("body").append(a);return a});z.w(wz,z.Q);
wz.prototype.B=function(){wz.o.B.call(this);var a=(0,window.$)('\x3cdiv class\x3d"carousel"\x3e\x3cdiv class\x3d"carousel-navigation-btn"\x3e\x3cdiv class\x3d"carousel-left-btn copyright-ico-prev"\x3e \x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"carousel-content"\x3e\x3c/div\x3e\x3cdiv class\x3d"carousel-navigation-btn"\x3e\x3cdiv class\x3d"carousel-right-btn copyright-ico-next"\x3e \x3c/div\x3e\x3c/div\x3e\x3c/div\x3e');this.vQ=(0,window.$)(".carousel-left-btn",a);this.LT=(0,window.$)(".carousel-right-btn",a);
this.rD=(0,window.$)(".carousel-content",a);this.sD=(0,window.$)("\x3cdiv\x3e\x3c/div\x3e").addClass("carousel-navigation-dot-group");z.y.forEach(this.contents,function(a,c){this.rD.append(a);this.sD.append(this.Lr[c])},this);this.rD.append(this.sD);xz(this,0);this.ga(a[0]);this.K=(0,window.$)(this.h).addClass(this.className)};wz.prototype.D=function(){wz.o.D.call(this);this.vQ.click(window.$.proxy(this.prev,this));this.LT.click(window.$.proxy(this.next,this))};
wz.prototype.next=function(){xz(this,this.Cg+1)&&this.dispatchEvent({type:"rightShow",offset:this.Cg})};wz.prototype.prev=function(){xz(this,this.Cg-1)&&this.dispatchEvent({type:"leftShow",offset:this.Cg})};z.w(z.Az,z.Cp);z.e=z.Az.prototype;z.e.dF=function(){var a=z.we("h2","zm-editable-content",z.L("zh-question-title"))[0];return{title:a&&(/answer\/\d+$/.test(window.location.pathname)?z.pf(a):a.firstChild.nodeValue)||"",Ak:this.dj}};z.e.zx=function(){return this.mn};z.e.lu=function(a){this.tb=a};z.e.Ya=function(a,b){this.enabled=a;this.Rs?(this.Ii(),this.Sb=b,this.Yb.innerHTML=this.Sb):b&&(this.Sb=b)};z.e.ga=function(a){z.Az.o.ga.call(this,a);this.Rs=!0;z.S.add(this.Yb,"zu-answer-form-disabled-wrap")};
z.e.C=function(){this.Ms&&(z.O(this.Ms),this.YJ=this.Ms=null);z.Az.o.C.call(this)};z.e.uj=function(a){this.lu(a.tb);this.Mq&&(this.Mq.checked=a.tb)};z.e.D=function(){z.Az.o.D.call(this);this.v().g(z.vj,"anon_change",this.uj)};
z.e.Bg=function(){z.Az.o.Bg.call(this);var a=this.M(),b=z.V.Ga();this.Ms=a.B("div","zh-answer-form clearfix",[b?qv(this.XJ):"",this.YJ=a.B("div",null,[a.B("div","zu-answer-form-title",[b?ov(this.XJ):"\u6211\u6765\u56de\u7b54\u8fd9\u4e2a\u95ee\u9898",this.FL=a.B("span")])])]);Bz(this,this.mn);a.Co(this.Ms,this.dj);this.v().g(this.YJ,"click",this.Oa);z.V.Ga()?z.V.active||Cz(this,'\x3cdiv class\x3d"activate-mask-tip-answer"\x3e'+(z.V.Pr?"\u4e3a\u4e86\u6b63\u5e38\u4f7f\u7528\u77e5\u4e4e\u7684\u63d0\u95ee\u3001\u56de\u7b54\u3001\u8bc4\u8bba\u548c\u7f16\u8f91\u529f\u80fd\uff0c\u8bf7\u9a8c\u8bc1\u4f60\u7684\u90ae\u7bb1\u3002":
"\u4e3a\u4e86\u6b63\u5e38\u4f7f\u7528\u77e5\u4e4e\u7684\u63d0\u95ee\u3001\u56de\u7b54\u3001\u8bc4\u8bba\u548c\u7f16\u8f91\u529f\u80fd\uff0c\u8bf7\u7ed1\u5b9a\u4f60\u7684\u624b\u673a\u6216\u90ae\u7bb1\u3002")+"\x3c/div\x3e",'\x3cdiv class\x3d"zm-command"\x3e\x3ca class\x3d"zg-r3px zg-btn-blue" href\x3d"javascript:;"\x3e\u6211\u8981\u6fc0\u6d3b\x3c/a\x3e\x3c/div\x3e'):Cz(this,'\x3cdiv class\x3d"signin-mask-tip-answer"\x3e\x3c/div\x3e','\x3cdiv class\x3d"zm-command"\x3e\x3ca class\x3d"zg-r3px zg-btn-blue" href\x3d"javascript:;"\x3e\u6211\u8981\u56de\u7b54\x3c/a\x3e\x3c/div\x3e')};
z.e.ks=function(a){switch(a){case "edit_bio":a=By();if(!this.Sv){var b=z.Es.lb;a.hz=!0;a.wI=b;this.v().g(a,"change",this.Jz)}this.Sv=!0;Ey(a);break;case "cancel_delete":this.dispatchEvent("cancel_delete_answer");break;case "answer_my_question":Dz(this)}return!0};z.e.xe=function(){"editing"===this.status?this.Kb&&z.P(this.Kb,!0):this.Kb&&z.P(this.Kb,!1);z.P(this.ld,!1);this.Yb&&z.P(this.Yb,!this.enabled)};
z.e.lM='\x3cdiv class\x3d"zm-command clearfix"\x3e\x3clabel class\x3d"zg-left anno-box"\x3e\x3cinput name\x3d"anno-checkbox" type\x3d"checkbox"\x3e \u533f\u540d \x3cspan\x3e\x26nbsp;\x3c/span\x3e\x3c/label\x3e \x3clabel class\x3d"zg-left copyright-box"\x3e\x3cinput name\x3d"copyright-checkbox" type\x3d"checkbox"\x3e\u672a\u7ecf\u8bb8\u53ef\uff0c\u7981\u6b62\u8f6c\u8f7d'+(z.cs.nb?"":'\x3ca href\x3d"/terms#sec-licence-6" target\x3d"_blank"\x3e\x3ci class\x3d"zg-icon zg-icon-question-mark" style\x3d"margin-left: 5px;" id\x3d"copyright_question_mark" data-copyright-demo\x3d"true"\x3e\x3c/i\x3e\x3c/a\x3e')+
'\x3c/label\x3e \x3c% if (questionStatus !\x3d\x3d "normal") { %\x3e\x3cspan class\x3d"zg-gray-normal" style\x3d"margin-right:5px;"\x3e\u88ab\x3c%\x3d statusText %\x3e\u7684\u95ee\u9898\u4e0d\u5141\u8bb8\u6dfb\u52a0\u65b0\u7684\u56de\u7b54\x3c/span\x3e\x3ca class\x3d"zg-right" data-tip\x3d"s$b$\u4e3a\u4ec0\u4e48\u90e8\u5206\u95ee\u9898\u4f1a\u88ab\u300c\u5173\u95ed\u300d\u300c\u5efa\u8bae\u4fee\u6539\u300d\uff1f" href\x3d"/question/21290061 "\x3e\x3ci class\x3d"zg-icon zg-icon-question-mark"\x3e\x3c/i\x3e\x3c/a\x3e\x3c% } %\x3e\x3cspan class\x3d"\x3c%\x3d (questionStatus !\x3d\x3d "normal" ? "hidden" : "") %\x3e zg-right"\x3e\x3ca class\x3d"submit-button zg-btn-blue" name\x3d"save" href\x3d"javascript:;"\x3e\u53d1\u5e03\u56de\u7b54\x3c/a\x3e\x3c/span\x3e\x3cdiv class\x3d"draft-controls zg-right '+
(z.cs.nb?"draft-controls-mobile":"")+'"\x3e\x3cspan class\x3d"draft-saved-info"\x3e\x3ca class\x3d"draft-clear-button goog-inline-block" href\x3d"#" data-tip\x3d"s$b$\u5220\u9664\u8349\u7a3f"\x3e\x3ci class\x3d"zg-icon zg-icon-bin"\x3e\x3c/i\x3e\x3cspan class\x3d"hide-text"\x3e\u6e05\u9664\u8349\u7a3f\x3c/span\x3e\x3c/a\x3e\x3cspan class\x3d"draft-saved-time"\x3e\x3c/span\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e';
z.e.Wh=function(){var a=(0,z.Lp)(this.lM);this.wc=z.Je(a({questionStatus:z.Es.status,statusText:{suggest:"\u5efa\u8bae\u4fee\u6539",evaluate:"\u5efa\u8bae\u4fee\u6539",close:"\u5173\u95ed"}[z.Es.status]}));this.$k=(0,window.$)(".submit-button",this.wc)[0];Ez(this);this.PD=(0,window.$)("input[name\x3dcopyright-checkbox]",this.wc)[0];this.PD.checked=!this.tr;this.Kb.appendChild(this.wc);this.ready(function(){if(this.Na&&this.Na.on)this.Na.on("load",this.By,!1,this)});z.cs.nb||zz()};
z.e.By=function(){var a=new jz(this);z.dc(this,a);this.v().g(a,jB,function(){var a=!this.Hd&&this.Na.hi("FullScreenPlugin");a&&a.$I()},!1,this);var b=Pu(this);this.v().g(b,"focus",function(){a.dd.start()}).g(b,"blur",function(){z.mz(a);a.fu()}).g(this,"saveSuccess",function(){z.mz(a);z.pz(a)});a.w(this.wc);this.tE=a};z.e.Jz=function(){var a=By().zx();a&&Bz(this,a)};Fz.prototype.Gb=function(){var a=[this.K.get(0)].concat(this.K.parents().get()),b=window.$.map(a,function(a){return(0,window.$)(a).data("navigable")})[0];this.XQ=b&&window.$.grep(b.items(),function(b){return~window.$.inArray(b,a)})[0]};Fz.prototype.getItem=function(){return this.XQ};z.w(Gz,Cw);z.ca(Gz);Gz.prototype.B=function(a){var b=Gz.o.B.call(this,a);z.Gg(b,"goog-submenu");Hz(this,a,b);return b};Gz.prototype.w=function(a,b){b=Gz.o.w.call(this,a,b);z.Gg(b,"goog-submenu");Hz(this,a,b);var c=z.we("DIV","goog-menu",b);if(c.length){var d=new z.Mw(a.M()),c=c[0];z.P(c,!1);a.M().sa().body.appendChild(c);d.w(c);a.rh(d,!0)}return b};Gz.prototype.ha=function(a,b){var c=this.Y(a),d=c&&c.lastChild;Gz.o.ha.call(this,a,b);d&&c.lastChild!=d&&z.Fg(d,"goog-submenu-arrow")&&c.appendChild(d)};
Gz.prototype.He=function(a){Gz.o.He.call(this,a);var b=a.Y(),c=a.M(),c=z.xe(c.Ka,"SPAN","goog-submenu-arrow",b)[0];Iz(a,c);c!=b.lastChild&&b.appendChild(c);z.yg(a.m(),"haspopup","true")};z.w(z.Jz,z.Hw);var hA=218;z.e=z.Jz.prototype;z.e.Xd=null;z.e.eB=null;z.e.uz=!1;z.e.rc=null;z.e.Xr=!1;z.e.Kq=!0;z.e.cQ=!1;z.e.D=function(){z.Jz.o.D.call(this);this.v().g(this.getParent(),"hide",this.KH);this.rc&&Nz(this,this.rc,!0)};z.e.Fb=function(){this.v().pa(this.getParent(),"hide",this.KH);this.rc&&(Nz(this,this.rc,!1),this.Xr||(this.rc.Fb(),z.O(this.rc.m())));z.Jz.o.Fb.call(this)};z.e.C=function(){this.rc&&!this.Xr&&this.rc.H();this.rc=null;z.Jz.o.C.call(this)};
z.e.Ac=function(a,b){z.Jz.o.Ac.call(this,a);b&&(this.Va().rf=!0);a||(this.Xd&&z.$c(this.Xd),this.Xd=z.Zc(this.Dg,hA,this))};z.e.tu=function(){var a=this.getParent();a&&z.Eu(a)==this&&(Mz(this,!0),Lz(this))};z.e.Dg=function(){var a=this.rc;a&&a.getParent()==this&&(Mz(this,!1),z.Wh(a,function(a){"function"==typeof a.Dg&&a.Dg()}))};z.e.G=function(a,b){var c=z.Jz.o.G.call(this,a,b);c&&!this.T()&&this.Dg();return c};
z.e.dc=function(a){var b=a.keyCode,c=this.Jd()?37:39,d=this.Jd()?39:37;if(!this.uz){if(!this.isEnabled()||b!=c&&b!=this.xz)return!1;this.tu();z.Du(this.Va());Kz(this)}else if(!this.Va().dc(a))if(b==d)this.Dg();else return!1;a.preventDefault();return!0};z.e.qR=function(){this.rc.getParent()==this&&(Kz(this),this.gi().Ac(this),Lz(this))};z.e.KH=function(a){a.target==this.gi()&&(this.Dg(),Kz(this))};z.e.rd=function(a){this.isEnabled()&&(Kz(this),this.eB=z.Zc(this.tu,hA,this));z.Jz.o.rd.call(this,a)};
z.e.Md=function(a){Kz(this);if(z.Bj(this,8)||z.Bj(this,16))return z.Jz.o.Md.call(this,a);this.tu();return!0};z.e.Fa=function(a){this.Va().L(a,!0)};z.e.Cf=z.k(60);z.e.removeItem=function(a){(a=this.Va().removeChild(a,!0))&&a.H()};z.e.fi=function(a){return z.Vh(this.Va(),a)};z.e.Mg=z.k(63);z.e.eb=function(){return this.Va().eb()};z.e.Va=function(){this.rc?this.Xr&&this.rc.getParent()!=this&&z.Sh(this.rc,this):this.rh(new z.Mw(this.M()),!0);this.rc.m()||this.rc.B();return this.rc};
z.e.rh=function(a,b){var c=this.rc;a!=c&&(c&&(this.Dg(),this.ua&&Nz(this,c,!1)),this.rc=a,this.Xr=!b,a&&(z.Sh(a,this),a.G(!1,!0),a.cn=!1,a.Qe(!1),this.ua&&Nz(this,a,!0)))};z.e.Gf=function(a){return this.Va().Gf(a)};z.Fj("goog-submenu",function(){return new z.Jz(null)});z.w(Oz,z.Jz);Oz.prototype.dc=function(a){var b=Oz.o.dc.call(this,a);a=(0,window.parseInt)(z.Nm[a.keyCode],10);(0,window.isNaN)(a)||this.Va().Ab(a-1);return b};z.w(z.Pz,z.Q);var Qz={tJ:"textarea.content",OL:".toggle-expand",JU:".summary",qw:"zm-editable-content"};z.e=z.Pz.prototype;
z.e.D=function(){z.Pz.o.D.call(this);var a=this.h;this.Bq=(0,window.$)(this.options.tJ,a);this.content=this.Bq.is(":input")?this.Bq.val():this.Bq.html();this.Ik=(0,window.$)(this.options.JU,a);this.Te=(0,window.$)("."+this.options.qw+":not(script)",a);this.gd=(0,window.$)(this.options.OL,this.Ik);if(!this.Ik.length)return this.dispatchEvent("invalid");this.tG=!!this.gd.length;this.gd.on("click",(0,z.r)(this.NN,this));this.Ik.on("click",(0,z.r)(this.OO,this))};
z.e.NN=function(a){a.preventDefault();Rz(this)};z.e.OO=function(a){var b=z.So();b&&b.cc()||a.target===this.gd[0]||(b=(0,window.$)(a.target).closest("a").get(0),b&&"javascript:"!==b.protocol||(a.preventDefault(),Rz(this)))};z.e.expand=function(){this.Te.length||(this.Te=(0,window.$)("\x3cdiv\x3e").html(this.content).addClass(this.options.qw).insertBefore(this.Bq));this.Ik.hide();this.Te.show();this.dispatchEvent("expand")};z.e.collapse=function(){this.Ik.show();this.Te.hide();this.dispatchEvent("collapse")};z.w(z.Sz,z.Q);z.Sz.prototype.ga=function(a){z.Sz.o.ga.call(this,a);this.v().g(a,"click",this.xS)};z.Sz.prototype.NM=function(){var a=this.bC;z.Re(a.m(),this.bK);z.S.remove(a.m(),this.oq)};z.Sz.prototype.tQ='\x3cdiv class\x3d"text zg-clear"\x3e\x3clabel class\x3d"zg-left"\x3e\u8d5e\u540c\x3c/label\x3e\x3clabel class\x3d"zg-right"\x3e\u53cd\u5bf9\x3c/label\x3e\x3c/div\x3e';
z.Sz.prototype.xS=z.vm(function(){this.Eb&&this.Eb.H();var a=new z.vi(null,!1);a.Eg=!0;a.sk(!0);a.QE=!0;Tz(this);this.v().va(a,"hide",this.NM);var b=a.Y();b.appendChild(this.bC.m());b.appendChild(z.Je(this.tQ));z.S.add(a.m(),this.Lw);a.G(!0);this.Eb=a;z.dc(this,a)},!0);z.w(z.Uz,z.Q);var Vz={la:null,oa:null,lE:!1,yr:z.Es,Nj:!1,nl:"zm-item-expanded",GX:z.m,FX:z.m},pA={all_can_comment:"\u5141\u8bb8\u4efb\u4f55\u4eba\u8bc4\u8bba",followee_can_comment:"\u5141\u8bb8\u6211\u5173\u6ce8\u7684\u4eba\u8bc4\u8bba",nobody_can_comment:"\u5173\u95ed\u8bc4\u8bba"};z.e=z.Uz.prototype;z.e.Wn=function(){return"#answer-"+this.oa};z.e.Gj=function(){var a=(0,window.$)("a[name\x3dreport]",this.Qb);if(a.length){var b=new z.ax("answer",this.oa);z.cx(b,a[0]);z.dc(b,this)}};
z.e.Hj=function(){var a=(0,window.$)("a[name\x3dshare]",this.Qb).get(0),b=(0,window.$)(".answer-date-link",this.Qb).get(0)||(0,window.$)(this.Qb).closest(".feed-item, .zm-item").find(".question_link").get(0);a&&b&&(b=b.href,/\/answer\//.test(b)||(b=b.replace(/#answer-\d+/,"")+"/answer/"+this.lb),z.Zx(a,"answer",this.lb,b))};z.e.expand=function(){this.Mb||(this.Mb=!0,this.options.Nj||(z.S.add(this.h,this.options.nl),this.KB()),this.dispatchEvent("expand"))};
z.e.collapse=function(){if(this.Mb){this.Mb=!1;if(this.options.Nj)return this.dispatchEvent("collapse");this.JB();kv(this.h,(0,z.r)(function(){z.S.remove(this.h,this.options.nl);this.dispatchEvent("collapse")},this))}};
z.e.zy=function(){if(z.zi||this.options.Nj||this.options.lE?0:1<(0,window.$)(".js-collapse-body",this.h)[0].offsetHeight/z.bt.size.height){var a=(0,window.$)('\x3cbutton class\x3d"item-collapse js-collapse"\x3e\x3ci class\x3d"sprite-global-icon-fold-white"\x3e\x3c/i\x3e\u6536\u8d77\x3c/button\x3e').appendTo((0,window.$)(".zm-meta-panel",this.Qb)).on("click",(0,z.r)(this.collapse,this)).get(0),b=new cy(0,{bottom:12,VC:!0,xb:(0,window.$)(".js-collapse-body",this.h)[0]});z.dc(this,b);b.w(a);this.g("expand",
function(a){a.target===a.currentTarget&&b.start()});this.g("collapse",function(a){a.target===a.currentTarget&&b.stop()});b.start()}};z.e.KB=function(){z.fj("view_answer","click_expand_answer","answer_box_expand_answer")};z.e.JB=function(){z.fj("view_answer","click_collapse_answer","answer_box_collapse_answer")};z.e.rz=function(){(0,z.uA)("answer",this.lb,"read")};z.e.Wj=function(){(0,z.uA)("answer",this.lb,/^\/question\//.test(window.location.pathname)?"read":"touch")};
z.e.D=function(){z.Uz.o.D.call(this);Xz(this);this.Df=z.M("zm-item-answer-author-info",this.h);Yz(this);this.Qb=this.Qb||z.M("zm-item-meta",this.h);(this.ti=z.M("zm-meta-panel",this.Qb))&&this.v().g(this.ti,"click",this.hp);if(this.Me)lA(this),this.Df&&(this.WH=(this.tb=z.Qa(this.Df.innerHTML,"\u533f\u540d\u7528\u6237"))?null:this.Df.innerHTML.replace(/src=".+?"/g,'src\x3d"'+z.V[2]+'"'),this.v().g(this.Df,"click",function(a){"cancel-anon"===a.target.name&&z.Vu(!1)}));else{this.Gy();var a=(0,window.$)(".zm-item-rich-text",
this.h);if(this.tr){var b=a.data("entryUrl"),c=a.data("authorName");z.vz(a,b,c)}else(b=(0,window.$)(".copyright",this.Qb).data("author-avatar"))&&a.length&&z.tz(a,b)}$z(this);this.Ij();(0,window.$)(this.h).on("contentchange",window.$.proxy(this.Ij,this));this.hc();kA(this);this.Gj();this.Hj();z.zi&&!z.Ai&&aA(this);(0,window.setTimeout)((0,z.r)(this.zy,this))};z.e.Kp=function(a){var b=this.Ij();b&&z.$o(b,a)};
z.e.Gy=function(){var a=z.M("zm-votebar",this.h)||z.M("zm-votebar",this.ti);if(a){var b=new z.Ry(this.oa);b.w(a);this.rb=b;this.v().g(b,"change",this.oT).g(b,"action",function(a){a.data.state===Ty.qe?z.X.ya({type:"ga_click_vote_up",target:this}):a.data.state===Ty.sg&&z.X.ya({type:"ga_click_vote_down",target:this})});(a=z.M("votenum-mobile",this.ti))&&(new z.Sz(b)).w(a)}};
z.e.Ij=function(){if(this.Dh)return this.Dh;var a=z.M("zm-editable-content",this.h),b=this.rb&&this.rb.m();!this.Me&&!z.zi&&b&&(0,window.$)(b).is(":visible")&&a&&230<(0,window.$)(a).height()&&(a=this.Dh=new z.ep(null,a),this.L(a),a.tag="votebar",a.cA=50,a.w(b))};z.e.oT=function(){this.Bk&&z.hz(this.Bk)};
z.e.hc=function(){this.Df&&this.v().g(this.Df,"click",this.Oa);this.Me&&(this.tL=z.V);this.v().g(z.vj,"anon_change",function(a){this.Me?this.lu(a.tb):this.rb.ee()===Ty.qe&&z.hz(this.Bk)});bA(this);(0,window.$)(this.h).on("focusin focusout",function(a){(0,window.$)(this).toggleClass("focusin","focusin"===a.type)})};z.e.Jg=function(a){return z.kn(this.h,a)};
z.e.Oa=function(a){if(a=(a=this.Jg(a.target))&&a.name)if("edit"===a){a=By();if(!this.Sv){var b=z.Es.lb;a.hz=!0;a.wI=b;this.v().g(a,"change",this.Jz)}this.Sv=!0;Ey(a)}else"complex"===a&&(a=z.M("zm-item-answer-summary",this.h),b=z.M("zm-item-rich-text",this.h),z.P(a,!1),z.P(b,!0))};z.e.Jz=function(){var a=By().zx()||z.V[4]||"";if(a){var b=z.M("bio",this.Df);b.title=a;b.innerHTML=a}};
z.e.lu=function(a){a?this.Df.innerHTML='\u533f\u540d\u7528\u6237\x3ca class\x3d"zg-link-gray cancel-anon" href\x3d"javascript:void(0);" name\x3d"cancel-anon"\x3e\u53d6\u6d88\u533f\u540d\x3c/a\x3e':this.Me&&(this.WH?this.Df.innerHTML=this.WH+'\x3ca name\x3d"edit" class\x3d"zu-edit-button" href\x3d"javascript:;"\x3e\x3ci class\x3d"zu-edit-button-icon"\x3e\x3c/i\x3e\u4fee\u6539\u8bdd\u9898\u7ecf\u9a8c\x3c/a\x3e':(a=[],a.push(mv()),a.push(z.nv(z.V,"zm-item-answer-creator")),this.Df.innerHTML=a.join("")))};
z.e.OH=function(){var a=(0,window.$)(this.h);a.hide("fast",function(){a.remove()});this.H()};
z.e.hp=function(a){var b=this.Jg(a.target),c=b&&b.name;if(c)switch(c){case "addcomment":this.Vx();this.qa&&this.qa.$c()&&this.qa.Ki("view_comments",(0,window.parseInt)(z.pf(b),10)||0);break;case "remove":this.ls();break;case "thanks":z.X.ya({type:"ga_click_thank_answer",target:b});this.us();break;case "comment_opt":this.ow||oA(this);break;case "admin":dA(this);break;case "nohelp":this.vF(a);break;case "favo":z.X.ya({type:"ga_click_collect_answer_box",target:b}),this.vj()}};
z.e.JO=function(){(new z.ax("answer",this.oa)).eJ()};z.e.vF=Wz(function(a){a=a.target;var b=!!a.m;z.X.ya({type:"ga_click_answer_not_helpful",target:b?a.m():a});this.Kw&&"pending"===this.Kw.state()&&this.Kw.abort();var c,d;d=b?a.Kg():a.innerHTML;d=(c=-1<d.indexOf("\u64a4\u9500"))?"\u6ca1\u6709\u5e2e\u52a9":"\u64a4\u9500\u6ca1\u6709\u5e2e\u52a9";b?a.zm(d):a.innerHTML=d;c=c?"/answer/helpful":"/answer/not_helpful";b||z.cn(a);this.Kw=window.$.post(c,{aid:this.oa})},{Ga:"question_answer_not_helpful",kd:!0});
z.e.MO=function(){iB?z.eu.show():ay(this.lb)};z.e.vj=Wz(function(){var a=z.Fy.U();z.Iy(a,this.oa);a.show()},{Ga:"question_answer_collect",kd:!0});z.e.oM=function(){this.qa||z.cA(this);this.qa.kg();(0,window.$)(this.ti).toggleClass("focusin",this.qa.$c())};z.e.Vx=Wz(z.Uz.prototype.oM,function(){return{Ga:"\u6dfb\u52a0\u8bc4\u8bba"===window.$.trim((0,window.$)(z.M("toggle-comment",this.h)).text())?"question_answer_add_comment_start":!1}});
z.e.hs=Wz(function(a){this.qa&&this.qa.$c()?this.qa.Aa.focus():this.Vx();a.preventDefault()},{Ga:"question_answer_add_comment_start"});
z.e.us=Wz(function(){var a=(0,window.$)("a[name\x3dthanks]",this.ti)[0];a&&!z.S.has(a,"disabled")&&(!0===window.$.parseJSON(a.getAttribute("data-thanked"))?(z.Vm(a,"\u611f\u8c22"),a.setAttribute("data-thanked",!1),window.$.post("/answer/cancel_thanks",{aid:this.oa})):(z.Vm(a,"\u53d6\u6d88\u611f\u8c22"),a.setAttribute("data-thanked",!0),window.$.post("/answer/thanks",{aid:this.oa})),z.cn(a))},{Ga:"question_answer_thank"});
z.e.RA=function(a){gz.RA(this.oa,a);(0,window.$)(".copyright",this.Qb).text(a?"\u4f5c\u8005\u4fdd\u7559\u6743\u5229":"\u7981\u6b62\u8f6c\u8f7d").attr("href",a?"/terms#sec-licence-1":"/terms#sec-licence-6")};z.e.SN=function(a){var b=a.target;a=b.W();"\u7981\u6b62\u8f6c\u8f7d"===a?this.RA(!b.Ug()):"\u5220\u9664"===a?this.ls():a in pA&&window.$.post("/answer/comment_permission",{answer_id:this.oa,permission:a}).done((0,z.r)(function(a){a&&!a.r&&z.y.forEach(this.pw,function(a){a.vf(a===b)})},this))};
z.e.ls=function(){z.Bi("\u4f60\u786e\u5b9a\u8981\u5220\u9664\u81ea\u5df1\u7684\u7b54\u6848\u5417\uff1f","\u7b54\u6848\u5185\u5bb9\u4e0d\u4f1a\u88ab\u6c38\u4e45\u5220\u9664\uff0c\u4f60\u8fd8\u53ef\u4ee5\u64a4\u6d88\u672c\u6b21\u5220\u9664\u64cd\u4f5c\u3002",function(a){a&&(this.oi=!0,this.status=-1,z.qA(this))},this)};z.e.m=function(){return this.h};z.w(rA,z.iy);rA.prototype.Rj="question_link";rA.prototype.ps=function(){var a=this.Rr["question-id"];this.dispatchEvent({type:"ignore",key:"question-id",value:a});window.$.post("/question/uninterest",{qid:a})};z.w(sA,rA);sA.prototype.D=function(){sA.o.D.call(this);tA(this)};sA.prototype.re=function(){sA.o.re.call(this);z.Um(z.Um(this.Qd.register("c",this.aq,this),{group:"\u64cd\u4f5c",name:"\u6253\u5f00\u8bc4\u8bba"}).register("shift+c",this.$x,this),{group:"\u64cd\u4f5c",name:"\u5b9a\u4f4d\u5230\u8bc4\u8bba\u6846"})};
z.w(z.vA,rA);z.vA.prototype.D=function(){z.vA.o.D.call(this);this.Jv=wA(this.h);this.Ty="1"===this.Jv.getAttribute("data-isowner");this.tr="1"===this.Jv.getAttribute("data-copyable");this.Ns();this.g("collapse",(0,z.r)(function(a){a.target===a.currentTarget&&xA(this,!1)},this))};
z.vA.prototype.Ns=function(){var a=new z.Uz({la:this.Rr["question-id"],oa:this.Lb,yr:{lb:this.Rr["question-url-token"]},Nj:!0});Zz(a,z.M("zm-item-meta",this.h));this.L(a);a.w(this.Jv);this.g("expandRequest",(0,z.r)(this.expand,this));this.g("expand",function(b){b.target===b.currentTarget&&(a.expand(),a.Kp(!0))});this.g("collapse",function(b){b.target===b.currentTarget&&(a.collapse(),a.Kp(!1))})};
z.vA.prototype.re=function(){z.vA.o.re.call(this);z.Um(this.Qd.register("o",this.kg,this),{group:"\u64cd\u4f5c",name:"\u663e\u793a\u5168\u90e8/\u6536\u8d77"})};z.vA.prototype.kn=function(){z.vA.o.kn.call(this,{"a[name\x3dexpandQuestionDetail]":function(){xA(this,!0)}})};z.w(yA,z.iy);yA.prototype.D=function(){yA.o.D.call(this);var a=z.M("column",this.h);z.Tu(a,this.Wj,this)};yA.prototype.Wj=function(){(0,z.uA)("column",this.Hg,"touch")};z.w(zA,z.iy);z.e=zA.prototype;z.e.Rj="post-link";z.e.D=function(){zA.o.D.call(this);AA(this);var a=z.M("zm-votebar",this.h);a&&(this.rb=new z.Ry(this.Lb,this.entryType),z.dc(this,this.rb),this.rb.w(a),(a=z.M("votenum-mobile",this.h))&&(new z.Sz(this.rb)).w(a));BA(this);this.Hj();var a=(0,window.$)(".post-content",this.h),b=a.data("entryUrl"),c=a.data("authorName");z.vz(a,b,c);this.g("expand",(0,z.r)(this.Kp,this,!0));this.g("collapse",(0,z.r)(this.Kp,this,!1))};
z.e.Kp=function(a){var b=this.Ij();b&&z.$o(b,a)};z.e.Ij=function(){if(this.Dh)return this.Dh;var a=!z.zi,b=z.M("zm-editable-content",this.h),c=this.rb&&this.rb.m();a&&c&&(0,window.$)(c).is(":visible")&&b&&230<(0,window.$)(b).height()&&(a=this.Dh=new z.ep(null,b),this.L(a),a.tag="votebar",a.cA=50,a.w(c))};z.e.Hj=function(){var a=(0,window.$)("a[name\x3dshare]",this.h).get(0),b=(0,window.$)(".post-link",this.h).get(0);a&&b&&z.Zx(a,"post",this.Hg,b.href)};
z.e.ps=function(){(0,window.$)(".feed-hide-options",this.h).show().siblings().hide();window.$.post(z.bz("/post/uninterest"),{id:this.Lb})};z.e.KF=function(){(0,window.$)(".feed-hide-options",this.h).hide().siblings().show();window.$.post(z.bz("/post/undo_uninterest"),{id:this.Lb})};z.e.AF=function(a){a=(0,window.$)(a.currentTarget);var b=a.data();z.Bi(a.attr("title"),z.bz("\u786e\u5b9a%s\u5417\uff1f",a.text()),function(a){a&&(this.BF(),window.$.post(z.bz("/%s/uninterest",b.type),{id:b.id}))},this)};
z.e.re=function(){zA.o.re.call(this);z.Um(this.Qd.register("v",function(){this.rb&&this.rb.Hu()},this),{group:"\u64cd\u4f5c",name:"\u8d5e\u540c"});z.Um(this.Qd.register("d",function(){this.rb&&this.rb.Gu()},this),{group:"\u64cd\u4f5c",name:"\u53cd\u5bf9"});z.Um(z.Um(z.Um(this.Qd.register("o",this.kg,this),{group:"\u64cd\u4f5c",name:"\u663e\u793a\u5168\u90e8/\u6536\u8d77"}).register("c",this.aq,this),{group:"\u64cd\u4f5c",name:"\u6253\u5f00\u8bc4\u8bba"}).register("shift+c",this.$x,this),{group:"\u64cd\u4f5c",
name:"\u5b9a\u4f4d\u5230\u8bc4\u8bba\u6846"})};z.w(CA,z.iy);z.e=CA.prototype;z.e.D=function(){CA.o.D.call(this);this.zo()};z.e.Rj="roundtable_link";z.e.ps=function(){window.$.post("/roundtable/"+this.Hg,{action:"mute"});this.dispatchEvent({type:"ignore",key:"roundtable-id",value:this.Lb})};z.e.zo=function(){z.Tu(this.h,this.Wj,this)};z.e.Wj=function(){(0,z.uA)("roundtable",this.Hg,"touch")};z.w(EA,z.gm);EA.prototype.B=function(){EA.o.B.call(this);this.ha(kB)};EA.prototype.D=function(){EA.o.D.call(this);this.Gb()};
EA.prototype.Gb=function(){var a=(0,window.$)("form",this.sb);this.Ge(a,this.hk);(0,window.$)('input[name\x3d"phone_num"]',a).val(this.Xt.phone_num);var b=(0,window.$)(".send-code",a),c=(0,window.$)('input[name\x3d"phone_num"]',a);z.jm(this,b,function(){var b=c.val(),f=this;window.$.get("/send_register_verification_code/sms",window.$.param({phone_num:b}),function(b){b.r&&(b=b.data,f.ob(b,"account","phone_num"),a.data("validator").showErrors(b))})})};
EA.prototype.hk=function(a){var b=this,c=(0,window.$)(a);a=window.$.extend({},this.Xt,c.Od());return window.$.post("/register/phone_num",a,function(a){a.r?(a=a.data,b.ob(a,"account","phone_num"),c.data("validator").showErrors(a)):(b.Sa({Cc:!0,category:"sign_up",action:"sign_up_success_phone"}),b.ad())})};var kB='\x3cdiv class\x3d"title verification"\x3e\x3ch1\x3e\u9a8c\u8bc1\u624b\u673a\x3c/h1\x3e\x3ch2\x3e\u8bf7\u8f93\u5165\u4f60\u6536\u5230\u7684 6 \u4f4d\u6570\u77ed\u4fe1\u9a8c\u8bc1\u7801\x3c/h2\x3e\x3c/div\x3e\x3cdiv class\x3d"view verification"\x3e\x3cform\x3e\x3cdiv class\x3d"input-wrapper"\x3e\x3cinput type\x3d"text" name\x3d"phone_num" placeholder\x3d"\u624b\u673a\u53f7" required\x3e\x3c/div\x3e\x3cdiv class\x3d"input-wrapper verification-code"\x3e\x3cinput type\x3d"text" name\x3d"verification_code" placeholder\x3d"6 \u4f4d\u6570\u9a8c\u8bc1\u7801" maxlength\x3d"6" required\x3e\x3cbutton type\x3d"button" class\x3d"send-code"\x3e\u91cd\u53d1\u9a8c\u8bc1\u7801\x3c/button\x3e\x3c/div\x3e\x3cbutton class\x3d"submit blue-button"\x3e\u8fdb\u5165\u77e5\u4e4e\x3c/button\x3e\x3c/form\x3e\x3c/div\x3e';z.w(FA,z.Q);z.e=FA.prototype;z.e.aQ=z.S.has(window.document.body,"page-index-legacy");z.e.hQ=z.S.has(window.document.body,"page-index-simple");z.e.VP=z.S.has(window.document.body,"page-index-custom");z.e.iQ=z.S.has(window.document.body,"theme-simple");z.e.init=function(){this.w(window.document.body)};
z.e.D=function(a){FA.o.D.call(this,a);if(this.aQ)IA(),MA(),this.zo(),z.zi||(a=NA(),a.start(),z.ec(this,a.stop));else if(this.hQ)HA();else if(this.VP){IA();this.Ey();if(a=(0,window.$)(".index-searchform"))a=(0,window.$)(".query",a)[0],(new z.Jr).w(a);LA()}};
z.e.Ey=function(){var a=(0,window.$)(".index-feeds");if(a.length){var b=a[0],c=!!b.getAttribute("data-infinite"),d=new z.dz({use:[],ig:c});d.use("childConstructor",{factory:z.DA});d.use("autoload",{Mv:!1});d.use("nodeSource");this.L(d);d.w(b);var f=function(a){var b=new z.H;b.g("trackRequested",function(b){b.label="feed_more";"switch_to_sign_in_box_appear"===b.action&&(b.value=a);GA(b)});var c=new z.tm;c.Ec="feed_more";c.wf(b);c.G(!0)};(0,window.$)(".index-guide-feeds-bottom .js-open-signup-dialog").click(function(){f(0)});
a.on("click",".js-open-signup-dialog",function(){var a=(0,window.$)(this).closest(".feed-item").index();f(a+1)});d.g("expand",function(a){a.target instanceof z.iy&&(a=(0,window.$)(a.target.m()).closest(".feed-item").index(),GA({category:"view_answer",action:"click_expand_answer",label:"feed_expand_answer",value:a+1}))});var g=z.ui(function(){h.addClass("index-guide-mask-show");var a=(0,window.$)("#index-guide-sign-flow-tmpl").html(),a=(0,window.$)(a).appendTo("#index-guide-sign-flow-holder"),b=new KA(!0);
b.w(a[0]);b.g("trackRequested",function(a){a.label="feed_bottom";GA(a)});var c=(0,window.$)(".index-guide-mask"),f=d.eb()[15];z.Tu(c[0],function(){GA({category:"sign_up",action:"popup_sign_up_box_appear",label:"feed_bottom"})});var g=(0,window.$)(".main-sidebar-inner");(0,window.$)(window).on("scroll",function(){c.toggleClass("sticky",0>=f.getBoundingClientRect().top);c.hasClass("sticky")?c.css("top",""):c.css("top",f.offsetTop);var a=g[0];if(50>c[0].getBoundingClientRect().top-a.clientHeight){var b=
g.data("relativeTop");b||(b=z.jh(a,a.parentNode).y,g.addClass("leave-sticky").css("top",b).data("relativeTop",b))}else g.removeClass("leave-sticky").css("top","").data("relativeTop","")})}),h=(0,window.$)(".page-index-custom-main"),a=function(){15<=d.eb().length&&g()};c&&(d.on("next",a),a())}};
z.e.zo=function(){window.$.each({".app-link.ios":["click_zhihu_ios_dl_link","homepage_not_logged_in"],".app-link.android":["click_zhihu_android_dl_link","homepage_not_logged_in"],'a.app-download-button[href^\x3d"http://itunes"]':["click_zhihu_ios_dl_link","homepage_mobile_big_not_logged_in"],'a.app-download-button[href^\x3d"https://play.google.com"]':["click_zhihu_android_dl_link","homepage_mobile_big_not_logged_in"]},function(a,b){(0,window.$)(a).on("click",function(){z.W.apply(null,["app-promotion"].concat(b))})})};
z.w(KA,z.Q);z.e=KA.prototype;z.e.D=function(){KA.o.D.call(this);SA(this)};z.e.Sa=function(a){this.dispatchEvent(window.$.extend({type:"trackRequested"},a))};z.e.Cy=function(){var a=(0,window.$)('input[name\x3d"account"]',this.tc).get(0);new z.Yl(a,{kh:a.parentNode})};
z.e.Nz=function(a){var b=this,c=(0,window.$)(a);a=c.Od();var d=this.Zc(a.account);b.Sa({category:"sign_in",action:a.account?"click_sign_in_submit_"+(d?"email":"phone"):"click_sign_in_submit_no_channel"});var f=d?"/login/email":"/login/phone_num";d?a.email=a.account:a.phone_num=a.account;delete a.account;return window.$.post(f,a,function(a){a.r?(c.data("validator").showErrors(a.data),z.xk(b.ot)):(b.Sa({Cc:!0,category:"sign_in",action:"sign_in_success_"+(d?"email":"phone")}),b.ad())})};
z.e.hk=function(a){var b=this;a=(0,window.$)(a);var c=a.Od(),d=this.Zc(c.account);b.Sa({Cc:!0,category:"sign_up",action:"sign_up_front_end_pass_"+(d?"email":"phone")});var f=d?"/register/email":"/register/phone_num/validation";d?c.email=c.account:c.phone_num=c.account;delete c.account;var g=this.Qm.stop();c.userInfo=JSON.stringify(g);var h=a.data("validator");return d?window.$.post(f,c,function(a){a&&a.r?(z.xk(b.pp),h.showErrors(a.data)):(b.Sa({Cc:!0,category:"sign_up",action:"sign_up_success_email"}),
b.ad())}):window.$.post(f,c,function(a){a.r?(z.xk(b.pp),h.showErrors(a.data)):(a=new EA(c),a.wf(b),a.G(!0),window.$.get("/send_register_verification_code/sms",{phone_num:c.phone_num}))})};z.e.hj=function(){if(!z.Sl){var a=this.m();(0,window.setTimeout)(function(){(0,window.$)("input[placeholder]:visible",a).placeholder()},10)}};
z.e.JG={onkeyup:!1,onfocusout:!1,validClass:"",focusInvalid:!1,highlight:z.m,messages:{fullname:{required:"\u8bf7\u586b\u5199\u59d3\u540d"},account:{required:"\u8bf7\u586b\u5199\u624b\u673a\u53f7\u6216\u90ae\u7bb1"},password:{required:"\u8bf7\u586b\u5199\u5bc6\u7801"},captcha:{required:"\u8bf7\u586b\u5199\u9a8c\u8bc1\u7801"}},showErrors:function(a,b){if(b.length){b.sort(function(a,b){var c=["fullname","account","password","captcha"],d=z.y.indexOf(c,a.element.name),c=z.y.indexOf(c,b.element.name);
return d>c});var c=(0,window.$)(".failure",this.currentForm).show(),d=(0,window.$)(".failure ul",this.currentForm).empty();window.$.each(b,function(a,b){var h=(0,window.$)(b.element),l=(0,window.$)('\x3cli\x3e\x3ci class\x3d"icon-sign icon-sign-error"\x3e\x3c/i\x3e'+b.message+"\x3c/li\x3e").appendTo(d),n=(0,window.$)('\x3cspan class\x3d"switch-to-login"\x3e \u00b7 \u76f4\u63a5\u767b\u5f55\x3c/span\x3e');"\u8be5\u90ae\u7bb1\u5df2\u6ce8\u518c"===b.message||"\u8be5\u624b\u673a\u53f7\u5df2\u6ce8\u518c"===
b.message?n.appendTo(l):l.click(function(){h.focus()});h.one("focus",function(){l.remove();d.is(":empty")&&c.hide()})})}}};z.e.to=function(){z.vk(this.v(),this.bR)};z.e.bR=function(a){a=a.sf;var b={qqconn:"qq",wechat:"wechat",sina:"weibo"}[a.type];1===a.login?(this.Sa({Cc:!0,category:"sign_in",action:"sign_in_success_"+b}),this.ad()):(a=new z.om(a),a.wf(this),a.G(!0))};z.e.Zc=function(a){return!/^\+?[0-9]+$/.test(a)};
z.e.ad=function(){var a=(new z.Wk(window.location.href)).od().get("next");a?window.location.href=a:window.location.reload()};z.sa("ZH.entrySignPage",function(){(new FA).init()});z.og("sign");}).call(this, __z_z__);
//@ sourceURL=module_sign.js